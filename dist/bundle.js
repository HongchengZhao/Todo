!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.selected={year:0,month:0,day:0},this.el=e,this.calendarIndicator=document.createElement("div"),this.calendarIndicator.classList.add("calendar-indicator"),this.renderIndicator(),this.calendarHead=document.createElement("div"),this.calendarHead.classList.add("calendar-head"),this.renderHead(),this.calendarBody=document.createElement("div"),this.calendarBody.classList.add("calendar-body");var t=new Date;this.month=t.getMonth()+1,this.year=t.getFullYear(),this.renderBody(this.month,this.year),this.selected.day=t.getDate(),this.selected.month=this.month,this.selected.year=this.year,this.el.append(this.calendarIndicator,this.calendarHead,this.calendarBody)}return e.prototype.renderIndicator=function(){var e=this,t=document.createElement("div");t.innerText="❮",t.classList.add("prev-month");var n=document.createElement("h3");n.classList.add("current-month");var i=document.createElement("div");i.classList.add("next-month"),i.innerText="❯",this.calendarIndicator.append(t,n,i),this.calendarIndicator.addEventListener("click",function(t){var n=t.target;n.classList.contains("prev-month")?(0==--e.month&&(e.month=12,e.year-=1),e.renderBody(e.month,e.year)):n.classList.contains("next-month")&&(13==++e.month&&(e.month=1,e.year+=1),e.renderBody(e.month,e.year))})},e.prototype.renderHead=function(){var e,t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){var t=document.createElement("div");return t.classList.add("weekday"),t.innerText=e,t});(e=this.calendarHead).append.apply(e,t)},e.prototype.renderBody=function(t,n){for(var i,r=this;this.calendarBody.firstChild;)this.calendarBody.removeChild(this.calendarBody.firstChild);this.calendarIndicator.getElementsByClassName("current-month")[0].innerHTML=e.months[t-1]+" "+n;for(var a=this.daysInMonth(t,n),s=[],o=0;o<a;++o){(u=document.createElement("div")).classList.add("cell-day","this-month"),u.innerText=""+(o+1),s.push(u)}var d=new Date;this.year===d.getFullYear()&&this.month===d.getMonth()+1&&s[d.getDate()-1].classList.add("selected");for(var c=new Date(n,t,1).getUTCDay()||7,l=1;l<c;++l){var u;(u=document.createElement("div")).classList.add("cell-day"),s.unshift(u)}(i=this.calendarBody).append.apply(i,s),this.calendarBody.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("this-month")){var n=r.calendarBody.getElementsByClassName("selected")[0];n&&n.classList.remove("selected"),t.classList.add("selected"),r.selected.day=parseInt(t.innerText),r.selected.month=r.month,r.selected.year=r.year}})},e.prototype.daysInMonth=function(e,t){return new Date(t,e,0).getDate()},e.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.timePicker=e,this.hourPicker=document.createElement("select"),this.hourPicker.classList.add("hour-picker"),this.renderHourPicker(),this.minutePicker=document.createElement("select"),this.minutePicker.classList.add("minute-picker"),this.renderMinutePicker();var t=document.createTextNode(":");this.timePicker.append(this.hourPicker,t,this.minutePicker)}return e.prototype.renderHourPicker=function(){for(var e,t=[],n=0;n<24;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.hourPicker).append.apply(e,t)},e.prototype.renderMinutePicker=function(){for(var e,t=[],n=0;n<60;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.minutePicker).append.apply(e,t)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(3),a=n(0),s=n(4),o=n(8),d=n(7),c=function(){function e(){this.curTodoId="",this.filter="ALL";var e=localStorage.getItem("todolist");this.list=e?JSON.parse(e):[],this.editor=new r.default(this.list),this.todoList=new s.default(this.list,this.editor,document.getElementById("todo-list"),document.getElementById("new-todo"));var t=new a.default(document.getElementById("calendar"));this.calendarTodoList=new d.default(this.list,this.editor,t,document.getElementById("todolist-by-day")),this.searchResult=new o.default(this.list,this.editor,document.getElementById("result-list"),document.getElementById("search-todo")),this.init()}return e.prototype.init=function(){var e=this;this.configRoutes(),document.getElementById("complete-all").addEventListener("click",function(){e.list.forEach(function(e){return e.status=i.Status.COMPLETED}),e.todoList.render(e.filter)}),document.getElementById("uncomplete-all").addEventListener("click",function(){e.list.forEach(function(e){return e.status=i.Status.ACTIVE}),e.todoList.render(e.filter)}),document.getElementById("remove-all-completed").addEventListener("click",function(){var t,n=e.list.reduce(function(e,t){return t.status===i.Status.ACTIVE&&e.push(t),e},[]);e.list.splice(0,e.list.length),(t=e.list).push.apply(t,n),e.todoList.render(e.filter)}),document.getElementById("filters").addEventListener("change",function(t){var n=t.target,i=document.querySelector(".filter.selected");i&&i.classList.remove("selected"),n.parentElement.classList.add("selected"),"filter"===n.name&&(document.getElementById("filter-options").checked=!1,e.filter=n.value,e.todoList.render(e.filter))}),window.addEventListener("click",function(e){var t=e.target;"filter-options"!==t.id&&(document.getElementById("filter-options").checked=!1),"operations-control"!==t.id&&(document.getElementById("operations-control").checked=!1)})},e.prototype.configRoutes=function(){var e=this,t=document.getElementById("route-tasks"),n=document.getElementById("route-calendar"),i=document.getElementById("tasks"),r=document.getElementById("schedule");t.addEventListener("click",function(r){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),i.classList.add("current-sec"),n.classList.remove("nav-active"),t.classList.add("nav-active"),e.todoList.render(),e.editor.el.classList.remove("show")}),n.addEventListener("click",function(i){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),r.classList.add("current-sec"),t.classList.remove("nav-active"),n.classList.add("nav-active"),e.calendarTodoList.render(),e.editor.el.classList.remove("show")})},e}();window.addEventListener("load",function(){var e=new c;window.addEventListener("beforeunload",function(){localStorage.setItem("todolist",JSON.stringify(e.todoList.list))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(1),a=function(){function e(e){this.curTodoId="",this.list=e,this.el=document.getElementById("details"),this.editorClosed=new Event("editorClosed"),this.duedatePicker=new i.default(document.getElementById("due-date-picker")),this.alarmDatePicker=new i.default(document.getElementById("alarm-picker")),this.alarmTimePicker=new r.default(document.getElementById("time-picker")),this.handleClick=this.handleClick.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.el.addEventListener("click",this.handleClick);var t=document.getElementById("edit-todo-title");t&&t.addEventListener("blur",function(n){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.title=t.value)});var n=document.getElementById("todo-details");n&&n.addEventListener("blur",function(t){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.detail=n.value)})},e.prototype.open=function(e){this.curTodoId=e;var t=this.list.find(function(t){return t.id===e});if(t){var n=this.el.querySelector("input[name=todo-title]");n&&(n.value=t.title);var i=this.el.querySelector("label[for=due-date-control]");if(t.dueDate){var r=new Date(t.dueDate.toString());i.innerText="Due on "+r.toDateString()}var a=this.el.querySelector("label[for=alarm-control]");if(t.reminderTime){var s=new Date(t.reminderTime.toString());a.innerHTML="<span>Remind me at "+s.toLocaleTimeString()+"</span><span>On "+s.toDateString()+"</span>"}var o=document.getElementById("todo-details");t.detail&&(o.value=t.detail)}this.el.classList.add("show")},e.prototype.close=function(){this.el.classList.remove("show"),this.el.dispatchEvent(this.editorClosed)},e.prototype.handleClick=function(e){for(var t=this,n=0,i=e.composedPath();n<i.length;n++){var r=i[n];if(r.classList&&r.classList.contains("close-editor")){this.close();break}if(r.classList&&r.classList.contains("due-date-save")){var a=this.el.querySelector("label[for=due-date-control]"),s=this.duedatePicker.selected,o=s.year,d=s.month,c=s.day,l=new Date(o,d-1,c);a.innerText="Due on "+l.toDateString(),(m=this.list.find(function(e){return e.id===t.curTodoId}))&&(m.dueDate=l);break}if(r.classList&&r.classList.contains("due-date-cancel")){var u=document.getElementById("due-date-control");u&&(u.checked=!1);break}if(r.classList&&r.classList.contains("reminder-save")){var h=this.el.querySelector("label[for=alarm-control]"),f=this.alarmDatePicker.selected;o=f.year,d=f.month,c=f.day;if(0===o)break;var m,p=parseInt(this.alarmTimePicker.hourPicker.value),v=parseInt(this.alarmTimePicker.minutePicker.value);l=new Date(o,d-1,c,p,v);h.innerHTML="<span>Remind me at "+l.toLocaleTimeString()+"</span> \n                <span>On "+l.toDateString()+"</span>",(m=this.list.find(function(e){return e.id===t.curTodoId}))&&(m.reminderTime=l);break}if(r.classList&&r.classList.contains("reminder-cancel")){var y=document.getElementById("alarm-control");y&&(y.checked=!1);break}}},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(6),a=function(){function e(e,t,n,i){this.curTodoId="",this.swipedLeft=null,this.newTodo=null,this.list=e,this.editor=t,this.el=n,this.render=this.render.bind(this),i&&(this.newTodo=i),this.handleClick=this.handleClick.bind(this),this.handleChange=this.handleChange.bind(this),this.handleSwipeLeft=this.handleSwipeLeft.bind(this),this.handleNewTodo=this.handleNewTodo.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.render(),this.el.addEventListener("click",this.handleClick),this.el.addEventListener("change",this.handleChange),r.listenToSwipe("left",this.el,this.handleSwipeLeft),this.editor.el.addEventListener("editorClosed",function(t){e.render()}),this.newTodo&&(this.newTodo.addEventListener("keypress",function(t){return"Enter"===t.key&&e.handleNewTodo()}),this.newTodo.nextElementSibling.addEventListener("click",this.handleNewTodo)),window.addEventListener("click",function(t){e.swipedLeft&&(e.swipedLeft.hidden=!0)})},e.prototype.render=function(e){var t,n=this;void 0===e&&(e="ALL"),this.checkDueDate();var a="ALL"===e?this.list:this.list.filter(function(t){return i.Status[t.status]===e});r.removeAllChildren(this.el),(t=this.el).append.apply(t,a.map(function(e){return n.createTodoItem(e)}))},e.prototype.createTodoItem=function(e){var t=document.createElement("li");t.classList.add("todo-item",e.status===i.Status.ACTIVE?"todo-active":"todo-completed"),e.pinned&&t.classList.add("pinned"),t.dataset.id=e.id;var n=document.createElement("input");n.type="checkbox",n.checked=e.status===i.Status.COMPLETED,n.classList.add("toggle-status");var r=document.createElement("div");r.classList.add("todo-info"),r.innerText=e.title;var a=document.createElement("div");a.classList.add("todo-actions"),a.hidden=!0;var s=document.createElement("button");s.classList.add("pin-button"),s.innerHTML='<i class="material-icons">vertical_align_top</i>';var o=document.createElement("button");o.classList.add("edit-button"),o.innerHTML='<i class="material-icons">edit</i>';var d=document.createElement("button");return d.classList.add("del-button"),d.innerHTML='<i class="material-icons">delete_forever</i>',a.append(s,o,d),t.append(n,r,a),t},e.prototype.handleClick=function(e){for(var t=function(e){var t;if(e.classList&&e.classList.contains("del-button")){var i=e.parentElement.parentElement;return n.list.splice(n.list.findIndex(function(e){return e.id===i.dataset.id}),1),i.remove(),"break"}if(e.classList&&e.classList.contains("edit-button")){var r=e.parentElement.parentElement;return n.curTodoId=r.dataset.id||"",n.editor.open(n.curTodoId),"break"}if(e.classList&&e.classList.contains("pin-button")){var a=e.parentElement.parentElement,s=n.list.splice(n.list.findIndex(function(e){return e.id===a.dataset.id}),1);s[0].pinned=!0,(t=n.list).unshift.apply(t,s);var o=document.getElementsByClassName("pinned");if(o.length){o[0].classList.remove("pinned");var d=n.list.find(function(e){return e.id===o[0].dataset.id});d&&(d.pinned=!1)}a.classList.add("pinned"),n.el.insertBefore(a,n.el.firstElementChild)}},n=this,i=0,r=e.composedPath();i<r.length;i++){if("break"===t(r[i]))break}},e.prototype.handleChange=function(e){var t=e.target.parentElement;if(t&&t.classList.contains("todo-item")){var n=this.list.find(function(e){return e.id===t.getAttribute("data-id")});n&&(n.status=n.status===i.Status.ACTIVE?i.Status.COMPLETED:i.Status.ACTIVE,t.classList.toggle("todo-completed"))}},e.prototype.handleSwipeLeft=function(e){for(var t=0,n=e.composedPath();t<n.length;t++){var i=n[t];if(i.classList&&i.classList.contains("todo-item")){this.swipedLeft&&(this.swipedLeft.hidden=!0),this.swipedLeft=i.getElementsByClassName("todo-actions")[0],this.swipedLeft.hidden=!1;break}}},e.prototype.handleNewTodo=function(){if(this.newTodo){var e=this.newTodo.value.trim();if(""===e)return;var t=new i.Todo(e);this.list.unshift(t),this.el.insertBefore(this.createTodoItem(t),this.el.firstElementChild),this.newTodo.value=""}},e.prototype.checkDueDate=function(){var e=new Date;this.list.forEach(function(t){if(t.dueDate){var n=new Date(t.dueDate.toString()),r=e.getFullYear()>=n.getFullYear()&&e.getMonth()>=n.getMonth()&&e.getDate()>n.getDate();t.status=r?i.Status.COMPLETED:t.status}})},e}();t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.COMPLETED=1]="COMPLETED"}(i||(i={})),t.Status=i;var r=function(){return function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.id=Date.now()+Math.random().toString(36).substring(2),this.pinned=!1,this.title=e,this.dueDate=t,this.reminderTime=n,this.detail="",this.status=i.ACTIVE}}();t.Todo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.listenToSwipe=function(e,t,n){var i={x:0,y:0};t.addEventListener("touchstart",function(e){i.x=e.touches[0].clientX,i.y=e.touches[0].clientY}),t.addEventListener("touchend",function(t){var r=t.changedTouches[0].clientX-i.x,a=t.changedTouches[0].clientY-i.y;switch(e){case"left":r<0&&Math.abs(r)>30&&Math.abs(a)<20&&n(t)}})},t.delegate=function(e,t,n,i){e.addEventListener(n,function(e){for(var n=0,r=e.composedPath();n<r.length;n++)if(r[n]===t){i.call(t,e);break}})}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){function t(t,n,i,r){var a=e.call(this,t,n,r)||this;return a.calendar=i,a.handleDayChange=a.handleDayChange.bind(a),a.calendar.el.addEventListener("click",a.handleDayChange),a.render(),a}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.calendar){this.checkDueDate(),a.removeAllChildren(this.el);var n=this.list.filter(function(e){if(!e.dueDate)return!1;var n=new Date(e.dueDate.toString()),i=t.calendar.selected,r=i.year,a=i.month,s=i.day;return n.getFullYear()===r&&n.getMonth()+1===a&&n.getDate()===s});(e=this.el).append.apply(e,n.map(function(e){return t.createTodoItem(e)}))}},t.prototype.handleDayChange=function(e){var t=e.target;t&&t.classList.contains("this-month")&&this.render()},t}(n(4).default);t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){function t(t,n,i,r){var a=e.call(this,t,n,i)||this;return a.searchEl=r,a.secEl=document.getElementsByClassName("search-sec")[0],a.titleEl=document.querySelector(".searching>span"),a.render=a.render.bind(a),a.searchEl.addEventListener("keyup",function(){a.secEl.style.order="-2",a.render()}),window.addEventListener("click",function(e){e.target!==a.secEl&&(a.secEl.style.order="0")}),a.render(),a}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.searchEl){this.checkDueDate(),a.removeAllChildren(this.el);var n=this.searchEl.value;this.titleEl.innerText=n;var i=this.list.filter(function(e){return e.title.includes(n)});(e=this.el).append.apply(e,i.map(function(e){return t.createTodoItem(e)}))}},t}(n(4).default);t.default=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLnRzIiwid2VicGFjazovLy8uL3NyYy90aW1lcGlja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RvZG8tZWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy90b2RvLWxpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FsZW5kYXItdG9kby1saXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9zZWFyY2gtcmVzdWx0LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ2FsZW5kYXIiLCJjYWxlbmRhciIsInRoaXMiLCJzZWxlY3RlZCIsInllYXIiLCJtb250aCIsImRheSIsImVsIiwiY2FsZW5kYXJJbmRpY2F0b3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW5kZXJJbmRpY2F0b3IiLCJjYWxlbmRhckhlYWQiLCJyZW5kZXJIZWFkIiwiY2FsZW5kYXJCb2R5IiwidG9keSIsIkRhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwicmVuZGVyQm9keSIsImdldERhdGUiLCJhcHBlbmQiLCJfdGhpcyIsInByZXYiLCJpbm5lclRleHQiLCJjdXIiLCJuZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwidGFyZ2V0IiwiY29udGFpbnMiLCJoZWFkQ2hpbGRyZW4iLCJtYXAiLCJ3ZWVrZGF5IiwiX2EiLCJhcHBseSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpbm5lckhUTUwiLCJtb250aHMiLCJkYXlzIiwiZGF5c0luTW9udGgiLCJkYXlDZWxscyIsImRheUNlbGwiLCJwdXNoIiwidG9kYXkiLCJ3ZWVrZGF5T2ZGaXJzdERheSIsImdldFVUQ0RheSIsInVuc2hpZnQiLCJyZW1vdmUiLCJwYXJzZUludCIsImRlZmF1bHQiLCJUaW1lUGlja2VyIiwidGltZVBpY2tlciIsImhvdXJQaWNrZXIiLCJyZW5kZXJIb3VyUGlja2VyIiwibWludXRlUGlja2VyIiwicmVuZGVyTWludXRlUGlja2VyIiwidGV4dCIsImNyZWF0ZVRleHROb2RlIiwib3B0aW9ucyIsIm9wdGlvbiIsIm1vZGVsXzEiLCJ0b2RvX2VkaXRvcl8xIiwiY2FsZW5kYXJfMSIsInRvZG9fbGlzdF8xIiwic2VhcmNoX3Jlc3VsdF8xIiwiY2FsZW5kYXJfdG9kb19saXN0XzEiLCJBcHAiLCJjdXJUb2RvSWQiLCJmaWx0ZXIiLCJyZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGlzdCIsIkpTT04iLCJwYXJzZSIsImVkaXRvciIsInRvZG9MaXN0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYWxlbmRhclRvZG9MaXN0Iiwic2VhcmNoUmVzdWx0IiwiaW5pdCIsImNvbmZpZ1JvdXRlcyIsImZvckVhY2giLCJ0b2RvIiwic3RhdHVzIiwiU3RhdHVzIiwiQ09NUExFVEVEIiwicmVuZGVyIiwiQUNUSVZFIiwiYXRjaXZlSXRlbXMiLCJyZWR1Y2UiLCJzcGxpY2UiLCJsZW5ndGgiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50RWxlbWVudCIsImNoZWNrZWQiLCJ3aW5kb3ciLCJpZCIsInRhc2tzTmF2IiwiY2FsZW5kYXJOYXYiLCJ0YXNrc1NlYyIsInNjaGVkdWxlU2VjIiwiYXBwIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInRpbWVwaWNrZXJfMSIsIlRvZG9FZGl0b3IiLCJ0b2RvbGlzdCIsImVkaXRvckNsb3NlZCIsIkV2ZW50IiwiZHVlZGF0ZVBpY2tlciIsImFsYXJtRGF0ZVBpY2tlciIsImFsYXJtVGltZVBpY2tlciIsImhhbmRsZUNsaWNrIiwiZWRpdFRpdGxlIiwiZmluZCIsInRpdGxlIiwidG9kb0RldGFpbHMiLCJkZXRhaWwiLCJvcGVuIiwidG9kb0lkIiwiZHVlRGF0ZSIsImR1ZWRhdGUiLCJ0b1N0cmluZyIsInRvRGF0ZVN0cmluZyIsInJlbWluZGVyVGltZSIsInJlbWluZGVyIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiY2xvc2UiLCJkaXNwYXRjaEV2ZW50IiwiX2kiLCJjb21wb3NlZFBhdGgiLCJfYiIsImRhdGV0aW1lIiwiZHVlZGF0ZUNvbnRyb2wiLCJfYyIsImhvdXIiLCJtaW4iLCJhbGFybUNvbnRyb2wiLCJVdGlscyIsIlRvZG9MaXN0IiwibmV3VG9kbyIsInN3aXBlZExlZnQiLCJoYW5kbGVDaGFuZ2UiLCJoYW5kbGVTd2lwZUxlZnQiLCJoYW5kbGVOZXdUb2RvIiwibGlzdGVuVG9Td2lwZSIsIm5leHRFbGVtZW50U2libGluZyIsImhpZGRlbiIsImNoZWNrRHVlRGF0ZSIsInRvZG9zIiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJjcmVhdGVUb2RvSXRlbSIsImxpIiwicGlubmVkIiwiZGF0YXNldCIsImNoZWNrYm94IiwidHlwZSIsInRvZG9JbmZvIiwiYWN0aW9ucyIsInBpbkJ0biIsImVkaXRCdG4iLCJkZWxldGVCdG4iLCJsaV8xIiwidGhpc18xIiwiZmluZEluZGV4IiwibGlfMiIsImRlbGV0ZWQiLCJwaW5uZWRfMSIsInBpbm5lZFRvZG8iLCJpbnNlcnRCZWZvcmUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImdldEF0dHJpYnV0ZSIsInRvZ2dsZSIsInRyaW0iLCJUb2RvIiwiZmxhZyIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHJpbmciLCJkaXJlY3RvaW4iLCJsaXN0ZW5lciIsInN0YXJ0UG9zIiwieCIsInkiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJkaWZmWCIsImNoYW5nZWRUb3VjaGVzIiwiZGlmZlkiLCJhYnMiLCJkZWxlZ2F0ZSIsInNyYyIsImhhbmRsZXIiLCJDYWxlbmRlclRvZG9MaXN0IiwiX3N1cGVyIiwiaGFuZGxlRGF5Q2hhbmdlIiwiX19leHRlbmRzIiwibGlzdE9mRGF5IiwiU2VhcmNoUmVzdWx0Iiwic2VhcmNoRWwiLCJzZWNFbCIsInRpdGxlRWwiLCJzdHlsZSIsIm9yZGVyIiwia2V5d29yZCIsImluY2x1ZGVzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxT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LFdBY2IsT0FyQzJCZ0gsRUFBQUUsRUFBQUosR0EwQnZCSSxFQUFBbE4sVUFBQWdHLE9BQUEsaUJBQUFwRSxFQUFBdEIsS0FDSSxHQUFLQSxLQUFLNk0sU0FBVixDQUVBN00sS0FBS3dKLGVBRUxWLEVBQU1ZLGtCQUFrQjFKLEtBQUtLLElBQzdCLElBQU02TSxFQUFVbE4sS0FBSzZNLFNBQVM5TixNQUM5QmlCLEtBQUsrTSxRQUFRdkwsVUFBWTBMLEVBQ3pCLElBQU0xSSxFQUFNeEUsS0FBSzJFLEtBQUtKLE9BQU8sU0FBQWUsR0FBUSxPQUFBQSxFQUFLaUMsTUFBTTRGLFNBQVNELE1BQ3pEaEwsRUFBQWxDLEtBQUtLLElBQUdnQixPQUFNYyxNQUFBRCxFQUFJc0MsRUFBSXhDLElBQUksU0FBQXNELEdBQVEsT0FBQWhFLEVBQUtxSSxlQUFlckUsUUFFOURzSCxFQXJDQSxDQUZBbFAsRUFBQSxHQUUyQjBGLFNBdUMzQnhGLEVBQUF3RixRQUFld0oiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiY2xhc3MgQ2FsZW5kYXIge1xuICAgIGVsOiBIVE1MRWxlbWVudDtcbiAgICBjYWxlbmRhckluZGljYXRvcjogSFRNTEVsZW1lbnQ7XG4gICAgY2FsZW5kYXJIZWFkOiBIVE1MRWxlbWVudDtcbiAgICBjYWxlbmRhckJvZHk6IEhUTUxFbGVtZW50O1xuICAgIG1vbnRoOiBudW1iZXI7XG4gICAgeWVhcjogbnVtYmVyO1xuICAgIHNlbGVjdGVkID0ge1xuICAgICAgICB5ZWFyOiAwLFxuICAgICAgICBtb250aDogMCxcbiAgICAgICAgZGF5OiAwXG4gICAgfTtcbiAgICBzdGF0aWMgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4gICAgY29uc3RydWN0b3IoY2FsZW5kYXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWwgPSBjYWxlbmRhcjtcblxuICAgICAgICB0aGlzLmNhbGVuZGFySW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItaW5kaWNhdG9yJyk7XG4gICAgICAgIHRoaXMucmVuZGVySW5kaWNhdG9yKCk7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckhlYWQuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItaGVhZCcpO1xuICAgICAgICB0aGlzLnJlbmRlckhlYWQoKTtcblxuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJCb2R5LmNsYXNzTGlzdC5hZGQoJ2NhbGVuZGFyLWJvZHknKTtcbiAgICAgICAgY29uc3QgdG9keSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMubW9udGggPSB0b2R5LmdldE1vbnRoKCkgKyAxO1xuICAgICAgICB0aGlzLnllYXIgPSB0b2R5LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyQm9keSh0aGlzLm1vbnRoLCB0aGlzLnllYXIpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQuZGF5ID0gdG9keS5nZXREYXRlKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQubW9udGggPSB0aGlzLm1vbnRoO1xuICAgICAgICB0aGlzLnNlbGVjdGVkLnllYXIgPSB0aGlzLnllYXI7XG5cbiAgICAgICAgdGhpcy5lbC5hcHBlbmQodGhpcy5jYWxlbmRhckluZGljYXRvciwgdGhpcy5jYWxlbmRhckhlYWQsIHRoaXMuY2FsZW5kYXJCb2R5KTtcbiAgICB9XG5cbiAgICByZW5kZXJJbmRpY2F0b3IoKSB7XG4gICAgICAgIGNvbnN0IHByZXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcHJldi5pbm5lclRleHQgPSAn4p2uJztcbiAgICAgICAgcHJldi5jbGFzc0xpc3QuYWRkKCdwcmV2LW1vbnRoJyk7XG4gICAgICAgIGNvbnN0IGN1ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgIGN1ci5jbGFzc0xpc3QuYWRkKCdjdXJyZW50LW1vbnRoJyk7XG4gICAgICAgIGNvbnN0IG5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbmV4dC5jbGFzc0xpc3QuYWRkKCduZXh0LW1vbnRoJyk7XG4gICAgICAgIG5leHQuaW5uZXJUZXh0ID0gJ+Kdryc7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckluZGljYXRvci5hcHBlbmQocHJldiwgY3VyLCBuZXh0KTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFySW5kaWNhdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmV2LW1vbnRoJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoLS10aGlzLm1vbnRoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGggPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyIC09IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQm9keSh0aGlzLm1vbnRoLCB0aGlzLnllYXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXh0LW1vbnRoJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoKyt0aGlzLm1vbnRoID09PSAxMykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoID0gMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQm9keSh0aGlzLm1vbnRoLCB0aGlzLnllYXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXJIZWFkKCkge1xuICAgICAgICBjb25zdCB3ZWVrZGF5cyA9IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J107XG4gICAgICAgIGNvbnN0IGhlYWRDaGlsZHJlbiA9IHdlZWtkYXlzLm1hcChkYXkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2Vla2RheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgd2Vla2RheS5jbGFzc0xpc3QuYWRkKCd3ZWVrZGF5Jyk7XG4gICAgICAgICAgICB3ZWVrZGF5LmlubmVyVGV4dCA9IGRheTtcbiAgICAgICAgICAgIHJldHVybiB3ZWVrZGF5O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckhlYWQuYXBwZW5kKC4uLmhlYWRDaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcmVuZGVyQm9keShtb250aDogbnVtYmVyLCB5ZWFyOiBudW1iZXIpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY2FsZW5kYXJCb2R5LmZpcnN0Q2hpbGQpIHRoaXMuY2FsZW5kYXJCb2R5LnJlbW92ZUNoaWxkKHRoaXMuY2FsZW5kYXJCb2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb25zdCBjdXJNb250aCA9IHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3VycmVudC1tb250aCcpWzBdO1xuICAgICAgICBjdXJNb250aC5pbm5lckhUTUwgPSBgJHtDYWxlbmRhci5tb250aHNbbW9udGggLSAxXX0gJHt5ZWFyfWA7XG5cbiAgICAgICAgY29uc3QgZGF5cyA9IHRoaXMuZGF5c0luTW9udGgobW9udGgsIHllYXIpO1xuXG4gICAgICAgIGNvbnN0IGRheUNlbGxzOiBIVE1MRWxlbWVudFtdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQga2V5ID0gMDsga2V5IDwgZGF5czsgKytrZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRheUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRheUNlbGwuY2xhc3NMaXN0LmFkZCgnY2VsbC1kYXknLCAndGhpcy1tb250aCcpO1xuICAgICAgICAgICAgZGF5Q2VsbC5pbm5lclRleHQgPSBgJHtrZXkgKyAxfWA7XG4gICAgICAgICAgICBkYXlDZWxscy5wdXNoKGRheUNlbGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy55ZWFyID09PSB0b2RheS5nZXRGdWxsWWVhcigpICYmIHRoaXMubW9udGggPT09IHRvZGF5LmdldE1vbnRoKCkgKyAxKSB7XG4gICAgICAgICAgICBkYXlDZWxsc1t0b2RheS5nZXREYXRlKCkgLSAxXS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2Vla2RheU9mRmlyc3REYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSkuZ2V0VVRDRGF5KCkgfHwgNztcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB3ZWVrZGF5T2ZGaXJzdERheTsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBkYXlDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkYXlDZWxsLmNsYXNzTGlzdC5hZGQoJ2NlbGwtZGF5Jyk7XG4gICAgICAgICAgICBkYXlDZWxscy51bnNoaWZ0KGRheUNlbGwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsZW5kYXJCb2R5LmFwcGVuZCguLi5kYXlDZWxscyk7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aGlzLW1vbnRoJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuY2FsZW5kYXJCb2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJylbMF07XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgJiYgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmRheSA9IHBhcnNlSW50KHRhcmdldC5pbm5lclRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQubW9udGggPSB0aGlzLm1vbnRoO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQueWVhciA9IHRoaXMueWVhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGF5c0luTW9udGgobW9udGg6IG51bWJlciwgeWVhcjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMCkuZ2V0RGF0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXI7IiwiY2xhc3MgVGltZVBpY2tlciB7XG4gICAgdGltZVBpY2tlcjogSFRNTEVsZW1lbnQ7XG4gICAgaG91clBpY2tlcjogSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgbWludXRlUGlja2VyOiBIVE1MU2VsZWN0RWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHRpbWVQaWNrZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMudGltZVBpY2tlciA9IHRpbWVQaWNrZXI7XG4gICAgICAgIHRoaXMuaG91clBpY2tlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICB0aGlzLmhvdXJQaWNrZXIuY2xhc3NMaXN0LmFkZCgnaG91ci1waWNrZXInKTtcbiAgICAgICAgdGhpcy5yZW5kZXJIb3VyUGlja2VyKCk7XG5cbiAgICAgICAgdGhpcy5taW51dGVQaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgdGhpcy5taW51dGVQaWNrZXIuY2xhc3NMaXN0LmFkZCgnbWludXRlLXBpY2tlcicpO1xuICAgICAgICB0aGlzLnJlbmRlck1pbnV0ZVBpY2tlcigpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnOicpO1xuXG4gICAgICAgIHRoaXMudGltZVBpY2tlci5hcHBlbmQodGhpcy5ob3VyUGlja2VyLCB0ZXh0LCB0aGlzLm1pbnV0ZVBpY2tlcik7XG4gICAgfVxuXG4gICAgcmVuZGVySG91clBpY2tlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI0OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gYCR7aX1gO1xuICAgICAgICAgICAgb3B0aW9uLmlubmVyVGV4dCA9IGAke2l9YDtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ob3VyUGlja2VyLmFwcGVuZCguLi5vcHRpb25zKTtcbiAgICB9XG5cbiAgICByZW5kZXJNaW51dGVQaWNrZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGAke2l9YDtcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBgJHtpfWA7XG4gICAgICAgICAgICBvcHRpb25zLnB1c2gob3B0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWludXRlUGlja2VyLmFwcGVuZCguLi5vcHRpb25zKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVQaWNrZXI7IiwiaW1wb3J0IHsgVG9kbywgU3RhdHVzIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgVG9kb0VkaXRvciBmcm9tICcuL3RvZG8tZWRpdG9yJztcbmltcG9ydCBDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUb2RvTGlzdCBmcm9tICcuL3RvZG8tbGlzdCc7XG5pbXBvcnQgU2VhcmNoUmVzdWx0IGZyb20gJy4vc2VhcmNoLXJlc3VsdCc7XG5pbXBvcnQgQ2FsZW5kYXJUb2RvTGlzdCBmcm9tICcuL2NhbGVuZGFyLXRvZG8tbGlzdCc7XG5cbmNsYXNzIEFwcCB7XG4gICAgbGlzdDogVG9kb1tdO1xuICAgIGVkaXRvcjogVG9kb0VkaXRvcjtcbiAgICB0b2RvTGlzdDogVG9kb0xpc3Q7XG4gICAgY2FsZW5kYXJUb2RvTGlzdDogQ2FsZW5kYXJUb2RvTGlzdDtcbiAgICBzZWFyY2hSZXN1bHQ6IFRvZG9MaXN0O1xuICAgIGN1clRvZG9JZCA9ICcnO1xuICAgIGZpbHRlcjogc3RyaW5nID0gJ0FMTCc7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gTG9hZCBkYXRhIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgICAgICBjb25zdCByZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb2xpc3QnKTtcbiAgICAgICAgdGhpcy5saXN0ID0gcmVzID8gSlNPTi5wYXJzZShyZXMpIDogW107XG4gICAgICAgIHRoaXMuZWRpdG9yID0gbmV3IFRvZG9FZGl0b3IodGhpcy5saXN0KTtcbiAgICAgICAgdGhpcy50b2RvTGlzdCA9IG5ldyBUb2RvTGlzdChcbiAgICAgICAgICAgIHRoaXMubGlzdCxcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tbGlzdCcpIGFzIEhUTUxVTGlzdEVsZW1lbnQsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LXRvZG8nKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY2FsZW5kYXIgPSBuZXcgQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyJykgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyVG9kb0xpc3QgPSBuZXcgQ2FsZW5kYXJUb2RvTGlzdChcbiAgICAgICAgICAgIHRoaXMubGlzdCxcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgY2FsZW5kYXIsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb2xpc3QtYnktZGF5JykgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdCA9IG5ldyBTZWFyY2hSZXN1bHQoXG4gICAgICAgICAgICB0aGlzLmxpc3QsXG4gICAgICAgICAgICB0aGlzLmVkaXRvcixcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHQtbGlzdCcpIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10b2RvJykgYXMgSFRNTElucHV0RWxlbWVudFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnUm91dGVzKCk7XG5cbiAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wbGV0ZS1hbGwnKSBhcyBIVE1MRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaCh0b2RvID0+IHRvZG8uc3RhdHVzID0gU3RhdHVzLkNPTVBMRVRFRCk7XG4gICAgICAgICAgICB0aGlzLnRvZG9MaXN0LnJlbmRlcih0aGlzLmZpbHRlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5jb21wbGV0ZS1hbGwnKSBhcyBIVE1MRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaCh0b2RvID0+IHRvZG8uc3RhdHVzID0gU3RhdHVzLkFDVElWRSk7XG4gICAgICAgICAgICB0aGlzLnRvZG9MaXN0LnJlbmRlcih0aGlzLmZpbHRlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLWFsbC1jb21wbGV0ZWQnKSBhcyBIVE1MRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdGNpdmVJdGVtcyA9IHRoaXMubGlzdC5yZWR1Y2UoKHByZXY6IGFueSwgdG9kbykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0b2RvLnN0YXR1cyA9PT0gU3RhdHVzLkFDVElWRSkgcHJldi5wdXNoKHRvZG8pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZSgwLCB0aGlzLmxpc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMubGlzdC5wdXNoKC4uLmF0Y2l2ZUl0ZW1zKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRoaXMuZmlsdGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZmlsdGVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGZpbHRlcnMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlci5zZWxlY3RlZCcpO1xuICAgICAgICAgICAgc2VsZWN0ZWQgJiYgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgKHRhcmdldC5wYXJlbnRFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2ZpbHRlcicpIHtcbiAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1vcHRpb25zJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRoaXMuZmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuaWQgIT09ICdmaWx0ZXItb3B0aW9ucycpIHtcbiAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1vcHRpb25zJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmlkICE9PSAnb3BlcmF0aW9ucy1jb250cm9sJykge1xuICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BlcmF0aW9ucy1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25maWdSb3V0ZXMoKSB7XG4gICAgICAgIGNvbnN0IHRhc2tzTmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdXRlLXRhc2tzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyTmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdXRlLWNhbGVuZGFyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHRhc2tzU2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHNjaGVkdWxlU2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjaGVkdWxlJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgdGFza3NOYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXJyZW50LXNlYycpWzBdO1xuICAgICAgICAgICAgY3VycmVudFNlYy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50LXNlYycpO1xuICAgICAgICAgICAgdGFza3NTZWMuY2xhc3NMaXN0LmFkZCgnY3VycmVudC1zZWMnKTtcbiAgICAgICAgICAgIGNhbGVuZGFyTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRhc2tzTmF2LmNsYXNzTGlzdC5hZGQoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbGVuZGFyTmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3VycmVudC1zZWMnKVswXTtcbiAgICAgICAgICAgIGN1cnJlbnRTZWMuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudC1zZWMnKTtcbiAgICAgICAgICAgIHNjaGVkdWxlU2VjLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtc2VjJyk7XG4gICAgICAgICAgICB0YXNrc05hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYWN0aXZlJyk7XG4gICAgICAgICAgICBjYWxlbmRhck5hdi5jbGFzc0xpc3QuYWRkKCduYXYtYWN0aXZlJyk7XG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyVG9kb0xpc3QucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb2xpc3QnLCBKU09OLnN0cmluZ2lmeShhcHAudG9kb0xpc3QubGlzdCkpO1xuICAgIH0pO1xufSk7IiwiaW1wb3J0IHsgVG9kbyB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0IENhbGVuZGFyIGZyb20gJy4vY2FsZW5kYXInO1xuaW1wb3J0IFRpbWVQaWNrZXIgZnJvbSAnLi90aW1lcGlja2VyJztcblxuY2xhc3MgVG9kb0VkaXRvciB7XG4gICAgbGlzdDogVG9kb1tdO1xuICAgIGVsOiBIVE1MRWxlbWVudDtcbiAgICBkdWVkYXRlUGlja2VyOiBDYWxlbmRhcjtcbiAgICBhbGFybURhdGVQaWNrZXI6IENhbGVuZGFyO1xuICAgIGFsYXJtVGltZVBpY2tlcjogVGltZVBpY2tlcjtcbiAgICBjdXJUb2RvSWQ6IHN0cmluZyA9ICcnO1xuICAgIGVkaXRvckNsb3NlZDogRXZlbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih0b2RvbGlzdDogVG9kb1tdKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IHRvZG9saXN0O1xuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RldGFpbHMnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgdGhpcy5lZGl0b3JDbG9zZWQgPSBuZXcgRXZlbnQoJ2VkaXRvckNsb3NlZCcpO1xuICAgICAgICB0aGlzLmR1ZWRhdGVQaWNrZXIgPSBuZXcgQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1ZS1kYXRlLXBpY2tlcicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5hbGFybURhdGVQaWNrZXIgPSBuZXcgQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsYXJtLXBpY2tlcicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5hbGFybVRpbWVQaWNrZXIgPSBuZXcgVGltZVBpY2tlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1waWNrZXInKSBhcyBIVE1MRWxlbWVudCk7XG5cbiAgICAgICAgLy8gYmluZCBoYW5kbGVyc1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcblxuICAgICAgICBjb25zdCBlZGl0VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC10b2RvLXRpdGxlJyk7XG4gICAgICAgIGVkaXRUaXRsZSAmJiBlZGl0VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8udGl0bGUgPSAoZWRpdFRpdGxlIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0b2RvRGV0YWlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWRldGFpbHMnKTtcbiAgICAgICAgdG9kb0RldGFpbHMgJiYgdG9kb0RldGFpbHMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8uZGV0YWlsID0gKHRvZG9EZXRhaWxzIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIG9wZW4gZWRpdG9yXG4gICAgICovXG4gICAgb3Blbih0b2RvSWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmN1clRvZG9JZCA9IHRvZG9JZDtcbiAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdG9kb0lkKTtcbiAgICAgICAgaWYgKHRvZG8pIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXRvZG8tdGl0bGVdJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0aXRsZSkgdGl0bGUudmFsdWUgPSB0b2RvLnRpdGxlO1xuXG4gICAgICAgICAgICBjb25zdCBkdWVEYXRlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9ZHVlLWRhdGUtY29udHJvbF0nKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRvZG8uZHVlRGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgZHVlRGF0ZS5pbm5lclRleHQgPSBgRHVlIG9uICR7ZHVlZGF0ZS50b0RhdGVTdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZW1pbmRlclRpbWUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1hbGFybS1jb250cm9sXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRvZG8ucmVtaW5kZXJUaW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtaW5kZXIgPSBuZXcgRGF0ZSh0b2RvLnJlbWluZGVyVGltZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICByZW1pbmRlclRpbWUuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgYDxzcGFuPlJlbWluZCBtZSBhdCAke3JlbWluZGVyLnRvTG9jYWxlVGltZVN0cmluZygpfTwvc3Bhbj48c3Bhbj5PbiAke3JlbWluZGVyLnRvRGF0ZVN0cmluZygpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkZXRhaWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kby1kZXRhaWxzJykgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0b2RvLmRldGFpbCkgZGV0YWlsLnZhbHVlID0gdG9kby5kZXRhaWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICB0aGlzLmVsLmRpc3BhdGNoRXZlbnQodGhpcy5lZGl0b3JDbG9zZWQpO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrKGV2OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGZvciAoY29uc3QgZWwgb2YgKGV2LmNvbXBvc2VkUGF0aCgpIGFzIEhUTUxFbGVtZW50W10pKSB7XG4gICAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UtZWRpdG9yJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2R1ZS1kYXRlLXNhdmUnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZURhdGUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1kdWUtZGF0ZS1jb250cm9sXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5kdWVkYXRlUGlja2VyLnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXkpO1xuICAgICAgICAgICAgICAgIGR1ZURhdGUuaW5uZXJUZXh0ID0gYER1ZSBvbiAke2RhdGV0aW1lLnRvRGF0ZVN0cmluZygpfWA7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b2RvID0gdGhpcy5saXN0LmZpbmQodG9kbyA9PiB0b2RvLmlkID09PSB0aGlzLmN1clRvZG9JZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8uZHVlRGF0ZSA9IGRhdGV0aW1lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkdWUtZGF0ZS1jYW5jZWwnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGVDb250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1ZS1kYXRlLWNvbnRyb2wnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChkdWVkYXRlQ29udHJvbCkgZHVlZGF0ZUNvbnRyb2wuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZW1pbmRlci1zYXZlJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1pbmRlclRpbWUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1hbGFybS1jb250cm9sXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5hbGFybURhdGVQaWNrZXIuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHllYXIgPT09IDApIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaG91ciA9IHBhcnNlSW50KHRoaXMuYWxhcm1UaW1lUGlja2VyLmhvdXJQaWNrZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IHBhcnNlSW50KHRoaXMuYWxhcm1UaW1lUGlja2VyLm1pbnV0ZVBpY2tlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgaG91ciwgbWluKTtcblxuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZS5pbm5lckhUTUwgPSBgPHNwYW4+UmVtaW5kIG1lIGF0ICR7ZGF0ZXRpbWUudG9Mb2NhbGVUaW1lU3RyaW5nKCl9PC9zcGFuPiBcbiAgICAgICAgICAgICAgICA8c3Bhbj5PbiAke2RhdGV0aW1lLnRvRGF0ZVN0cmluZygpfTwvc3Bhbj5gO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0b2RvKSB0b2RvLnJlbWluZGVyVGltZSA9IGRhdGV0aW1lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZW1pbmRlci1jYW5jZWwnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsYXJtQ29udHJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGFybS1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoYWxhcm1Db250cm9sKSBhbGFybUNvbnRyb2wuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvRWRpdG9yOyIsImltcG9ydCB7IFRvZG8sIFN0YXR1cyB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgVG9kb0VkaXRvciBmcm9tICcuL3RvZG8tZWRpdG9yJztcblxuY2xhc3MgVG9kb0xpc3Qge1xuICAgIGxpc3Q6IFRvZG9bXTtcbiAgICBlbDogSFRNTEVsZW1lbnQ7XG4gICAgZWRpdG9yOiBUb2RvRWRpdG9yO1xuICAgIGN1clRvZG9JZDogc3RyaW5nID0gJyc7XG4gICAgc3dpcGVkTGVmdDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBuZXdUb2RvOiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3Rvcih0b2RvTGlzdDogVG9kb1tdLCBlZGl0b3I6IFRvZG9FZGl0b3IsIGVsOiBIVE1MRWxlbWVudCwgbmV3VG9kbz86IEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gdG9kb0xpc3Q7XG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTtcbiAgICAgICAgaWYgKG5ld1RvZG8pIHRoaXMubmV3VG9kbyA9IG5ld1RvZG87XG5cbiAgICAgICAgLy8gYmluZCBoYW5kbGVyc1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlU3dpcGVMZWZ0ID0gdGhpcy5oYW5kbGVTd2lwZUxlZnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVOZXdUb2RvID0gdGhpcy5oYW5kbGVOZXdUb2RvLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlQ2hhbmdlKTtcbiAgICAgICAgVXRpbHMubGlzdGVuVG9Td2lwZSgnbGVmdCcsIHRoaXMuZWwsIHRoaXMuaGFuZGxlU3dpcGVMZWZ0KTtcblxuICAgICAgICB0aGlzLmVkaXRvci5lbC5hZGRFdmVudExpc3RlbmVyKCdlZGl0b3JDbG9zZWQnLCAoZXYpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm5ld1RvZG8pIHtcbiAgICAgICAgICAgIHRoaXMubmV3VG9kby5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChldikgPT4gZXYua2V5ID09PSAnRW50ZXInICYmIHRoaXMuaGFuZGxlTmV3VG9kbygpKTtcbiAgICAgICAgICAgICh0aGlzLm5ld1RvZG8ubmV4dEVsZW1lbnRTaWJsaW5nIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlTmV3VG9kbyk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN3aXBlZExlZnQpIHRoaXMuc3dpcGVkTGVmdC5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoZmlsdGVyOiBzdHJpbmcgPSAnQUxMJykge1xuICAgICAgICB0aGlzLmNoZWNrRHVlRGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IHRvZG9zID0gZmlsdGVyID09PSAnQUxMJyA/IHRoaXMubGlzdCA6IHRoaXMubGlzdC5maWx0ZXIodG9kbyA9PiBTdGF0dXNbdG9kby5zdGF0dXNdID09PSBmaWx0ZXIpO1xuICAgICAgICBVdGlscy5yZW1vdmVBbGxDaGlsZHJlbih0aGlzLmVsKTtcblxuICAgICAgICB0aGlzLmVsLmFwcGVuZCguLi50b2Rvcy5tYXAodG9kbyA9PiB0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlVG9kb0l0ZW0odG9kbzogVG9kbykge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3RvZG8taXRlbScsIHRvZG8uc3RhdHVzID09PSBTdGF0dXMuQUNUSVZFID8gJ3RvZG8tYWN0aXZlJyA6ICd0b2RvLWNvbXBsZXRlZCcpO1xuICAgICAgICB0b2RvLnBpbm5lZCAmJiBsaS5jbGFzc0xpc3QuYWRkKCdwaW5uZWQnKTtcbiAgICAgICAgbGkuZGF0YXNldC5pZCA9IHRvZG8uaWQ7XG5cbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRvZG8uc3RhdHVzID09PSBTdGF0dXMuQ09NUExFVEVEID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCd0b2dnbGUtc3RhdHVzJyk7XG5cbiAgICAgICAgY29uc3QgdG9kb0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdG9kb0luZm8uY2xhc3NMaXN0LmFkZCgndG9kby1pbmZvJyk7XG4gICAgICAgIHRvZG9JbmZvLmlubmVyVGV4dCA9IHRvZG8udGl0bGU7XG5cbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhY3Rpb25zLmNsYXNzTGlzdC5hZGQoJ3RvZG8tYWN0aW9ucycpO1xuICAgICAgICBhY3Rpb25zLmhpZGRlbiA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcGluQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHBpbkJ0bi5jbGFzc0xpc3QuYWRkKCdwaW4tYnV0dG9uJyk7XG4gICAgICAgIHBpbkJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPnZlcnRpY2FsX2FsaWduX3RvcDwvaT5gO1xuICAgICAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnZWRpdC1idXR0b24nKTtcbiAgICAgICAgZWRpdEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmVkaXQ8L2k+YDtcblxuICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2RlbC1idXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlX2ZvcmV2ZXI8L2k+YDtcblxuICAgICAgICBhY3Rpb25zLmFwcGVuZChwaW5CdG4sIGVkaXRCdG4sIGRlbGV0ZUJ0bik7XG5cbiAgICAgICAgbGkuYXBwZW5kKGNoZWNrYm94LCB0b2RvSW5mbywgYWN0aW9ucyk7XG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayhldjogTW91c2VFdmVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIChldi5jb21wb3NlZFBhdGgoKSBhcyBIVE1MRWxlbWVudFtdKSkge1xuXG4gICAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZGVsLWJ1dHRvbicpKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBkZWxldGUgdG9kbyBpdGVtXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgbGkgPSAoZWwucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3Quc3BsaWNlKHRoaXMubGlzdC5maW5kSW5kZXgodG9kbyA9PiB0b2RvLmlkID09PSBsaS5kYXRhc2V0LmlkKSwgMSk7XG4gICAgICAgICAgICAgICAgbGkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQtYnV0dG9uJykpIHtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIGVkaXQgdG9kbyBpdGVtXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgbGkgPSAoZWwucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmN1clRvZG9JZCA9IGxpLmRhdGFzZXQuaWQgfHwgJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub3Blbih0aGlzLmN1clRvZG9JZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbi1idXR0b24nKSkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogcGluIHRvZG8gaXRlbVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gKGVsLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZCA9IHRoaXMubGlzdC5zcGxpY2UodGhpcy5saXN0LmZpbmRJbmRleCh0b2RvID0+IHRvZG8uaWQgPT09IGxpLmRhdGFzZXQuaWQpLCAxKTtcbiAgICAgICAgICAgICAgICBkZWxldGVkWzBdLnBpbm5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnVuc2hpZnQoLi4uZGVsZXRlZCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwaW5uZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAocGlubmVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBwaW5uZWRbMF0uY2xhc3NMaXN0LnJlbW92ZSgncGlubmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpbm5lZFRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IChwaW5uZWRbMF0gYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGlubmVkVG9kbykgcGlubmVkVG9kby5waW5uZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdwaW5uZWQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsLmluc2VydEJlZm9yZShsaSwgdGhpcy5lbC5maXJzdEVsZW1lbnRDaGlsZCBhcyBFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogaGFuZGxlIHN0YXR1cyBjaGFuZ2VcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2UoZXY6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgbGkgPSB0YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKGxpICYmIGxpLmNsYXNzTGlzdC5jb250YWlucygndG9kby1pdGVtJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcbiAgICAgICAgICAgIGlmICh0b2RvKSB7XG4gICAgICAgICAgICAgICAgdG9kby5zdGF0dXMgPSB0b2RvLnN0YXR1cyA9PT0gU3RhdHVzLkFDVElWRSA/IFN0YXR1cy5DT01QTEVURUQgOiBTdGF0dXMuQUNUSVZFO1xuICAgICAgICAgICAgICAgIGxpLmNsYXNzTGlzdC50b2dnbGUoJ3RvZG8tY29tcGxldGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTd2lwZUxlZnQoZXY6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiAoZXYuY29tcG9zZWRQYXRoKCkgYXMgSFRNTEVsZW1lbnRbXSkpIHtcbiAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b2RvLWl0ZW0nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN3aXBlZExlZnQpIHRoaXMuc3dpcGVkTGVmdC5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zd2lwZWRMZWZ0ID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndG9kby1hY3Rpb25zJylbMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2lwZWRMZWZ0LmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmV3VG9kbygpIHtcbiAgICAgICAgaWYgKHRoaXMubmV3VG9kbykge1xuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLm5ld1RvZG8udmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgaWYgKHRpdGxlID09PSAnJykgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IG5ldyBUb2RvKHRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMubGlzdC51bnNoaWZ0KHRvZG8pO1xuXG4gICAgICAgICAgICB0aGlzLmVsLmluc2VydEJlZm9yZSh0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pLCB0aGlzLmVsLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIHRoaXMubmV3VG9kby52YWx1ZSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tEdWVEYXRlKCkge1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKHRvZG8gPT4ge1xuICAgICAgICAgICAgaWYgKHRvZG8uZHVlRGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmxhZyA9IHRvZGF5LmdldEZ1bGxZZWFyKCkgPj0gZHVlZGF0ZS5nZXRGdWxsWWVhcigpICYmXG4gICAgICAgICAgICAgICAgICAgIHRvZGF5LmdldE1vbnRoKCkgPj0gZHVlZGF0ZS5nZXRNb250aCgpICYmXG4gICAgICAgICAgICAgICAgICAgIHRvZGF5LmdldERhdGUoKSA+IGR1ZWRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRvZG8uc3RhdHVzID0gZmxhZyA/IFN0YXR1cy5DT01QTEVURUQgOiB0b2RvLnN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvZG9MaXN0OyIsImVudW0gU3RhdHVzIHtcbiAgICBBQ1RJVkUsXG4gICAgQ09NUExFVEVEXG59XG5cbmNsYXNzIFRvZG8ge1xuICAgIHJlYWRvbmx5IGlkID0gRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGR1ZURhdGU6IERhdGUgfCBudWxsO1xuICAgIGRldGFpbDogc3RyaW5nO1xuICAgIHJlbWluZGVyVGltZTogRGF0ZSB8IG51bGw7XG4gICAgc3RhdHVzOiBTdGF0dXM7XG4gICAgcGlubmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aXRsZTogc3RyaW5nLCBkdWVEYXRlOiBEYXRlIHwgbnVsbCA9IG51bGwsIHJlbWluZGVyVGltZTogRGF0ZSB8IG51bGwgPSBudWxsKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5yZW1pbmRlclRpbWUgPSByZW1pbmRlclRpbWU7XG4gICAgICAgIHRoaXMuZGV0YWlsID0gJyc7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gU3RhdHVzLkFDVElWRTtcbiAgICB9XG59XG5cblxuZXhwb3J0IHsgVG9kbywgU3RhdHVzIH07IiwiZnVuY3Rpb24gcmVtb3ZlQWxsQ2hpbGRyZW4oZWw6IEhUTUxFbGVtZW50KSB7XG4gICAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5Ub1N3aXBlKGRpcmVjdG9pbjogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQsIGxpc3RlbmVyOiAoZXY6IFRvdWNoRXZlbnQpID0+IGFueSkge1xuICAgIGNvbnN0IHN0YXJ0UG9zID0geyB4OiAwLCB5OiAwIH07XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChldikgPT4ge1xuICAgICAgICBzdGFydFBvcy54ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICBzdGFydFBvcy55ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0pO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZXYpID0+IHtcbiAgICAgICAgY29uc3QgZGlmZlggPSBldi5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gc3RhcnRQb3MueDtcbiAgICAgICAgY29uc3QgZGlmZlkgPSBldi5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gc3RhcnRQb3MueTtcblxuICAgICAgICBzd2l0Y2ggKGRpcmVjdG9pbikge1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgaWYgKGRpZmZYIDwgMCAmJiBNYXRoLmFicyhkaWZmWCkgPiAzMCAmJiBNYXRoLmFicyhkaWZmWSkgPCAyMCkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcihldik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGRlbGVnYXRlKHRhcmdldDogSFRNTEVsZW1lbnQsIHNyYzogSFRNTEVsZW1lbnQsIHR5cGU6IHN0cmluZywgaGFuZGxlcjogKGV2OiBFdmVudCkgPT4gdm9pZCkge1xuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIChldikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGV2LmNvbXBvc2VkUGF0aCgpKSB7XG4gICAgICAgICAgICBpZiAoZWwgPT09IHNyYykge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbChzcmMsIGV2KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgeyByZW1vdmVBbGxDaGlsZHJlbiwgbGlzdGVuVG9Td2lwZSwgZGVsZWdhdGUgfTsiLCJpbXBvcnQgeyBUb2RvIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUb2RvRWRpdG9yIGZyb20gJy4vdG9kby1lZGl0b3InO1xuaW1wb3J0IFRvZG9MaXN0IGZyb20gJy4vdG9kby1saXN0JztcblxuY2xhc3MgQ2FsZW5kZXJUb2RvTGlzdCBleHRlbmRzIFRvZG9MaXN0IHtcbiAgICBjYWxlbmRhcjogQ2FsZW5kYXJcbiAgICBjb25zdHJ1Y3Rvcih0b2RvTGlzdDogVG9kb1tdLCBlZGl0b3I6IFRvZG9FZGl0b3IsIGNhbGVuZGFyOiBDYWxlbmRhciwgZWw6IEhUTUxFbGVtZW50KSB7XG5cbiAgICAgICAgc3VwZXIodG9kb0xpc3QsIGVkaXRvciwgZWwpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyID0gY2FsZW5kYXI7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVEYXlDaGFuZ2UgPSB0aGlzLmhhbmRsZURheUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVEYXlDaGFuZ2UpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbGVuZGFyKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jaGVja0R1ZURhdGUoKTtcbiAgICAgICAgVXRpbHMucmVtb3ZlQWxsQ2hpbGRyZW4odGhpcy5lbCk7XG5cbiAgICAgICAgY29uc3QgbGlzdE9mRGF5ID0gdGhpcy5saXN0LmZpbHRlcigodG9kbykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0b2RvLmR1ZURhdGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5jYWxlbmRhci5zZWxlY3RlZDtcbiAgICAgICAgICAgIHJldHVybiBkdWVkYXRlLmdldEZ1bGxZZWFyKCkgPT09IHllYXIgJiYgZHVlZGF0ZS5nZXRNb250aCgpICsgMSA9PT0gbW9udGggJiYgZHVlZGF0ZS5nZXREYXRlKCkgPT09IGRheTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWwuYXBwZW5kKC4uLmxpc3RPZkRheS5tYXAodG9kbyA9PiB0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pKSk7XG4gICAgfVxuXG4gICAgaGFuZGxlRGF5Q2hhbmdlKGV2OiBFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgLy8gZmluZCB0b2RvIGl0ZW1zIGR1ZSBvbiB0aGUgc2VsZWN0ZWQgZGF5XG4gICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGhpcy1tb250aCcpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYWxlbmRlclRvZG9MaXN0OyIsImltcG9ydCB7IFRvZG8gfSBmcm9tICcuL21vZGVsJztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IFRvZG9FZGl0b3IgZnJvbSAnLi90b2RvLWVkaXRvcic7XG5pbXBvcnQgVG9kb0xpc3QgZnJvbSAnLi90b2RvLWxpc3QnO1xuXG5jbGFzcyBTZWFyY2hSZXN1bHQgZXh0ZW5kcyBUb2RvTGlzdCB7XG4gICAgc2VhcmNoRWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdGl0bGVFbDogSFRNTEVsZW1lbnQ7XG4gICAgc2VjRWw6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IodG9kb0xpc3Q6IFRvZG9bXSwgZWRpdG9yOiBUb2RvRWRpdG9yLCBlbDogSFRNTEVsZW1lbnQsIHNlYXJjaEVsOiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKHRvZG9MaXN0LCBlZGl0b3IsIGVsKTtcbiAgICAgICAgdGhpcy5zZWFyY2hFbCA9IHNlYXJjaEVsO1xuICAgICAgICB0aGlzLnNlY0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VhcmNoLXNlYycpWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICB0aGlzLnRpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoaW5nPnNwYW4nKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zZWFyY2hFbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VjRWwuc3R5bGUub3JkZXIgPSAnLTInO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KT0+e1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdGhpcy5zZWNFbCkgdGhpcy5zZWNFbC5zdHlsZS5vcmRlciA9ICcwJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWFyY2hFbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY2hlY2tEdWVEYXRlKCk7XG5cbiAgICAgICAgVXRpbHMucmVtb3ZlQWxsQ2hpbGRyZW4odGhpcy5lbCk7XG4gICAgICAgIGNvbnN0IGtleXdvcmQgPSB0aGlzLnNlYXJjaEVsLnZhbHVlO1xuICAgICAgICB0aGlzLnRpdGxlRWwuaW5uZXJUZXh0ID0ga2V5d29yZDtcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5saXN0LmZpbHRlcih0b2RvID0+IHRvZG8udGl0bGUuaW5jbHVkZXMoa2V5d29yZCkpO1xuICAgICAgICB0aGlzLmVsLmFwcGVuZCguLi5yZXMubWFwKHRvZG8gPT4gdGhpcy5jcmVhdGVUb2RvSXRlbSh0b2RvKSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoUmVzdWx0OyJdLCJzb3VyY2VSb290IjoiIn0=