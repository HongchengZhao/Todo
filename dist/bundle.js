!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.selected={year:0,month:0,day:0},this.el=e,this.calendarIndicator=document.createElement("div"),this.calendarIndicator.classList.add("calendar-indicator"),this.renderIndicator(),this.calendarHead=document.createElement("div"),this.calendarHead.classList.add("calendar-head"),this.renderHead(),this.calendarBody=document.createElement("div"),this.calendarBody.classList.add("calendar-body");var t=new Date;this.month=t.getMonth()+1,this.year=t.getFullYear(),this.renderBody(this.month,this.year),this.selected.day=t.getDate(),this.selected.month=this.month,this.selected.year=this.year,this.el.append(this.calendarIndicator,this.calendarHead,this.calendarBody)}return e.prototype.renderIndicator=function(){var e=this,t=document.createElement("div");t.innerText="❮",t.classList.add("prev-month");var n=document.createElement("h3");n.classList.add("current-month");var i=document.createElement("div");i.classList.add("next-month"),i.innerText="❯",this.calendarIndicator.append(t,n,i),this.calendarIndicator.addEventListener("click",function(t){var n=t.target;n.classList.contains("prev-month")?(0==--e.month&&(e.month=12,e.year-=1),e.renderBody(e.month,e.year)):n.classList.contains("next-month")&&(13==++e.month&&(e.month=1,e.year+=1),e.renderBody(e.month,e.year))})},e.prototype.renderHead=function(){var e,t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){var t=document.createElement("div");return t.classList.add("weekday"),t.innerText=e,t});(e=this.calendarHead).append.apply(e,t)},e.prototype.renderBody=function(t,n){for(var i,r=this;this.calendarBody.firstChild;)this.calendarBody.removeChild(this.calendarBody.firstChild);this.calendarIndicator.getElementsByClassName("current-month")[0].innerHTML=e.months[t-1]+" "+n;for(var s=this.daysInMonth(t,n),a=[],o=0;o<s;++o){(u=document.createElement("div")).classList.add("cell-day","this-month"),u.innerText=""+(o+1),a.push(u)}var d=new Date;this.year===d.getFullYear()&&this.month===d.getMonth()+1&&a[d.getDate()-1].classList.add("selected");for(var l=new Date(n,t,1).getUTCDay()||7,c=1;c<l;++c){var u;(u=document.createElement("div")).classList.add("cell-day"),a.unshift(u)}(i=this.calendarBody).append.apply(i,a),this.calendarBody.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("this-month")){var n=r.calendarBody.getElementsByClassName("selected")[0];n&&n.classList.remove("selected"),t.classList.add("selected"),r.selected.day=parseInt(t.innerText),r.selected.month=r.month,r.selected.year=r.year}})},e.prototype.daysInMonth=function(e,t){return new Date(t,e,0).getDate()},e.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.timePicker=e,this.hourPicker=document.createElement("select"),this.hourPicker.classList.add("hour-picker"),this.renderHourPicker(),this.minutePicker=document.createElement("select"),this.minutePicker.classList.add("minute-picker"),this.renderMinutePicker();var t=document.createTextNode(":");this.timePicker.append(this.hourPicker,t,this.minutePicker)}return e.prototype.renderHourPicker=function(){for(var e,t=[],n=0;n<24;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.hourPicker).append.apply(e,t)},e.prototype.renderMinutePicker=function(){for(var e,t=[],n=0;n<60;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.minutePicker).append.apply(e,t)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(3),s=n(0),a=n(4),o=n(8),d=n(7),l=function(){function e(){this.curTodoId="",this.filter="ALL";var e=localStorage.getItem("todolist");this.list=e?JSON.parse(e):[],this.editor=new r.default(this.list),this.todoList=new a.default(this.list,this.editor,document.getElementById("todo-list"),document.getElementById("new-todo"));var t=new s.default(document.getElementById("calendar"));this.calendarTodoList=new d.default(this.list,this.editor,t,document.getElementById("todolist-by-day")),this.searchResult=new o.default(this.list,this.editor,document.getElementById("result-list"),document.getElementById("search-todo")),this.init()}return e.prototype.init=function(){var e=this;this.configRoutes(),document.getElementById("complete-all").addEventListener("click",function(){e.list.forEach(function(e){return e.status=i.Status.COMPLETED}),e.todoList.render(e.filter)}),document.getElementById("uncomplete-all").addEventListener("click",function(){e.list.forEach(function(e){return e.status=i.Status.ACTIVE}),e.todoList.render(e.filter)}),document.getElementById("remove-all-completed").addEventListener("click",function(){var t,n=e.list.reduce(function(e,t){return t.status===i.Status.ACTIVE&&e.push(t),e},[]);e.list.splice(0,e.list.length),(t=e.list).push.apply(t,n),e.todoList.render(e.filter)}),document.getElementById("filters").addEventListener("change",function(t){var n=t.target,i=document.querySelector(".filter.selected");i&&i.classList.remove("selected"),n.parentElement.classList.add("selected"),"filter"===n.name&&(document.getElementById("filter-options").checked=!1,e.filter=n.value,e.todoList.render(e.filter))}),window.addEventListener("click",function(e){var t=e.target;"filter-options"!==t.id&&(document.getElementById("filter-options").checked=!1),"operations-control"!==t.id&&(document.getElementById("operations-control").checked=!1)})},e.prototype.configRoutes=function(){var e=this,t=document.getElementById("route-tasks"),n=document.getElementById("route-calendar"),i=document.getElementById("tasks"),r=document.getElementById("schedule");t.addEventListener("click",function(r){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),i.classList.add("current-sec"),n.classList.remove("nav-active"),t.classList.add("nav-active"),e.todoList.render(),e.editor.el.classList.remove("show")}),n.addEventListener("click",function(i){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),r.classList.add("current-sec"),t.classList.remove("nav-active"),n.classList.add("nav-active"),e.calendarTodoList.render(),e.editor.el.classList.remove("show")})},e}();window.addEventListener("load",function(){var e=new l;window.addEventListener("unload",function(){localStorage.setItem("todolist",JSON.stringify(e.todoList.list))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(1),s=function(){function e(e){this.curTodoId="",this.list=e,this.el=document.getElementById("details"),this.editorClosed=new Event("editorClosed"),this.duedatePicker=new i.default(document.getElementById("due-date-picker")),this.alarmDatePicker=new i.default(document.getElementById("alarm-picker")),this.alarmTimePicker=new r.default(document.getElementById("time-picker")),this.handleClick=this.handleClick.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.el.addEventListener("click",this.handleClick);var t=document.getElementById("edit-todo-title");t&&t.addEventListener("blur",function(n){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.title=t.value)});var n=document.getElementById("todo-details");n&&n.addEventListener("blur",function(t){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.detail=n.value)})},e.prototype.open=function(e){this.curTodoId=e;var t=this.list.find(function(t){return t.id===e});if(t){var n=this.el.querySelector("input[name=todo-title]");n&&(n.value=t.title);var i=this.el.querySelector("label[for=due-date-control]");if(t.dueDate){var r=new Date(t.dueDate.toString());i.innerText="Due on "+r.toDateString()}else i.innerText="Due Date";var s=this.el.querySelector("label[for=alarm-control]");if(t.reminderTime){var a=new Date(t.reminderTime.toString());s.innerHTML="<span>Remind me at "+a.toLocaleTimeString()+"</span><span>On "+a.toDateString()+"</span>"}else s.innerHTML="Remind Me";var o=document.getElementById("todo-details");t.detail&&(o.value=t.detail)}this.el.classList.add("show")},e.prototype.close=function(){this.el.classList.remove("show"),this.el.dispatchEvent(this.editorClosed)},e.prototype.handleClick=function(e){for(var t=this,n=0,i=e.composedPath();n<i.length;n++){var r=i[n];if(r.classList&&r.classList.contains("close-editor")){this.close();break}if(r.classList&&r.classList.contains("due-date-save")){var s=this.el.querySelector("label[for=due-date-control]"),a=this.duedatePicker.selected,o=a.year,d=a.month,l=a.day,c=new Date(o,d-1,l);s.innerText="Due on "+c.toDateString(),(m=this.list.find(function(e){return e.id===t.curTodoId}))&&(m.dueDate=c);break}if(r.classList&&r.classList.contains("due-date-cancel")){var u=document.getElementById("due-date-control");u&&(u.checked=!1);break}if(r.classList&&r.classList.contains("reminder-save")){var h=this.el.querySelector("label[for=alarm-control]"),f=this.alarmDatePicker.selected;o=f.year,d=f.month,l=f.day;if(0===o)break;var m,p=parseInt(this.alarmTimePicker.hourPicker.value),v=parseInt(this.alarmTimePicker.minutePicker.value);c=new Date(o,d-1,l,p,v);h.innerHTML="<span>Remind me at "+c.toLocaleTimeString()+"</span> \n                <span>On "+c.toDateString()+"</span>",(m=this.list.find(function(e){return e.id===t.curTodoId}))&&(m.reminderTime=c);break}if(r.classList&&r.classList.contains("reminder-cancel")){var y=document.getElementById("alarm-control");y&&(y.checked=!1);break}}},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(6),s=function(){function e(e,t,n,i){this.curTodoId="",this.filter="ALL",this.swipedLeft=null,this.newTodo=null,this.list=e,this.editor=t,this.el=n,this.render=this.render.bind(this),i&&(this.newTodo=i),this.handleClick=this.handleClick.bind(this),this.handleChange=this.handleChange.bind(this),this.handleSwipeLeft=this.handleSwipeLeft.bind(this),this.handleNewTodo=this.handleNewTodo.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.render(),this.el.addEventListener("click",this.handleClick),this.el.addEventListener("change",this.handleChange),r.listenToSwipe("left",this.el,this.handleSwipeLeft),this.editor.el.addEventListener("editorClosed",function(t){e.render()}),this.newTodo&&(this.newTodo.addEventListener("keypress",function(t){return"Enter"===t.key&&e.handleNewTodo()}),this.newTodo.nextElementSibling.addEventListener("click",this.handleNewTodo)),window.addEventListener("click",function(t){e.swipedLeft&&(e.swipedLeft.hidden=!0)})},e.prototype.render=function(e){var t,n=this;void 0===e&&(e="ALL"),this.filter=e,this.checkDueDate();var s="ALL"===e?this.list:this.list.filter(function(t){return i.Status[t.status]===e});r.removeAllChildren(this.el),(t=this.el).append.apply(t,s.map(function(e){return n.createTodoItem(e)}))},e.prototype.createTodoItem=function(e){var t=document.createElement("li");t.classList.add("todo-item",e.status===i.Status.ACTIVE?"todo-active":"todo-completed"),e.pinned&&t.classList.add("pinned"),t.dataset.id=e.id;var n=document.createElement("input");n.type="checkbox",n.checked=e.status===i.Status.COMPLETED,n.classList.add("toggle-status");var r=document.createElement("div");r.classList.add("todo-info"),r.innerText=e.title;var s=document.createElement("div");s.classList.add("todo-actions"),s.hidden=!0;var a=document.createElement("button");a.classList.add("pin-button"),a.innerHTML='<i class="material-icons">vertical_align_top</i>';var o=document.createElement("button");o.classList.add("edit-button"),o.innerHTML='<i class="material-icons">edit</i>';var d=document.createElement("button");return d.classList.add("del-button"),d.innerHTML='<i class="material-icons">delete_forever</i>',s.append(a,o,d),t.append(n,r,s),t},e.prototype.handleClick=function(e){for(var t=function(e){var t;if(e.classList&&e.classList.contains("del-button")){var i=e.parentElement.parentElement;return n.list.splice(n.list.findIndex(function(e){return e.id===i.dataset.id}),1),i.remove(),"break"}if(e.classList&&e.classList.contains("edit-button")){var r=e.parentElement.parentElement;return n.curTodoId=r.dataset.id||"",n.editor.open(n.curTodoId),"break"}if(e.classList&&e.classList.contains("pin-button")){var s=e.parentElement.parentElement,a=n.list.splice(n.list.findIndex(function(e){return e.id===s.dataset.id}),1);a[0].pinned=!0,(t=n.list).unshift.apply(t,a);var o=document.getElementsByClassName("pinned")[0];if(o){o.classList.remove("pinned");var d=n.list.find(function(e){return e.id===o.dataset.id});d&&(d.pinned=!1)}s.classList.add("pinned"),n.el.insertBefore(s,n.el.firstElementChild)}},n=this,i=0,r=e.composedPath();i<r.length;i++){if("break"===t(r[i]))break}},e.prototype.handleChange=function(e){var t=e.target.parentElement;if(t&&t.classList.contains("todo-item")){var n=this.list.find(function(e){return e.id===t.getAttribute("data-id")});n&&(n.status=n.status===i.Status.ACTIVE?i.Status.COMPLETED:i.Status.ACTIVE,t.classList.toggle("todo-completed"))}},e.prototype.handleSwipeLeft=function(e){for(var t=0,n=e.composedPath();t<n.length;t++){var i=n[t];if(i.classList&&i.classList.contains("todo-item")){this.swipedLeft&&(this.swipedLeft.hidden=!0),this.swipedLeft=i.getElementsByClassName("todo-actions")[0],this.swipedLeft.hidden=!1;break}}},e.prototype.handleNewTodo=function(){if(this.newTodo){var e=this.newTodo.value.trim();if(""===e)return;var t=new i.Todo(e),n=this.createTodoItem(t);this.list.length>0&&this.list[0].pinned?(this.list.splice(1,0,t),"COMPLETED"!==this.filter&&(this.el.childElementCount>1?this.el.insertBefore(n,this.el.firstElementChild.nextElementSibling):this.el.appendChild(n))):(this.list.unshift(t),"COMPLETED"!==this.filter&&this.el.insertBefore(n,this.el.firstElementChild)),this.newTodo.value=""}},e.prototype.checkDueDate=function(){var e=new Date;this.list.forEach(function(t){if(t.dueDate){var n=new Date(t.dueDate.toString()),r=e.getFullYear()>=n.getFullYear()&&e.getMonth()>=n.getMonth()&&e.getDate()>n.getDate();t.status=r?i.Status.COMPLETED:t.status}})},e}();t.default=s},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.COMPLETED=1]="COMPLETED"}(i||(i={})),t.Status=i;var r=function(){return function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.id=Date.now()+Math.random().toString(36).substring(2),this.pinned=!1,this.title=e,this.dueDate=t,this.reminderTime=n,this.detail="",this.status=i.ACTIVE}}();t.Todo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.listenToSwipe=function(e,t,n){var i={x:0,y:0};t.addEventListener("touchstart",function(e){i.x=e.touches[0].clientX,i.y=e.touches[0].clientY}),t.addEventListener("touchend",function(t){var r=t.changedTouches[0].clientX-i.x,s=t.changedTouches[0].clientY-i.y;switch(e){case"left":r<0&&Math.abs(r)>30&&Math.abs(s)<20&&n(t)}})},t.delegate=function(e,t,n,i){e.addEventListener(n,function(e){for(var n=0,r=e.composedPath();n<r.length;n++)if(r[n]===t){i.call(t,e);break}})}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),a=function(e){function t(t,n,i,r){var s=e.call(this,t,n,r)||this;return s.calendar=i,s.handleDayChange=s.handleDayChange.bind(s),s.calendar.el.addEventListener("click",s.handleDayChange),s.render(),s}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.calendar){this.checkDueDate(),s.removeAllChildren(this.el);var n=this.list.filter(function(e){if(!e.dueDate)return!1;var n=new Date(e.dueDate.toString()),i=t.calendar.selected,r=i.year,s=i.month,a=i.day;return n.getFullYear()===r&&n.getMonth()+1===s&&n.getDate()===a});(e=this.el).append.apply(e,n.map(function(e){return t.createTodoItem(e)}))}},t.prototype.handleDayChange=function(e){var t=e.target;t&&t.classList.contains("this-month")&&this.render()},t}(n(4).default);t.default=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),a=function(e){function t(t,n,i,r){var s=e.call(this,t,n,i)||this;return s.searchEl=r,s.secEl=document.getElementsByClassName("search-sec")[0],s.titleEl=document.querySelector(".searching>span"),s.render=s.render.bind(s),s.searchEl.addEventListener("keyup",function(){s.secEl.style.order="-2",s.render()}),window.addEventListener("click",function(e){e.target!==s.secEl&&(s.secEl.style.order="0")}),s.render(),s}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.searchEl){this.checkDueDate(),s.removeAllChildren(this.el);var n=this.searchEl.value;this.titleEl.innerText=n;var i=this.list.filter(function(e){return e.title.includes(n)});(e=this.el).append.apply(e,i.map(function(e){return t.createTodoItem(e)}))}},t}(n(4).default);t.default=a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLnRzIiwid2VicGFjazovLy8uL3NyYy90aW1lcGlja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RvZG8tZWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy90b2RvLWxpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FsZW5kYXItdG9kby1saXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9zZWFyY2gtcmVzdWx0LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ2FsZW5kYXIiLCJjYWxlbmRhciIsInRoaXMiLCJzZWxlY3RlZCIsInllYXIiLCJtb250aCIsImRheSIsImVsIiwiY2FsZW5kYXJJbmRpY2F0b3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW5kZXJJbmRpY2F0b3IiLCJjYWxlbmRhckhlYWQiLCJyZW5kZXJIZWFkIiwiY2FsZW5kYXJCb2R5IiwidG9keSIsIkRhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwicmVuZGVyQm9keSIsImdldERhdGUiLCJhcHBlbmQiLCJfdGhpcyIsInByZXYiLCJpbm5lclRleHQiLCJjdXIiLCJuZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwidGFyZ2V0IiwiY29udGFpbnMiLCJoZWFkQ2hpbGRyZW4iLCJtYXAiLCJ3ZWVrZGF5IiwiX2EiLCJhcHBseSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpbm5lckhUTUwiLCJtb250aHMiLCJkYXlzIiwiZGF5c0luTW9udGgiLCJkYXlDZWxscyIsImRheUNlbGwiLCJwdXNoIiwidG9kYXkiLCJ3ZWVrZGF5T2ZGaXJzdERheSIsImdldFVUQ0RheSIsInVuc2hpZnQiLCJyZW1vdmUiLCJwYXJzZUludCIsImRlZmF1bHQiLCJUaW1lUGlja2VyIiwidGltZVBpY2tlciIsImhvdXJQaWNrZXIiLCJyZW5kZXJIb3VyUGlja2VyIiwibWludXRlUGlja2VyIiwicmVuZGVyTWludXRlUGlja2VyIiwidGV4dCIsImNyZWF0ZVRleHROb2RlIiwib3B0aW9ucyIsIm9wdGlvbiIsIm1vZGVsXzEiLCJ0b2RvX2VkaXRvcl8xIiwiY2FsZW5kYXJfMSIsInRvZG9fbGlzdF8xIiwic2VhcmNoX3Jlc3VsdF8xIiwiY2FsZW5kYXJfdG9kb19saXN0XzEiLCJBcHAiLCJjdXJUb2RvSWQiLCJmaWx0ZXIiLCJyZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGlzdCIsIkpTT04iLCJwYXJzZSIsImVkaXRvciIsInRvZG9MaXN0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYWxlbmRhclRvZG9MaXN0Iiwic2VhcmNoUmVzdWx0IiwiaW5pdCIsImNvbmZpZ1JvdXRlcyIsImZvckVhY2giLCJ0b2RvIiwic3RhdHVzIiwiU3RhdHVzIiwiQ09NUExFVEVEIiwicmVuZGVyIiwiQUNUSVZFIiwiYXRjaXZlSXRlbXMiLCJyZWR1Y2UiLCJzcGxpY2UiLCJsZW5ndGgiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50RWxlbWVudCIsImNoZWNrZWQiLCJ3aW5kb3ciLCJpZCIsInRhc2tzTmF2IiwiY2FsZW5kYXJOYXYiLCJ0YXNrc1NlYyIsInNjaGVkdWxlU2VjIiwiYXBwIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInRpbWVwaWNrZXJfMSIsIlRvZG9FZGl0b3IiLCJ0b2RvbGlzdCIsImVkaXRvckNsb3NlZCIsIkV2ZW50IiwiZHVlZGF0ZVBpY2tlciIsImFsYXJtRGF0ZVBpY2tlciIsImFsYXJtVGltZVBpY2tlciIsImhhbmRsZUNsaWNrIiwiZWRpdFRpdGxlIiwiZmluZCIsInRpdGxlIiwidG9kb0RldGFpbHMiLCJkZXRhaWwiLCJvcGVuIiwidG9kb0lkIiwiZHVlRGF0ZSIsImR1ZWRhdGUiLCJ0b1N0cmluZyIsInRvRGF0ZVN0cmluZyIsInJlbWluZGVyVGltZSIsInJlbWluZGVyIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiY2xvc2UiLCJkaXNwYXRjaEV2ZW50IiwiX2kiLCJjb21wb3NlZFBhdGgiLCJfYiIsImRhdGV0aW1lIiwiZHVlZGF0ZUNvbnRyb2wiLCJfYyIsImhvdXIiLCJtaW4iLCJhbGFybUNvbnRyb2wiLCJVdGlscyIsIlRvZG9MaXN0IiwibmV3VG9kbyIsInN3aXBlZExlZnQiLCJoYW5kbGVDaGFuZ2UiLCJoYW5kbGVTd2lwZUxlZnQiLCJoYW5kbGVOZXdUb2RvIiwibGlzdGVuVG9Td2lwZSIsIm5leHRFbGVtZW50U2libGluZyIsImhpZGRlbiIsImNoZWNrRHVlRGF0ZSIsInRvZG9zIiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJjcmVhdGVUb2RvSXRlbSIsImxpIiwicGlubmVkIiwiZGF0YXNldCIsImNoZWNrYm94IiwidHlwZSIsInRvZG9JbmZvIiwiYWN0aW9ucyIsInBpbkJ0biIsImVkaXRCdG4iLCJkZWxldGVCdG4iLCJsaV8xIiwidGhpc18xIiwiZmluZEluZGV4IiwibGlfMiIsImRlbGV0ZWQiLCJwaW5uZWRfMSIsInBpbm5lZFRvZG8iLCJpbnNlcnRCZWZvcmUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImdldEF0dHJpYnV0ZSIsInRvZ2dsZSIsInRyaW0iLCJUb2RvIiwiY2hpbGRFbGVtZW50Q291bnQiLCJhcHBlbmRDaGlsZCIsImZsYWciLCJub3ciLCJNYXRoIiwicmFuZG9tIiwic3Vic3RyaW5nIiwiZGlyZWN0b2luIiwibGlzdGVuZXIiLCJzdGFydFBvcyIsIngiLCJ5IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZGlmZlgiLCJjaGFuZ2VkVG91Y2hlcyIsImRpZmZZIiwiYWJzIiwiZGVsZWdhdGUiLCJzcmMiLCJoYW5kbGVyIiwiQ2FsZW5kZXJUb2RvTGlzdCIsIl9zdXBlciIsImhhbmRsZURheUNoYW5nZSIsIl9fZXh0ZW5kcyIsImxpc3RPZkRheSIsIlNlYXJjaFJlc3VsdCIsInNlYXJjaEVsIiwic2VjRWwiLCJ0aXRsZUVsIiwic3R5bGUiLCJvcmRlciIsImtleXdvcmQiLCJpbmNsdWRlcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEs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TCxFQUFBek8sS0FBQStCLEtBQU0rRSxFQUFVRCxFQUFRekUsSUFBR0wsWUFDM0JzQixFQUFLeUwsU0FBV0EsRUFDaEJ6TCxFQUFLMEwsTUFBUXpNLFNBQVMrQix1QkFBdUIsY0FBYyxHQUMzRGhCLEVBQUsyTCxRQUFVMU0sU0FBU3lGLGNBQWMsbUJBRXRDMUUsRUFBS29FLE9BQVNwRSxFQUFLb0UsT0FBT3BHLEtBQUtnQyxHQUUvQkEsRUFBS3lMLFNBQVNwTCxpQkFBaUIsUUFBUyxXQUNwQ0wsRUFBSzBMLE1BQU1FLE1BQU1DLE1BQVEsS0FDekI3TCxFQUFLb0UsV0FHVFMsT0FBT3hFLGlCQUFpQixRQUFTLFNBQUNDLEdBQ2ZBLEVBQUdDLFNBQ0hQLEVBQUswTCxRQUFPMUwsRUFBSzBMLE1BQU1FLE1BQU1DLE1BQVEsT0FHeEQ3TCxFQUFLb0UsV0FjYixPQXJDMkJrSCxFQUFBRSxFQUFBSixHQTBCdkJJLEVBQUFwTixVQUFBZ0csT0FBQSxpQkFBQXBFLEVBQUF0QixLQUNJLEdBQUtBLEtBQUsrTSxTQUFWLENBRUEvTSxLQUFLd0osZUFFTFYsRUFBTVksa0JBQWtCMUosS0FBS0ssSUFDN0IsSUFBTStNLEVBQVVwTixLQUFLK00sU0FBU2hPLE1BQzlCaUIsS0FBS2lOLFFBQVF6TCxVQUFZNEwsRUFDekIsSUFBTTVJLEVBQU14RSxLQUFLMkUsS0FBS0osT0FBTyxTQUFBZSxHQUFRLE9BQUFBLEVBQUtpQyxNQUFNOEYsU0FBU0QsTUFDekRsTCxFQUFBbEMsS0FBS0ssSUFBR2dCLE9BQU1jLE1BQUFELEVBQUlzQyxFQUFJeEMsSUFBSSxTQUFBc0QsR0FBUSxPQUFBaEUsRUFBS3FJLGVBQWVyRSxRQUU5RHdILEVBckNBLENBRkFwUCxFQUFBLEdBRTJCMEYsU0F1QzNCeEYsRUFBQXdGLFFBQWUwSiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCJjbGFzcyBDYWxlbmRhciB7XG4gICAgZWw6IEhUTUxFbGVtZW50O1xuICAgIGNhbGVuZGFySW5kaWNhdG9yOiBIVE1MRWxlbWVudDtcbiAgICBjYWxlbmRhckhlYWQ6IEhUTUxFbGVtZW50O1xuICAgIGNhbGVuZGFyQm9keTogSFRNTEVsZW1lbnQ7XG4gICAgbW9udGg6IG51bWJlcjtcbiAgICB5ZWFyOiBudW1iZXI7XG4gICAgc2VsZWN0ZWQgPSB7XG4gICAgICAgIHllYXI6IDAsXG4gICAgICAgIG1vbnRoOiAwLFxuICAgICAgICBkYXk6IDBcbiAgICB9O1xuICAgIHN0YXRpYyBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbiAgICBjb25zdHJ1Y3RvcihjYWxlbmRhcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbCA9IGNhbGVuZGFyO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1pbmRpY2F0b3InKTtcbiAgICAgICAgdGhpcy5yZW5kZXJJbmRpY2F0b3IoKTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFySGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNhbGVuZGFySGVhZC5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1oZWFkJyk7XG4gICAgICAgIHRoaXMucmVuZGVySGVhZCgpO1xuXG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckJvZHkuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItYm9keScpO1xuICAgICAgICBjb25zdCB0b2R5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5tb250aCA9IHRvZHkuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgIHRoaXMueWVhciA9IHRvZHkuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJCb2R5KHRoaXMubW9udGgsIHRoaXMueWVhcik7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZC5kYXkgPSB0b2R5LmdldERhdGUoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZC5tb250aCA9IHRoaXMubW9udGg7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQueWVhciA9IHRoaXMueWVhcjtcblxuICAgICAgICB0aGlzLmVsLmFwcGVuZCh0aGlzLmNhbGVuZGFySW5kaWNhdG9yLCB0aGlzLmNhbGVuZGFySGVhZCwgdGhpcy5jYWxlbmRhckJvZHkpO1xuICAgIH1cblxuICAgIHJlbmRlckluZGljYXRvcigpIHtcbiAgICAgICAgY29uc3QgcHJldiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwcmV2LmlubmVyVGV4dCA9ICfina4nO1xuICAgICAgICBwcmV2LmNsYXNzTGlzdC5hZGQoJ3ByZXYtbW9udGgnKTtcbiAgICAgICAgY29uc3QgY3VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgY3VyLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtbW9udGgnKTtcbiAgICAgICAgY29uc3QgbmV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBuZXh0LmNsYXNzTGlzdC5hZGQoJ25leHQtbW9udGgnKTtcbiAgICAgICAgbmV4dC5pbm5lclRleHQgPSAn4p2vJztcblxuICAgICAgICB0aGlzLmNhbGVuZGFySW5kaWNhdG9yLmFwcGVuZChwcmV2LCBjdXIsIG5leHQpO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3ByZXYtbW9udGgnKSkge1xuICAgICAgICAgICAgICAgIGlmICgtLXRoaXMubW9udGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCA9IDEyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIgLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCb2R5KHRoaXMubW9udGgsIHRoaXMueWVhcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25leHQtbW9udGgnKSkge1xuICAgICAgICAgICAgICAgIGlmICgrK3RoaXMubW9udGggPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGggPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCb2R5KHRoaXMubW9udGgsIHRoaXMueWVhcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlckhlYWQoKSB7XG4gICAgICAgIGNvbnN0IHdlZWtkYXlzID0gWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXTtcbiAgICAgICAgY29uc3QgaGVhZENoaWxkcmVuID0gd2Vla2RheXMubWFwKGRheSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3ZWVrZGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB3ZWVrZGF5LmNsYXNzTGlzdC5hZGQoJ3dlZWtkYXknKTtcbiAgICAgICAgICAgIHdlZWtkYXkuaW5uZXJUZXh0ID0gZGF5O1xuICAgICAgICAgICAgcmV0dXJuIHdlZWtkYXk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNhbGVuZGFySGVhZC5hcHBlbmQoLi4uaGVhZENoaWxkcmVuKTtcbiAgICB9XG5cbiAgICByZW5kZXJCb2R5KG1vbnRoOiBudW1iZXIsIHllYXI6IG51bWJlcikge1xuICAgICAgICB3aGlsZSAodGhpcy5jYWxlbmRhckJvZHkuZmlyc3RDaGlsZCkgdGhpcy5jYWxlbmRhckJvZHkucmVtb3ZlQ2hpbGQodGhpcy5jYWxlbmRhckJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnN0IGN1ck1vbnRoID0gdGhpcy5jYWxlbmRhckluZGljYXRvci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXJyZW50LW1vbnRoJylbMF07XG4gICAgICAgIGN1ck1vbnRoLmlubmVySFRNTCA9IGAke0NhbGVuZGFyLm1vbnRoc1ttb250aCAtIDFdfSAke3llYXJ9YDtcblxuICAgICAgICBjb25zdCBkYXlzID0gdGhpcy5kYXlzSW5Nb250aChtb250aCwgeWVhcik7XG5cbiAgICAgICAgY29uc3QgZGF5Q2VsbHM6IEhUTUxFbGVtZW50W10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCBkYXlzOyArK2tleSkge1xuICAgICAgICAgICAgY29uc3QgZGF5Q2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGF5Q2VsbC5jbGFzc0xpc3QuYWRkKCdjZWxsLWRheScsICd0aGlzLW1vbnRoJyk7XG4gICAgICAgICAgICBkYXlDZWxsLmlubmVyVGV4dCA9IGAke2tleSArIDF9YDtcbiAgICAgICAgICAgIGRheUNlbGxzLnB1c2goZGF5Q2VsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLnllYXIgPT09IHRvZGF5LmdldEZ1bGxZZWFyKCkgJiYgdGhpcy5tb250aCA9PT0gdG9kYXkuZ2V0TW9udGgoKSArIDEpIHtcbiAgICAgICAgICAgIGRheUNlbGxzW3RvZGF5LmdldERhdGUoKSAtIDFdLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3ZWVrZGF5T2ZGaXJzdERheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKS5nZXRVVENEYXkoKSB8fCA3O1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHdlZWtkYXlPZkZpcnN0RGF5OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRheUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRheUNlbGwuY2xhc3NMaXN0LmFkZCgnY2VsbC1kYXknKTtcbiAgICAgICAgICAgIGRheUNlbGxzLnVuc2hpZnQoZGF5Q2VsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxlbmRhckJvZHkuYXBwZW5kKC4uLmRheUNlbGxzKTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFyQm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3RoaXMtbW9udGgnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5jYWxlbmRhckJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKVswXTtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCAmJiBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuZGF5ID0gcGFyc2VJbnQodGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5tb250aCA9IHRoaXMubW9udGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC55ZWFyID0gdGhpcy55ZWFyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkYXlzSW5Nb250aChtb250aDogbnVtYmVyLCB5ZWFyOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwKS5nZXREYXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYWxlbmRhcjsiLCJjbGFzcyBUaW1lUGlja2VyIHtcbiAgICB0aW1lUGlja2VyOiBIVE1MRWxlbWVudDtcbiAgICBob3VyUGlja2VyOiBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICBtaW51dGVQaWNrZXI6IEhUTUxTZWxlY3RFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IodGltZVBpY2tlcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50aW1lUGlja2VyID0gdGltZVBpY2tlcjtcbiAgICAgICAgdGhpcy5ob3VyUGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICAgIHRoaXMuaG91clBpY2tlci5jbGFzc0xpc3QuYWRkKCdob3VyLXBpY2tlcicpO1xuICAgICAgICB0aGlzLnJlbmRlckhvdXJQaWNrZXIoKTtcblxuICAgICAgICB0aGlzLm1pbnV0ZVBpY2tlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICB0aGlzLm1pbnV0ZVBpY2tlci5jbGFzc0xpc3QuYWRkKCdtaW51dGUtcGlja2VyJyk7XG4gICAgICAgIHRoaXMucmVuZGVyTWludXRlUGlja2VyKCk7XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCc6Jyk7XG5cbiAgICAgICAgdGhpcy50aW1lUGlja2VyLmFwcGVuZCh0aGlzLmhvdXJQaWNrZXIsIHRleHQsIHRoaXMubWludXRlUGlja2VyKTtcbiAgICB9XG5cbiAgICByZW5kZXJIb3VyUGlja2VyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7ICsraSkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBgJHtpfWA7XG4gICAgICAgICAgICBvcHRpb24uaW5uZXJUZXh0ID0gYCR7aX1gO1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKG9wdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhvdXJQaWNrZXIuYXBwZW5kKC4uLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJlbmRlck1pbnV0ZVBpY2tlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDYwOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gYCR7aX1gO1xuICAgICAgICAgICAgb3B0aW9uLmlubmVyVGV4dCA9IGAke2l9YDtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW51dGVQaWNrZXIuYXBwZW5kKC4uLm9wdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGltZVBpY2tlcjsiLCJpbXBvcnQgeyBUb2RvLCBTdGF0dXMgfSBmcm9tICcuL21vZGVsJztcbmltcG9ydCBUb2RvRWRpdG9yIGZyb20gJy4vdG9kby1lZGl0b3InO1xuaW1wb3J0IENhbGVuZGFyIGZyb20gJy4vY2FsZW5kYXInO1xuaW1wb3J0IFRvZG9MaXN0IGZyb20gJy4vdG9kby1saXN0JztcbmltcG9ydCBTZWFyY2hSZXN1bHQgZnJvbSAnLi9zZWFyY2gtcmVzdWx0JztcbmltcG9ydCBDYWxlbmRhclRvZG9MaXN0IGZyb20gJy4vY2FsZW5kYXItdG9kby1saXN0JztcblxuY2xhc3MgQXBwIHtcbiAgICBsaXN0OiBUb2RvW107XG4gICAgZWRpdG9yOiBUb2RvRWRpdG9yO1xuICAgIHRvZG9MaXN0OiBUb2RvTGlzdDtcbiAgICBjYWxlbmRhclRvZG9MaXN0OiBDYWxlbmRhclRvZG9MaXN0O1xuICAgIHNlYXJjaFJlc3VsdDogVG9kb0xpc3Q7XG4gICAgY3VyVG9kb0lkID0gJyc7XG4gICAgZmlsdGVyOiBzdHJpbmcgPSAnQUxMJztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBMb2FkIGRhdGEgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgICAgIGNvbnN0IHJlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvbGlzdCcpO1xuICAgICAgICB0aGlzLmxpc3QgPSByZXMgPyBKU09OLnBhcnNlKHJlcykgOiBbXTtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgVG9kb0VkaXRvcih0aGlzLmxpc3QpO1xuICAgICAgICB0aGlzLnRvZG9MaXN0ID0gbmV3IFRvZG9MaXN0KFxuICAgICAgICAgICAgdGhpcy5saXN0LFxuICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kby1saXN0JykgYXMgSFRNTFVMaXN0RWxlbWVudCxcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctdG9kbycpIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjYWxlbmRhciA9IG5ldyBDYWxlbmRhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXInKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJUb2RvTGlzdCA9IG5ldyBDYWxlbmRhclRvZG9MaXN0KFxuICAgICAgICAgICAgdGhpcy5saXN0LFxuICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICBjYWxlbmRhcixcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvbGlzdC1ieS1kYXknKSBhcyBIVE1MRWxlbWVudFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0ID0gbmV3IFNlYXJjaFJlc3VsdChcbiAgICAgICAgICAgIHRoaXMubGlzdCxcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdC1saXN0JykgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXRvZG8nKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5jb25maWdSb3V0ZXMoKTtcblxuICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBsZXRlLWFsbCcpIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKHRvZG8gPT4gdG9kby5zdGF0dXMgPSBTdGF0dXMuQ09NUExFVEVEKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRoaXMuZmlsdGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmNvbXBsZXRlLWFsbCcpIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKHRvZG8gPT4gdG9kby5zdGF0dXMgPSBTdGF0dXMuQUNUSVZFKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRoaXMuZmlsdGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmUtYWxsLWNvbXBsZXRlZCcpIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF0Y2l2ZUl0ZW1zID0gdGhpcy5saXN0LnJlZHVjZSgocHJldjogYW55LCB0b2RvKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvZG8uc3RhdHVzID09PSBTdGF0dXMuQUNUSVZFKSBwcmV2LnB1c2godG9kbyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICB0aGlzLmxpc3Quc3BsaWNlKDAsIHRoaXMubGlzdC5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5saXN0LnB1c2goLi4uYXRjaXZlSXRlbXMpO1xuICAgICAgICAgICAgdGhpcy50b2RvTGlzdC5yZW5kZXIodGhpcy5maWx0ZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBmaWx0ZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlcnMnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgZmlsdGVycy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLnNlbGVjdGVkJyk7XG4gICAgICAgICAgICBzZWxlY3RlZCAmJiBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuXG4gICAgICAgICAgICAodGFyZ2V0LnBhcmVudEVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnZmlsdGVyJykge1xuICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyLW9wdGlvbnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSB0YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy50b2RvTGlzdC5yZW5kZXIodGhpcy5maWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRhcmdldC5pZCAhPT0gJ2ZpbHRlci1vcHRpb25zJykge1xuICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyLW9wdGlvbnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQuaWQgIT09ICdvcGVyYXRpb25zLWNvbnRyb2wnKSB7XG4gICAgICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGVyYXRpb25zLWNvbnRyb2wnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbmZpZ1JvdXRlcygpIHtcbiAgICAgICAgY29uc3QgdGFza3NOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm91dGUtdGFza3MnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgY2FsZW5kYXJOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm91dGUtY2FsZW5kYXInKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgdGFza3NTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza3MnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3Qgc2NoZWR1bGVTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NoZWR1bGUnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICB0YXNrc05hdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlYyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2N1cnJlbnQtc2VjJylbMF07XG4gICAgICAgICAgICBjdXJyZW50U2VjLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQtc2VjJyk7XG4gICAgICAgICAgICB0YXNrc1NlYy5jbGFzc0xpc3QuYWRkKCdjdXJyZW50LXNlYycpO1xuICAgICAgICAgICAgY2FsZW5kYXJOYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWFjdGl2ZScpO1xuICAgICAgICAgICAgdGFza3NOYXYuY2xhc3NMaXN0LmFkZCgnbmF2LWFjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy50b2RvTGlzdC5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FsZW5kYXJOYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXJyZW50LXNlYycpWzBdO1xuICAgICAgICAgICAgY3VycmVudFNlYy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50LXNlYycpO1xuICAgICAgICAgICAgc2NoZWR1bGVTZWMuY2xhc3NMaXN0LmFkZCgnY3VycmVudC1zZWMnKTtcbiAgICAgICAgICAgIHRhc2tzTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIGNhbGVuZGFyTmF2LmNsYXNzTGlzdC5hZGQoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJUb2RvTGlzdC5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIGNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5sb2FkJywgKCkgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb2xpc3QnLCBKU09OLnN0cmluZ2lmeShhcHAudG9kb0xpc3QubGlzdCkpO1xuICAgIH0pO1xufSk7IiwiaW1wb3J0IHsgVG9kbyB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0IENhbGVuZGFyIGZyb20gJy4vY2FsZW5kYXInO1xuaW1wb3J0IFRpbWVQaWNrZXIgZnJvbSAnLi90aW1lcGlja2VyJztcblxuY2xhc3MgVG9kb0VkaXRvciB7XG4gICAgbGlzdDogVG9kb1tdO1xuICAgIGVsOiBIVE1MRWxlbWVudDtcbiAgICBkdWVkYXRlUGlja2VyOiBDYWxlbmRhcjtcbiAgICBhbGFybURhdGVQaWNrZXI6IENhbGVuZGFyO1xuICAgIGFsYXJtVGltZVBpY2tlcjogVGltZVBpY2tlcjtcbiAgICBjdXJUb2RvSWQ6IHN0cmluZyA9ICcnO1xuICAgIGVkaXRvckNsb3NlZDogRXZlbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih0b2RvbGlzdDogVG9kb1tdKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IHRvZG9saXN0O1xuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RldGFpbHMnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgdGhpcy5lZGl0b3JDbG9zZWQgPSBuZXcgRXZlbnQoJ2VkaXRvckNsb3NlZCcpO1xuICAgICAgICB0aGlzLmR1ZWRhdGVQaWNrZXIgPSBuZXcgQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1ZS1kYXRlLXBpY2tlcicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5hbGFybURhdGVQaWNrZXIgPSBuZXcgQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsYXJtLXBpY2tlcicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5hbGFybVRpbWVQaWNrZXIgPSBuZXcgVGltZVBpY2tlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1waWNrZXInKSBhcyBIVE1MRWxlbWVudCk7XG5cbiAgICAgICAgLy8gYmluZCBoYW5kbGVyc1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcblxuICAgICAgICBjb25zdCBlZGl0VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC10b2RvLXRpdGxlJyk7XG4gICAgICAgIGVkaXRUaXRsZSAmJiBlZGl0VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8udGl0bGUgPSAoZWRpdFRpdGxlIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0b2RvRGV0YWlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWRldGFpbHMnKTtcbiAgICAgICAgdG9kb0RldGFpbHMgJiYgdG9kb0RldGFpbHMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8uZGV0YWlsID0gKHRvZG9EZXRhaWxzIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIG9wZW4gZWRpdG9yXG4gICAgICovXG4gICAgb3Blbih0b2RvSWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmN1clRvZG9JZCA9IHRvZG9JZDtcbiAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdG9kb0lkKTtcbiAgICAgICAgaWYgKHRvZG8pIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXRvZG8tdGl0bGVdJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0aXRsZSkgdGl0bGUudmFsdWUgPSB0b2RvLnRpdGxlO1xuXG4gICAgICAgICAgICBjb25zdCBkdWVEYXRlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9ZHVlLWRhdGUtY29udHJvbF0nKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRvZG8uZHVlRGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgZHVlRGF0ZS5pbm5lclRleHQgPSBgRHVlIG9uICR7ZHVlZGF0ZS50b0RhdGVTdHJpbmcoKX1gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkdWVEYXRlLmlubmVyVGV4dCA9ICdEdWUgRGF0ZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbWluZGVyVGltZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPWFsYXJtLWNvbnRyb2xdJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodG9kby5yZW1pbmRlclRpbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1pbmRlciA9IG5ldyBEYXRlKHRvZG8ucmVtaW5kZXJUaW1lLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZS5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgICAgICBgPHNwYW4+UmVtaW5kIG1lIGF0ICR7cmVtaW5kZXIudG9Mb2NhbGVUaW1lU3RyaW5nKCl9PC9zcGFuPjxzcGFuPk9uICR7cmVtaW5kZXIudG9EYXRlU3RyaW5nKCl9PC9zcGFuPmA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZS5pbm5lckhUTUwgPSAnUmVtaW5kIE1lJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tZGV0YWlscycpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodG9kby5kZXRhaWwpIGRldGFpbC52YWx1ZSA9IHRvZG8uZGV0YWlsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KHRoaXMuZWRpdG9yQ2xvc2VkKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayhldjogTW91c2VFdmVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIChldi5jb21wb3NlZFBhdGgoKSBhcyBIVE1MRWxlbWVudFtdKSkge1xuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlLWVkaXRvcicpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkdWUtZGF0ZS1zYXZlJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkdWVEYXRlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9ZHVlLWRhdGUtY29udHJvbF0nKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHllYXIsIG1vbnRoLCBkYXkgfSA9IHRoaXMuZHVlZGF0ZVBpY2tlci5zZWxlY3RlZDtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KTtcbiAgICAgICAgICAgICAgICBkdWVEYXRlLmlubmVyVGV4dCA9IGBEdWUgb24gJHtkYXRldGltZS50b0RhdGVTdHJpbmcoKX1gO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0b2RvKSB0b2RvLmR1ZURhdGUgPSBkYXRldGltZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZHVlLWRhdGUtY2FuY2VsJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkdWVkYXRlQ29udHJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWUtZGF0ZS1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoZHVlZGF0ZUNvbnRyb2wpIGR1ZWRhdGVDb250cm9sLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygncmVtaW5kZXItc2F2ZScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtaW5kZXJUaW1lID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9YWxhcm0tY29udHJvbF0nKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHllYXIsIG1vbnRoLCBkYXkgfSA9IHRoaXMuYWxhcm1EYXRlUGlja2VyLnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIGlmICh5ZWFyID09PSAwKSBicmVhaztcblxuICAgICAgICAgICAgICAgIGNvbnN0IGhvdXIgPSBwYXJzZUludCh0aGlzLmFsYXJtVGltZVBpY2tlci5ob3VyUGlja2VyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaW4gPSBwYXJzZUludCh0aGlzLmFsYXJtVGltZVBpY2tlci5taW51dGVQaWNrZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXksIGhvdXIsIG1pbik7XG5cbiAgICAgICAgICAgICAgICByZW1pbmRlclRpbWUuaW5uZXJIVE1MID0gYDxzcGFuPlJlbWluZCBtZSBhdCAke2RhdGV0aW1lLnRvTG9jYWxlVGltZVN0cmluZygpfTwvc3Bhbj4gXG4gICAgICAgICAgICAgICAgPHNwYW4+T24gJHtkYXRldGltZS50b0RhdGVTdHJpbmcoKX08L3NwYW4+YDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IHRoaXMuY3VyVG9kb0lkKTtcbiAgICAgICAgICAgICAgICBpZiAodG9kbykgdG9kby5yZW1pbmRlclRpbWUgPSBkYXRldGltZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygncmVtaW5kZXItY2FuY2VsJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGFybUNvbnRyb2wgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxhcm0tY29udHJvbCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGFsYXJtQ29udHJvbCkgYWxhcm1Db250cm9sLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9kb0VkaXRvcjsiLCJpbXBvcnQgeyBUb2RvLCBTdGF0dXMgfSBmcm9tICcuL21vZGVsJztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IFRvZG9FZGl0b3IgZnJvbSAnLi90b2RvLWVkaXRvcic7XG5cbmNsYXNzIFRvZG9MaXN0IHtcbiAgICBsaXN0OiBUb2RvW107XG4gICAgZWw6IEhUTUxFbGVtZW50O1xuICAgIGVkaXRvcjogVG9kb0VkaXRvcjtcbiAgICBjdXJUb2RvSWQ6IHN0cmluZyA9ICcnO1xuICAgIGZpbHRlcjogc3RyaW5nID0gJ0FMTCc7XG4gICAgc3dpcGVkTGVmdDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBuZXdUb2RvOiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3Rvcih0b2RvTGlzdDogVG9kb1tdLCBlZGl0b3I6IFRvZG9FZGl0b3IsIGVsOiBIVE1MRWxlbWVudCwgbmV3VG9kbz86IEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gdG9kb0xpc3Q7XG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTtcbiAgICAgICAgaWYgKG5ld1RvZG8pIHRoaXMubmV3VG9kbyA9IG5ld1RvZG87XG5cbiAgICAgICAgLy8gYmluZCBoYW5kbGVyc1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlU3dpcGVMZWZ0ID0gdGhpcy5oYW5kbGVTd2lwZUxlZnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVOZXdUb2RvID0gdGhpcy5oYW5kbGVOZXdUb2RvLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlQ2hhbmdlKTtcbiAgICAgICAgVXRpbHMubGlzdGVuVG9Td2lwZSgnbGVmdCcsIHRoaXMuZWwsIHRoaXMuaGFuZGxlU3dpcGVMZWZ0KTtcblxuICAgICAgICB0aGlzLmVkaXRvci5lbC5hZGRFdmVudExpc3RlbmVyKCdlZGl0b3JDbG9zZWQnLCAoZXYpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm5ld1RvZG8pIHtcbiAgICAgICAgICAgIHRoaXMubmV3VG9kby5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChldikgPT4gZXYua2V5ID09PSAnRW50ZXInICYmIHRoaXMuaGFuZGxlTmV3VG9kbygpKTtcbiAgICAgICAgICAgICh0aGlzLm5ld1RvZG8ubmV4dEVsZW1lbnRTaWJsaW5nIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlTmV3VG9kbyk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN3aXBlZExlZnQpIHRoaXMuc3dpcGVkTGVmdC5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoZmlsdGVyOiBzdHJpbmcgPSAnQUxMJykge1xuICAgICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjtcbiAgICAgICAgdGhpcy5jaGVja0R1ZURhdGUoKTtcblxuICAgICAgICBjb25zdCB0b2RvcyA9IGZpbHRlciA9PT0gJ0FMTCcgPyB0aGlzLmxpc3QgOiB0aGlzLmxpc3QuZmlsdGVyKHRvZG8gPT4gU3RhdHVzW3RvZG8uc3RhdHVzXSA9PT0gZmlsdGVyKTtcbiAgICAgICAgVXRpbHMucmVtb3ZlQWxsQ2hpbGRyZW4odGhpcy5lbCk7XG5cbiAgICAgICAgdGhpcy5lbC5hcHBlbmQoLi4udG9kb3MubWFwKHRvZG8gPT4gdGhpcy5jcmVhdGVUb2RvSXRlbSh0b2RvKSkpO1xuICAgIH1cblxuICAgIGNyZWF0ZVRvZG9JdGVtKHRvZG86IFRvZG8pIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCd0b2RvLWl0ZW0nLCB0b2RvLnN0YXR1cyA9PT0gU3RhdHVzLkFDVElWRSA/ICd0b2RvLWFjdGl2ZScgOiAndG9kby1jb21wbGV0ZWQnKTtcbiAgICAgICAgdG9kby5waW5uZWQgJiYgbGkuY2xhc3NMaXN0LmFkZCgncGlubmVkJyk7XG4gICAgICAgIGxpLmRhdGFzZXQuaWQgPSB0b2RvLmlkO1xuXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0b2RvLnN0YXR1cyA9PT0gU3RhdHVzLkNPTVBMRVRFRCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgndG9nZ2xlLXN0YXR1cycpO1xuXG4gICAgICAgIGNvbnN0IHRvZG9JbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvZG9JbmZvLmNsYXNzTGlzdC5hZGQoJ3RvZG8taW5mbycpO1xuICAgICAgICB0b2RvSW5mby5pbm5lclRleHQgPSB0b2RvLnRpdGxlO1xuXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWN0aW9ucy5jbGFzc0xpc3QuYWRkKCd0b2RvLWFjdGlvbnMnKTtcbiAgICAgICAgYWN0aW9ucy5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHBpbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBwaW5CdG4uY2xhc3NMaXN0LmFkZCgncGluLWJ1dHRvbicpO1xuICAgICAgICBwaW5CdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj52ZXJ0aWNhbF9hbGlnbl90b3A8L2k+YDtcbiAgICAgICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoJ2VkaXQtYnV0dG9uJyk7XG4gICAgICAgIGVkaXRCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5lZGl0PC9pPmA7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdkZWwtYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZV9mb3JldmVyPC9pPmA7XG5cbiAgICAgICAgYWN0aW9ucy5hcHBlbmQocGluQnRuLCBlZGl0QnRuLCBkZWxldGVCdG4pO1xuXG4gICAgICAgIGxpLmFwcGVuZChjaGVja2JveCwgdG9kb0luZm8sIGFjdGlvbnMpO1xuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiAoZXYuY29tcG9zZWRQYXRoKCkgYXMgSFRNTEVsZW1lbnRbXSkpIHtcblxuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbC1idXR0b24nKSkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogZGVsZXRlIHRvZG8gaXRlbVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gKGVsLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZSh0aGlzLmxpc3QuZmluZEluZGV4KHRvZG8gPT4gdG9kby5pZCA9PT0gbGkuZGF0YXNldC5pZCksIDEpO1xuICAgICAgICAgICAgICAgIGxpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0LWJ1dHRvbicpKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBlZGl0IHRvZG8gaXRlbVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gKGVsLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJUb2RvSWQgPSBsaS5kYXRhc2V0LmlkIHx8ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLm9wZW4odGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW4tYnV0dG9uJykpIHtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIHBpbiB0b2RvIGl0ZW1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBsaSA9IChlbC5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWQgPSB0aGlzLmxpc3Quc3BsaWNlKHRoaXMubGlzdC5maW5kSW5kZXgodG9kbyA9PiB0b2RvLmlkID09PSBsaS5kYXRhc2V0LmlkKSwgMSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlZFswXS5waW5uZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdC51bnNoaWZ0KC4uLmRlbGV0ZWQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGlubmVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGlubmVkJylbMF07XG4gICAgICAgICAgICAgICAgaWYgKHBpbm5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwaW5uZWQuY2xhc3NMaXN0LnJlbW92ZSgncGlubmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpbm5lZFRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IChwaW5uZWQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGlubmVkVG9kbykgcGlubmVkVG9kby5waW5uZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdwaW5uZWQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsLmluc2VydEJlZm9yZShsaSwgdGhpcy5lbC5maXJzdEVsZW1lbnRDaGlsZCBhcyBFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogaGFuZGxlIHN0YXR1cyBjaGFuZ2VcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2UoZXY6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgbGkgPSB0YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKGxpICYmIGxpLmNsYXNzTGlzdC5jb250YWlucygndG9kby1pdGVtJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcbiAgICAgICAgICAgIGlmICh0b2RvKSB7XG4gICAgICAgICAgICAgICAgdG9kby5zdGF0dXMgPSB0b2RvLnN0YXR1cyA9PT0gU3RhdHVzLkFDVElWRSA/IFN0YXR1cy5DT01QTEVURUQgOiBTdGF0dXMuQUNUSVZFO1xuICAgICAgICAgICAgICAgIGxpLmNsYXNzTGlzdC50b2dnbGUoJ3RvZG8tY29tcGxldGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTd2lwZUxlZnQoZXY6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiAoZXYuY29tcG9zZWRQYXRoKCkgYXMgSFRNTEVsZW1lbnRbXSkpIHtcbiAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b2RvLWl0ZW0nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN3aXBlZExlZnQpIHRoaXMuc3dpcGVkTGVmdC5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zd2lwZWRMZWZ0ID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndG9kby1hY3Rpb25zJylbMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2lwZWRMZWZ0LmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmV3VG9kbygpIHtcbiAgICAgICAgaWYgKHRoaXMubmV3VG9kbykge1xuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLm5ld1RvZG8udmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgaWYgKHRpdGxlID09PSAnJykgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IG5ldyBUb2RvKHRpdGxlKTtcbiAgICAgICAgICAgIGNvbnN0IGxpID0gdGhpcy5jcmVhdGVUb2RvSXRlbSh0b2RvKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpc3QubGVuZ3RoID4gMCAmJiB0aGlzLmxpc3RbMF0ucGlubmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZSgxLCAwLCB0b2RvKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyICE9PSAnQ09NUExFVEVEJyAmJiAodGhpcy5lbC5jaGlsZEVsZW1lbnRDb3VudCA+IDEgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsLmluc2VydEJlZm9yZShsaSwgKHRoaXMuZWwuZmlyc3RFbGVtZW50Q2hpbGQgYXMgSFRNTEVsZW1lbnQpLm5leHRFbGVtZW50U2libGluZykgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKGxpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdC51bnNoaWZ0KHRvZG8pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyICE9PSAnQ09NUExFVEVEJyAmJiB0aGlzLmVsLmluc2VydEJlZm9yZShsaSwgdGhpcy5lbC5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5ld1RvZG8udmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrRHVlRGF0ZSgpIHtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaCh0b2RvID0+IHtcbiAgICAgICAgICAgIGlmICh0b2RvLmR1ZURhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkdWVkYXRlID0gbmV3IERhdGUodG9kby5kdWVEYXRlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYWcgPSB0b2RheS5nZXRGdWxsWWVhcigpID49IGR1ZWRhdGUuZ2V0RnVsbFllYXIoKSAmJlxuICAgICAgICAgICAgICAgICAgICB0b2RheS5nZXRNb250aCgpID49IGR1ZWRhdGUuZ2V0TW9udGgoKSAmJlxuICAgICAgICAgICAgICAgICAgICB0b2RheS5nZXREYXRlKCkgPiBkdWVkYXRlLmdldERhdGUoKTtcbiAgICAgICAgICAgICAgICB0b2RvLnN0YXR1cyA9IGZsYWcgPyBTdGF0dXMuQ09NUExFVEVEIDogdG9kby5zdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvTGlzdDsiLCJlbnVtIFN0YXR1cyB7XG4gICAgQUNUSVZFLFxuICAgIENPTVBMRVRFRFxufVxuXG5jbGFzcyBUb2RvIHtcbiAgICByZWFkb25seSBpZCA9IERhdGUubm93KCkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBkdWVEYXRlOiBEYXRlIHwgbnVsbDtcbiAgICBkZXRhaWw6IHN0cmluZztcbiAgICByZW1pbmRlclRpbWU6IERhdGUgfCBudWxsO1xuICAgIHN0YXR1czogU3RhdHVzO1xuICAgIHBpbm5lZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZywgZHVlRGF0ZTogRGF0ZSB8IG51bGwgPSBudWxsLCByZW1pbmRlclRpbWU6IERhdGUgfCBudWxsID0gbnVsbCkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgICAgIHRoaXMucmVtaW5kZXJUaW1lID0gcmVtaW5kZXJUaW1lO1xuICAgICAgICB0aGlzLmRldGFpbCA9ICcnO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IFN0YXR1cy5BQ1RJVkU7XG4gICAgfVxufVxuXG5cbmV4cG9ydCB7IFRvZG8sIFN0YXR1cyB9OyIsImZ1bmN0aW9uIHJlbW92ZUFsbENoaWxkcmVuKGVsOiBIVE1MRWxlbWVudCkge1xuICAgIHdoaWxlIChlbC5maXJzdENoaWxkKSBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcbn1cblxuZnVuY3Rpb24gbGlzdGVuVG9Td2lwZShkaXJlY3RvaW46IHN0cmluZywgZWw6IEhUTUxFbGVtZW50LCBsaXN0ZW5lcjogKGV2OiBUb3VjaEV2ZW50KSA9PiBhbnkpIHtcbiAgICBjb25zdCBzdGFydFBvcyA9IHsgeDogMCwgeTogMCB9O1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXYpID0+IHtcbiAgICAgICAgc3RhcnRQb3MueCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgc3RhcnRQb3MueSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9KTtcblxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2KSA9PiB7XG4gICAgICAgIGNvbnN0IGRpZmZYID0gZXYuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHN0YXJ0UG9zLng7XG4gICAgICAgIGNvbnN0IGRpZmZZID0gZXYuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIHN0YXJ0UG9zLnk7XG5cbiAgICAgICAgc3dpdGNoIChkaXJlY3RvaW4pIHtcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIGlmIChkaWZmWCA8IDAgJiYgTWF0aC5hYnMoZGlmZlgpID4gMzAgJiYgTWF0aC5hYnMoZGlmZlkpIDwgMjApIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5mdW5jdGlvbiBkZWxlZ2F0ZSh0YXJnZXQ6IEhUTUxFbGVtZW50LCBzcmM6IEhUTUxFbGVtZW50LCB0eXBlOiBzdHJpbmcsIGhhbmRsZXI6IChldjogRXZlbnQpID0+IHZvaWQpIHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCAoZXYpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiBldi5jb21wb3NlZFBhdGgoKSkge1xuICAgICAgICAgICAgaWYgKGVsID09PSBzcmMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwoc3JjLCBldik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgcmVtb3ZlQWxsQ2hpbGRyZW4sIGxpc3RlblRvU3dpcGUsIGRlbGVnYXRlIH07IiwiaW1wb3J0IHsgVG9kbyB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgQ2FsZW5kYXIgZnJvbSAnLi9jYWxlbmRhcic7XG5pbXBvcnQgVG9kb0VkaXRvciBmcm9tICcuL3RvZG8tZWRpdG9yJztcbmltcG9ydCBUb2RvTGlzdCBmcm9tICcuL3RvZG8tbGlzdCc7XG5cbmNsYXNzIENhbGVuZGVyVG9kb0xpc3QgZXh0ZW5kcyBUb2RvTGlzdCB7XG4gICAgY2FsZW5kYXI6IENhbGVuZGFyXG4gICAgY29uc3RydWN0b3IodG9kb0xpc3Q6IFRvZG9bXSwgZWRpdG9yOiBUb2RvRWRpdG9yLCBjYWxlbmRhcjogQ2FsZW5kYXIsIGVsOiBIVE1MRWxlbWVudCkge1xuXG4gICAgICAgIHN1cGVyKHRvZG9MaXN0LCBlZGl0b3IsIGVsKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhciA9IGNhbGVuZGFyO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlRGF5Q2hhbmdlID0gdGhpcy5oYW5kbGVEYXlDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhci5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlRGF5Q2hhbmdlKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5jYWxlbmRhcikgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY2hlY2tEdWVEYXRlKCk7XG4gICAgICAgIFV0aWxzLnJlbW92ZUFsbENoaWxkcmVuKHRoaXMuZWwpO1xuXG4gICAgICAgIGNvbnN0IGxpc3RPZkRheSA9IHRoaXMubGlzdC5maWx0ZXIoKHRvZG8pID0+IHtcbiAgICAgICAgICAgIGlmICghdG9kby5kdWVEYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBkdWVkYXRlID0gbmV3IERhdGUodG9kby5kdWVEYXRlLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICBjb25zdCB7IHllYXIsIG1vbnRoLCBkYXkgfSA9IHRoaXMuY2FsZW5kYXIuc2VsZWN0ZWQ7XG4gICAgICAgICAgICByZXR1cm4gZHVlZGF0ZS5nZXRGdWxsWWVhcigpID09PSB5ZWFyICYmIGR1ZWRhdGUuZ2V0TW9udGgoKSArIDEgPT09IG1vbnRoICYmIGR1ZWRhdGUuZ2V0RGF0ZSgpID09PSBkYXk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVsLmFwcGVuZCguLi5saXN0T2ZEYXkubWFwKHRvZG8gPT4gdGhpcy5jcmVhdGVUb2RvSXRlbSh0b2RvKSkpO1xuICAgIH1cblxuICAgIGhhbmRsZURheUNoYW5nZShldjogRXZlbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgIC8vIGZpbmQgdG9kbyBpdGVtcyBkdWUgb24gdGhlIHNlbGVjdGVkIGRheVxuICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3RoaXMtbW9udGgnKSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kZXJUb2RvTGlzdDsiLCJpbXBvcnQgeyBUb2RvIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBUb2RvRWRpdG9yIGZyb20gJy4vdG9kby1lZGl0b3InO1xuaW1wb3J0IFRvZG9MaXN0IGZyb20gJy4vdG9kby1saXN0JztcblxuY2xhc3MgU2VhcmNoUmVzdWx0IGV4dGVuZHMgVG9kb0xpc3Qge1xuICAgIHNlYXJjaEVsOiBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRpdGxlRWw6IEhUTUxFbGVtZW50O1xuICAgIHNlY0VsOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHRvZG9MaXN0OiBUb2RvW10sIGVkaXRvcjogVG9kb0VkaXRvciwgZWw6IEhUTUxFbGVtZW50LCBzZWFyY2hFbDogSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICBzdXBlcih0b2RvTGlzdCwgZWRpdG9yLCBlbCk7XG4gICAgICAgIHRoaXMuc2VhcmNoRWwgPSBzZWFyY2hFbDtcbiAgICAgICAgdGhpcy5zZWNFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlYXJjaC1zZWMnKVswXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgdGhpcy50aXRsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaGluZz5zcGFuJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2VhcmNoRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNlY0VsLnN0eWxlLm9yZGVyID0gJy0yJztcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldik9PntcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgIT09IHRoaXMuc2VjRWwpIHRoaXMuc2VjRWwuc3R5bGUub3JkZXIgPSAnMCc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2VhcmNoRWwpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNoZWNrRHVlRGF0ZSgpO1xuXG4gICAgICAgIFV0aWxzLnJlbW92ZUFsbENoaWxkcmVuKHRoaXMuZWwpO1xuICAgICAgICBjb25zdCBrZXl3b3JkID0gdGhpcy5zZWFyY2hFbC52YWx1ZTtcbiAgICAgICAgdGhpcy50aXRsZUVsLmlubmVyVGV4dCA9IGtleXdvcmQ7XG4gICAgICAgIGNvbnN0IHJlcyA9IHRoaXMubGlzdC5maWx0ZXIodG9kbyA9PiB0b2RvLnRpdGxlLmluY2x1ZGVzKGtleXdvcmQpKTtcbiAgICAgICAgdGhpcy5lbC5hcHBlbmQoLi4ucmVzLm1hcCh0b2RvID0+IHRoaXMuY3JlYXRlVG9kb0l0ZW0odG9kbykpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaFJlc3VsdDsiXSwic291cmNlUm9vdCI6IiJ9