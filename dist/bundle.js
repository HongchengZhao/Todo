!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.selected={year:0,month:0,day:0},this.el=e,this.calendarIndicator=document.createElement("div"),this.calendarIndicator.classList.add("calendar-indicator"),this.renderIndicator(),this.calendarHead=document.createElement("div"),this.calendarHead.classList.add("calendar-head"),this.renderHead(),this.calendarBody=document.createElement("div"),this.calendarBody.classList.add("calendar-body");var t=new Date;this.month=t.getMonth()+1,this.year=t.getFullYear(),this.renderBody(this.month,this.year),this.selected.day=t.getDate(),this.selected.month=this.month,this.selected.year=this.year,this.el.append(this.calendarIndicator,this.calendarHead,this.calendarBody)}return e.prototype.renderIndicator=function(){var e=this,t=document.createElement("div");t.innerText="❮",t.classList.add("prev-month");var n=document.createElement("h3");n.classList.add("current-month");var i=document.createElement("div");i.classList.add("next-month"),i.innerText="❯",this.calendarIndicator.append(t,n,i),this.calendarIndicator.addEventListener("click",function(t){var n=t.target;n.classList.contains("prev-month")?(0==--e.month&&(e.month=12,e.year-=1),e.renderBody(e.month,e.year)):n.classList.contains("next-month")&&(13==++e.month&&(e.month=1,e.year+=1),e.renderBody(e.month,e.year))})},e.prototype.renderHead=function(){var e,t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){var t=document.createElement("div");return t.classList.add("weekday"),t.innerText=e,t});(e=this.calendarHead).append.apply(e,t)},e.prototype.renderBody=function(t,n){for(var i,r=this;this.calendarBody.firstChild;)this.calendarBody.removeChild(this.calendarBody.firstChild);this.calendarIndicator.getElementsByClassName("current-month")[0].innerHTML=e.months[t-1]+" "+n;for(var s=this.daysInMonth(t,n),a=[],o=0;o<s;++o){(u=document.createElement("div")).classList.add("cell-day","this-month"),u.innerText=""+(o+1),a.push(u)}var d=new Date;this.year===d.getFullYear()&&this.month===d.getMonth()+1&&a[d.getDate()-1].classList.add("selected");for(var l=new Date(n,t,1).getUTCDay()||7,c=1;c<l;++c){var u;(u=document.createElement("div")).classList.add("cell-day"),a.unshift(u)}(i=this.calendarBody).append.apply(i,a),this.calendarBody.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("this-month")){var n=r.calendarBody.getElementsByClassName("selected")[0];n&&n.classList.remove("selected"),t.classList.add("selected"),r.selected.day=parseInt(t.innerText),r.selected.month=r.month,r.selected.year=r.year}})},e.prototype.daysInMonth=function(e,t){return new Date(t,e,0).getDate()},e.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.timePicker=e,this.hourPicker=document.createElement("select"),this.hourPicker.classList.add("hour-picker"),this.renderHourPicker(),this.minutePicker=document.createElement("select"),this.minutePicker.classList.add("minute-picker"),this.renderMinutePicker();var t=document.createTextNode(":");this.timePicker.append(this.hourPicker,t,this.minutePicker)}return e.prototype.renderHourPicker=function(){for(var e,t=[],n=0;n<24;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.hourPicker).append.apply(e,t)},e.prototype.renderMinutePicker=function(){for(var e,t=[],n=0;n<60;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.minutePicker).append.apply(e,t)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(3),s=n(0),a=n(4),o=n(8),d=n(7),l=function(){function e(){this.curTodoId="",this.filter="ALL";var e=localStorage.getItem("todolist");this.list=e?JSON.parse(e):[],this.editor=new r.default(this.list),this.todoList=new a.default(this.list,this.editor,document.getElementById("todo-list"),document.getElementById("new-todo"));var t=new s.default(document.getElementById("calendar"));this.calendarTodoList=new d.default(this.list,this.editor,t,document.getElementById("todolist-by-day")),this.searchResult=new o.default(this.list,this.editor,document.getElementById("result-list"),document.getElementById("search-todo")),this.init()}return e.prototype.init=function(){var e=this;this.configRoutes(),document.getElementById("complete-all").addEventListener("click",function(){e.list.forEach(function(e){return e.status=i.Status.COMPLETED}),e.todoList.render(e.filter)}),document.getElementById("uncomplete-all").addEventListener("click",function(){e.list.forEach(function(e){return e.status=i.Status.ACTIVE}),e.todoList.render(e.filter)}),document.getElementById("remove-all-completed").addEventListener("click",function(){var t,n=e.list.reduce(function(e,t){return t.status===i.Status.ACTIVE&&e.push(t),e},[]);e.list.splice(0,e.list.length),(t=e.list).push.apply(t,n),e.todoList.render(e.filter)}),document.getElementById("filters").addEventListener("change",function(t){var n=t.target,i=document.querySelector(".filter.selected");i&&i.classList.remove("selected"),n.parentElement.classList.add("selected"),"filter"===n.name&&(document.getElementById("filter-options").checked=!1,e.filter=n.value,e.todoList.render(e.filter))}),window.addEventListener("click",function(e){var t=e.target;"filter-options"!==t.id&&(document.getElementById("filter-options").checked=!1),"operations-control"!==t.id&&(document.getElementById("operations-control").checked=!1)})},e.prototype.configRoutes=function(){var e=this,t=document.getElementById("route-tasks"),n=document.getElementById("route-calendar"),i=document.getElementById("tasks"),r=document.getElementById("schedule");t.addEventListener("click",function(r){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),i.classList.add("current-sec"),n.classList.remove("nav-active"),t.classList.add("nav-active"),e.todoList.render(),e.editor.el.classList.remove("show")}),n.addEventListener("click",function(i){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),r.classList.add("current-sec"),t.classList.remove("nav-active"),n.classList.add("nav-active"),e.calendarTodoList.render(),e.editor.el.classList.remove("show")})},e}();window.addEventListener("load",function(){var e=new l;window.addEventListener("unload",function(){localStorage.setItem("todolist",JSON.stringify(e.todoList.list))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(1),s=function(){function e(e){this.curTodoId="",this.list=e,this.el=document.getElementById("details"),this.editorClosed=new Event("editorClosed"),this.duedatePicker=new i.default(document.getElementById("due-date-picker")),this.alarmDatePicker=new i.default(document.getElementById("alarm-picker")),this.alarmTimePicker=new r.default(document.getElementById("time-picker")),this.handleClick=this.handleClick.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.el.addEventListener("click",this.handleClick);var t=document.getElementById("edit-todo-title");t&&t.addEventListener("blur",function(n){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.title=t.value)});var n=document.getElementById("todo-details");n&&n.addEventListener("blur",function(t){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.detail=n.value)})},e.prototype.open=function(e){this.curTodoId=e;var t=this.list.find(function(t){return t.id===e});if(t){var n=this.el.querySelector("input[name=todo-title]");n&&(n.value=t.title);var i=this.el.querySelector("label[for=due-date-control]");if(t.dueDate){var r=new Date(t.dueDate.toString());i.innerText="Due on "+r.toDateString()}else i.innerText="Due Date";var s=this.el.querySelector("label[for=alarm-control]");if(t.reminderTime){var a=new Date(t.reminderTime.toString());s.innerHTML="<span>Remind me at "+a.toLocaleTimeString()+"</span><span>On "+a.toDateString()+"</span>"}else s.innerHTML="Remind Me";var o=document.getElementById("todo-details");t.detail&&(o.value=t.detail)}this.el.classList.add("show")},e.prototype.close=function(){this.el.classList.remove("show"),this.el.dispatchEvent(this.editorClosed)},e.prototype.handleClick=function(e){for(var t=this,n=0,i=e.composedPath();n<i.length;n++){var r=i[n];if(r.classList&&r.classList.contains("close-editor")){this.close();break}if(r.classList&&r.classList.contains("due-date-save")){var s=this.el.querySelector("label[for=due-date-control]"),a=document.getElementById("due-date-control"),o=this.duedatePicker.selected,d=o.year,l=o.month,c=o.day,u=new Date(d,l-1,c);s.innerText="Due on "+u.toDateString(),(p=this.list.find(function(e){return e.id===t.curTodoId}))&&(p.dueDate=u),a.checked=!1;break}if(r.classList&&r.classList.contains("due-date-cancel")){var h=document.getElementById("due-date-control");h&&(h.checked=!1);break}if(r.classList&&r.classList.contains("reminder-save")){var f=this.el.querySelector("label[for=alarm-control]"),m=(a=document.getElementById("alarm-control"),this.alarmDatePicker.selected);d=m.year,l=m.month,c=m.day;if(0===d)break;var p,v=parseInt(this.alarmTimePicker.hourPicker.value),y=parseInt(this.alarmTimePicker.minutePicker.value);u=new Date(d,l-1,c,v,y);f.innerHTML="<span>Remind me at "+u.toLocaleTimeString()+"</span> \n                <span>On "+u.toDateString()+"</span>",(p=this.list.find(function(e){return e.id===t.curTodoId}))&&(p.reminderTime=u),a.checked=!1;break}if(r.classList&&r.classList.contains("reminder-cancel")){var E=document.getElementById("alarm-control");E&&(E.checked=!1);break}}},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(6),s=function(){function e(e,t,n,i){this.curTodoId="",this.filter="ALL",this.swipedLeft=null,this.newTodo=null,this.list=e,this.editor=t,this.el=n,this.render=this.render.bind(this),i&&(this.newTodo=i),this.handleClick=this.handleClick.bind(this),this.handleChange=this.handleChange.bind(this),this.handleSwipeLeft=this.handleSwipeLeft.bind(this),this.handleNewTodo=this.handleNewTodo.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.render(),this.el.addEventListener("click",this.handleClick),this.el.addEventListener("change",this.handleChange),r.listenToSwipe("left",this.el,this.handleSwipeLeft),this.editor.el.addEventListener("editorClosed",function(t){e.render()}),this.newTodo&&(this.newTodo.addEventListener("keypress",function(t){return"Enter"===t.key&&e.handleNewTodo()}),this.newTodo.nextElementSibling.addEventListener("click",this.handleNewTodo)),window.addEventListener("click",function(t){e.swipedLeft&&(e.swipedLeft.hidden=!0)})},e.prototype.render=function(e){var t,n=this;void 0===e&&(e="ALL"),this.filter=e,this.checkDueDate();var s="ALL"===e?this.list:this.list.filter(function(t){return i.Status[t.status]===e});r.removeAllChildren(this.el),(t=this.el).append.apply(t,s.map(function(e){return n.createTodoItem(e)}))},e.prototype.createTodoItem=function(e){var t=document.createElement("li");t.classList.add("todo-item",e.status===i.Status.ACTIVE?"todo-active":"todo-completed"),e.pinned&&t.classList.add("pinned"),t.dataset.id=e.id;var n=document.createElement("input");n.type="checkbox",n.checked=e.status===i.Status.COMPLETED,n.classList.add("toggle-status");var r=document.createElement("div");r.classList.add("todo-info"),r.innerText=e.title;var s=document.createElement("div");s.classList.add("todo-actions"),s.hidden=!0;var a=document.createElement("button");a.classList.add("pin-button"),a.innerHTML='<i class="material-icons">vertical_align_top</i>';var o=document.createElement("button");o.classList.add("edit-button"),o.innerHTML='<i class="material-icons">edit</i>';var d=document.createElement("button");return d.classList.add("del-button"),d.innerHTML='<i class="material-icons">delete_forever</i>',s.append(a,o,d),t.append(n,r,s),t},e.prototype.handleClick=function(e){for(var t=function(e){var t;if(e.classList&&e.classList.contains("del-button")){var i=e.parentElement.parentElement;return n.list.splice(n.list.findIndex(function(e){return e.id===i.dataset.id}),1),i.remove(),"break"}if(e.classList&&e.classList.contains("edit-button")){var r=e.parentElement.parentElement;return n.curTodoId=r.dataset.id||"",n.editor.open(n.curTodoId),"break"}if(e.classList&&e.classList.contains("pin-button")){var s=e.parentElement.parentElement,a=n.list.splice(n.list.findIndex(function(e){return e.id===s.dataset.id}),1);a[0].pinned=!0,(t=n.list).unshift.apply(t,a);var o=document.getElementsByClassName("pinned")[0];if(o){o.classList.remove("pinned");var d=n.list.find(function(e){return e.id===o.dataset.id});d&&(d.pinned=!1)}s.classList.add("pinned"),n.el.insertBefore(s,n.el.firstElementChild)}},n=this,i=0,r=e.composedPath();i<r.length;i++){if("break"===t(r[i]))break}},e.prototype.handleChange=function(e){var t=e.target.parentElement;if(t&&t.classList.contains("todo-item")){var n=this.list.find(function(e){return e.id===t.getAttribute("data-id")});n&&(n.status=n.status===i.Status.ACTIVE?i.Status.COMPLETED:i.Status.ACTIVE,t.classList.toggle("todo-completed"))}},e.prototype.handleSwipeLeft=function(e){for(var t=0,n=e.composedPath();t<n.length;t++){var i=n[t];if(i.classList&&i.classList.contains("todo-item")){this.swipedLeft&&(this.swipedLeft.hidden=!0),this.swipedLeft=i.getElementsByClassName("todo-actions")[0],this.swipedLeft.hidden=!1;break}}},e.prototype.handleNewTodo=function(){if(this.newTodo){var e=this.newTodo.value.trim();if(""===e)return;var t=new i.Todo(e),n=this.createTodoItem(t);this.list.length>0&&this.list[0].pinned?(this.list.splice(1,0,t),"COMPLETED"!==this.filter&&(this.el.childElementCount>1?this.el.insertBefore(n,this.el.firstElementChild.nextElementSibling):this.el.appendChild(n))):(this.list.unshift(t),"COMPLETED"!==this.filter&&this.el.insertBefore(n,this.el.firstElementChild)),this.newTodo.value=""}},e.prototype.checkDueDate=function(){var e=new Date;this.list.forEach(function(t){if(t.dueDate){var n=new Date(t.dueDate.toString()),r=e.getFullYear()>=n.getFullYear()&&e.getMonth()>=n.getMonth()&&e.getDate()>n.getDate();t.status=r?i.Status.COMPLETED:t.status}})},e}();t.default=s},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.COMPLETED=1]="COMPLETED"}(i||(i={})),t.Status=i;var r=function(){return function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.id=Date.now()+Math.random().toString(36).substring(2),this.pinned=!1,this.title=e,this.dueDate=t,this.reminderTime=n,this.detail="",this.status=i.ACTIVE}}();t.Todo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.listenToSwipe=function(e,t,n){var i={x:0,y:0};t.addEventListener("touchstart",function(e){i.x=e.touches[0].clientX,i.y=e.touches[0].clientY}),t.addEventListener("touchend",function(t){var r=t.changedTouches[0].clientX-i.x,s=t.changedTouches[0].clientY-i.y;switch(e){case"left":r<0&&Math.abs(r)>30&&Math.abs(s)<20&&n(t)}})},t.delegate=function(e,t,n,i){e.addEventListener(n,function(e){for(var n=0,r=e.composedPath();n<r.length;n++)if(r[n]===t){i.call(t,e);break}})}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),a=function(e){function t(t,n,i,r){var s=e.call(this,t,n,r)||this;return s.calendar=i,s.handleDayChange=s.handleDayChange.bind(s),s.calendar.el.addEventListener("click",s.handleDayChange),s.render(),s}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.calendar){this.checkDueDate(),s.removeAllChildren(this.el);var n=this.list.filter(function(e){if(!e.dueDate)return!1;var n=new Date(e.dueDate.toString()),i=t.calendar.selected,r=i.year,s=i.month,a=i.day;return n.getFullYear()===r&&n.getMonth()+1===s&&n.getDate()===a});(e=this.el).append.apply(e,n.map(function(e){return t.createTodoItem(e)}))}},t.prototype.handleDayChange=function(e){var t=e.target;t&&t.classList.contains("this-month")&&this.render()},t}(n(4).default);t.default=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),a=function(e){function t(t,n,i,r){var s=e.call(this,t,n,i)||this;return s.searchEl=r,s.secEl=document.getElementsByClassName("search-sec")[0],s.titleEl=document.querySelector(".searching>span"),s.render=s.render.bind(s),s.searchEl.addEventListener("keyup",function(){s.secEl.style.order="-2",s.render()}),window.addEventListener("click",function(e){e.target!==s.secEl&&(s.secEl.style.order="0")}),s.render(),s}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.searchEl){this.checkDueDate(),s.removeAllChildren(this.el);var n=this.searchEl.value;this.titleEl.innerText=n;var i=this.list.filter(function(e){return e.title.includes(n)});(e=this.el).append.apply(e,i.map(function(e){return t.createTodoItem(e)}))}},t}(n(4).default);t.default=a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLnRzIiwid2VicGFjazovLy8uL3NyYy90aW1lcGlja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RvZG8tZWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy90b2RvLWxpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FsZW5kYXItdG9kby1saXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9zZWFyY2gtcmVzdWx0LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ2FsZW5kYXIiLCJjYWxlbmRhciIsInRoaXMiLCJzZWxlY3RlZCIsInllYXIiLCJtb250aCIsImRheSIsImVsIiwiY2FsZW5kYXJJbmRpY2F0b3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW5kZXJJbmRpY2F0b3IiLCJjYWxlbmRhckhlYWQiLCJyZW5kZXJIZWFkIiwiY2FsZW5kYXJCb2R5IiwidG9keSIsIkRhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwicmVuZGVyQm9keSIsImdldERhdGUiLCJhcHBlbmQiLCJfdGhpcyIsInByZXYiLCJpbm5lclRleHQiLCJjdXIiLCJuZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwidGFyZ2V0IiwiY29udGFpbnMiLCJoZWFkQ2hpbGRyZW4iLCJtYXAiLCJ3ZWVrZGF5IiwiX2EiLCJhcHBseSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpbm5lckhUTUwiLCJtb250aHMiLCJkYXlzIiwiZGF5c0luTW9udGgiLCJkYXlDZWxscyIsImRheUNlbGwiLCJwdXNoIiwidG9kYXkiLCJ3ZWVrZGF5T2ZGaXJzdERheSIsImdldFVUQ0RheSIsInVuc2hpZnQiLCJyZW1vdmUiLCJwYXJzZUludCIsImRlZmF1bHQiLCJUaW1lUGlja2VyIiwidGltZVBpY2tlciIsImhvdXJQaWNrZXIiLCJyZW5kZXJIb3VyUGlja2VyIiwibWludXRlUGlja2VyIiwicmVuZGVyTWludXRlUGlja2VyIiwidGV4dCIsImNyZWF0ZVRleHROb2RlIiwib3B0aW9ucyIsIm9wdGlvbiIsIm1vZGVsXzEiLCJ0b2RvX2VkaXRvcl8xIiwiY2FsZW5kYXJfMSIsInRvZG9fbGlzdF8xIiwic2VhcmNoX3Jlc3VsdF8xIiwiY2FsZW5kYXJfdG9kb19saXN0XzEiLCJBcHAiLCJjdXJUb2RvSWQiLCJmaWx0ZXIiLCJyZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGlzdCIsIkpTT04iLCJwYXJzZSIsImVkaXRvciIsInRvZG9MaXN0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYWxlbmRhclRvZG9MaXN0Iiwic2VhcmNoUmVzdWx0IiwiaW5pdCIsImNvbmZpZ1JvdXRlcyIsImZvckVhY2giLCJ0b2RvIiwic3RhdHVzIiwiU3RhdHVzIiwiQ09NUExFVEVEIiwicmVuZGVyIiwiQUNUSVZFIiwiYXRjaXZlSXRlbXMiLCJyZWR1Y2UiLCJzcGxpY2UiLCJsZW5ndGgiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50RWxlbWVudCIsImNoZWNrZWQiLCJ3aW5kb3ciLCJpZCIsInRhc2tzTmF2IiwiY2FsZW5kYXJOYXYiLCJ0YXNrc1NlYyIsInNjaGVkdWxlU2VjIiwiYXBwIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInRpbWVwaWNrZXJfMSIsIlRvZG9FZGl0b3IiLCJ0b2RvbGlzdCIsImVkaXRvckNsb3NlZCIsIkV2ZW50IiwiZHVlZGF0ZVBpY2tlciIsImFsYXJtRGF0ZVBpY2tlciIsImFsYXJtVGltZVBpY2tlciIsImhhbmRsZUNsaWNrIiwiZWRpdFRpdGxlIiwiZmluZCIsInRpdGxlIiwidG9kb0RldGFpbHMiLCJkZXRhaWwiLCJvcGVuIiwidG9kb0lkIiwiZHVlRGF0ZSIsImR1ZWRhdGUiLCJ0b1N0cmluZyIsInRvRGF0ZVN0cmluZyIsInJlbWluZGVyVGltZSIsInJlbWluZGVyIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiY2xvc2UiLCJkaXNwYXRjaEV2ZW50IiwiX2kiLCJjb21wb3NlZFBhdGgiLCJjb250cm9sIiwiX2IiLCJkYXRldGltZSIsImR1ZWRhdGVDb250cm9sIiwiX2MiLCJob3VyIiwibWluIiwiYWxhcm1Db250cm9sIiwiVXRpbHMiLCJUb2RvTGlzdCIsIm5ld1RvZG8iLCJzd2lwZWRMZWZ0IiwiaGFuZGxlQ2hhbmdlIiwiaGFuZGxlU3dpcGVMZWZ0IiwiaGFuZGxlTmV3VG9kbyIsImxpc3RlblRvU3dpcGUiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJoaWRkZW4iLCJjaGVja0R1ZURhdGUiLCJ0b2RvcyIsInJlbW92ZUFsbENoaWxkcmVuIiwiY3JlYXRlVG9kb0l0ZW0iLCJsaSIsInBpbm5lZCIsImRhdGFzZXQiLCJjaGVja2JveCIsInR5cGUiLCJ0b2RvSW5mbyIsImFjdGlvbnMiLCJwaW5CdG4iLCJlZGl0QnRuIiwiZGVsZXRlQnRuIiwibGlfMSIsInRoaXNfMSIsImZpbmRJbmRleCIsImxpXzIiLCJkZWxldGVkIiwicGlubmVkXzEiLCJwaW5uZWRUb2RvIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJnZXRBdHRyaWJ1dGUiLCJ0b2dnbGUiLCJ0cmltIiwiVG9kbyIsImNoaWxkRWxlbWVudENvdW50IiwiYXBwZW5kQ2hpbGQiLCJmbGFnIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInN1YnN0cmluZyIsImRpcmVjdG9pbiIsImxpc3RlbmVyIiwic3RhcnRQb3MiLCJ4IiwieSIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImRpZmZYIiwiY2hhbmdlZFRvdWNoZXMiLCJkaWZmWSIsImFicyIsImRlbGVnYXRlIiwic3JjIiwiaGFuZGxlciIsIkNhbGVuZGVyVG9kb0xpc3QiLCJfc3VwZXIiLCJoYW5kbGVEYXlDaGFuZ2UiLCJfX2V4dGVuZHMiLCJsaXN0T2ZEYXkiLCJTZWFyY2hSZXN1bHQiLCJzZWFyY2hFbCIsInNlY0VsIiwidGl0bGVFbCIsInN0eWxlIiwib3JkZXIiLCJrZXl3b3JkIiwiaW5jbHVkZXMiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxl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LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiY2xhc3MgQ2FsZW5kYXIge1xuICAgIGVsOiBIVE1MRWxlbWVudDtcbiAgICBjYWxlbmRhckluZGljYXRvcjogSFRNTEVsZW1lbnQ7XG4gICAgY2FsZW5kYXJIZWFkOiBIVE1MRWxlbWVudDtcbiAgICBjYWxlbmRhckJvZHk6IEhUTUxFbGVtZW50O1xuICAgIG1vbnRoOiBudW1iZXI7XG4gICAgeWVhcjogbnVtYmVyO1xuICAgIHNlbGVjdGVkID0ge1xuICAgICAgICB5ZWFyOiAwLFxuICAgICAgICBtb250aDogMCxcbiAgICAgICAgZGF5OiAwXG4gICAgfTtcbiAgICBzdGF0aWMgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4gICAgY29uc3RydWN0b3IoY2FsZW5kYXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWwgPSBjYWxlbmRhcjtcblxuICAgICAgICB0aGlzLmNhbGVuZGFySW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItaW5kaWNhdG9yJyk7XG4gICAgICAgIHRoaXMucmVuZGVySW5kaWNhdG9yKCk7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckhlYWQuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItaGVhZCcpO1xuICAgICAgICB0aGlzLnJlbmRlckhlYWQoKTtcblxuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJCb2R5LmNsYXNzTGlzdC5hZGQoJ2NhbGVuZGFyLWJvZHknKTtcbiAgICAgICAgY29uc3QgdG9keSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMubW9udGggPSB0b2R5LmdldE1vbnRoKCkgKyAxO1xuICAgICAgICB0aGlzLnllYXIgPSB0b2R5LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyQm9keSh0aGlzLm1vbnRoLCB0aGlzLnllYXIpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQuZGF5ID0gdG9keS5nZXREYXRlKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQubW9udGggPSB0aGlzLm1vbnRoO1xuICAgICAgICB0aGlzLnNlbGVjdGVkLnllYXIgPSB0aGlzLnllYXI7XG5cbiAgICAgICAgdGhpcy5lbC5hcHBlbmQodGhpcy5jYWxlbmRhckluZGljYXRvciwgdGhpcy5jYWxlbmRhckhlYWQsIHRoaXMuY2FsZW5kYXJCb2R5KTtcbiAgICB9XG5cbiAgICByZW5kZXJJbmRpY2F0b3IoKSB7XG4gICAgICAgIGNvbnN0IHByZXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcHJldi5pbm5lclRleHQgPSAn4p2uJztcbiAgICAgICAgcHJldi5jbGFzc0xpc3QuYWRkKCdwcmV2LW1vbnRoJyk7XG4gICAgICAgIGNvbnN0IGN1ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgIGN1ci5jbGFzc0xpc3QuYWRkKCdjdXJyZW50LW1vbnRoJyk7XG4gICAgICAgIGNvbnN0IG5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbmV4dC5jbGFzc0xpc3QuYWRkKCduZXh0LW1vbnRoJyk7XG4gICAgICAgIG5leHQuaW5uZXJUZXh0ID0gJ+Kdryc7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckluZGljYXRvci5hcHBlbmQocHJldiwgY3VyLCBuZXh0KTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFySW5kaWNhdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmV2LW1vbnRoJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoLS10aGlzLm1vbnRoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGggPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyIC09IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQm9keSh0aGlzLm1vbnRoLCB0aGlzLnllYXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXh0LW1vbnRoJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoKyt0aGlzLm1vbnRoID09PSAxMykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoID0gMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQm9keSh0aGlzLm1vbnRoLCB0aGlzLnllYXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXJIZWFkKCkge1xuICAgICAgICBjb25zdCB3ZWVrZGF5cyA9IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J107XG4gICAgICAgIGNvbnN0IGhlYWRDaGlsZHJlbiA9IHdlZWtkYXlzLm1hcChkYXkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2Vla2RheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgd2Vla2RheS5jbGFzc0xpc3QuYWRkKCd3ZWVrZGF5Jyk7XG4gICAgICAgICAgICB3ZWVrZGF5LmlubmVyVGV4dCA9IGRheTtcbiAgICAgICAgICAgIHJldHVybiB3ZWVrZGF5O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckhlYWQuYXBwZW5kKC4uLmhlYWRDaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcmVuZGVyQm9keShtb250aDogbnVtYmVyLCB5ZWFyOiBudW1iZXIpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY2FsZW5kYXJCb2R5LmZpcnN0Q2hpbGQpIHRoaXMuY2FsZW5kYXJCb2R5LnJlbW92ZUNoaWxkKHRoaXMuY2FsZW5kYXJCb2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb25zdCBjdXJNb250aCA9IHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3VycmVudC1tb250aCcpWzBdO1xuICAgICAgICBjdXJNb250aC5pbm5lckhUTUwgPSBgJHtDYWxlbmRhci5tb250aHNbbW9udGggLSAxXX0gJHt5ZWFyfWA7XG5cbiAgICAgICAgY29uc3QgZGF5cyA9IHRoaXMuZGF5c0luTW9udGgobW9udGgsIHllYXIpO1xuXG4gICAgICAgIGNvbnN0IGRheUNlbGxzOiBIVE1MRWxlbWVudFtdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQga2V5ID0gMDsga2V5IDwgZGF5czsgKytrZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRheUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRheUNlbGwuY2xhc3NMaXN0LmFkZCgnY2VsbC1kYXknLCAndGhpcy1tb250aCcpO1xuICAgICAgICAgICAgZGF5Q2VsbC5pbm5lclRleHQgPSBgJHtrZXkgKyAxfWA7XG4gICAgICAgICAgICBkYXlDZWxscy5wdXNoKGRheUNlbGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy55ZWFyID09PSB0b2RheS5nZXRGdWxsWWVhcigpICYmIHRoaXMubW9udGggPT09IHRvZGF5LmdldE1vbnRoKCkgKyAxKSB7XG4gICAgICAgICAgICBkYXlDZWxsc1t0b2RheS5nZXREYXRlKCkgLSAxXS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2Vla2RheU9mRmlyc3REYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSkuZ2V0VVRDRGF5KCkgfHwgNztcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB3ZWVrZGF5T2ZGaXJzdERheTsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBkYXlDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkYXlDZWxsLmNsYXNzTGlzdC5hZGQoJ2NlbGwtZGF5Jyk7XG4gICAgICAgICAgICBkYXlDZWxscy51bnNoaWZ0KGRheUNlbGwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsZW5kYXJCb2R5LmFwcGVuZCguLi5kYXlDZWxscyk7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aGlzLW1vbnRoJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuY2FsZW5kYXJCb2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJylbMF07XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgJiYgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmRheSA9IHBhcnNlSW50KHRhcmdldC5pbm5lclRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQubW9udGggPSB0aGlzLm1vbnRoO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQueWVhciA9IHRoaXMueWVhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGF5c0luTW9udGgobW9udGg6IG51bWJlciwgeWVhcjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMCkuZ2V0RGF0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXI7IiwiY2xhc3MgVGltZVBpY2tlciB7XG4gICAgdGltZVBpY2tlcjogSFRNTEVsZW1lbnQ7XG4gICAgaG91clBpY2tlcjogSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgbWludXRlUGlja2VyOiBIVE1MU2VsZWN0RWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHRpbWVQaWNrZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMudGltZVBpY2tlciA9IHRpbWVQaWNrZXI7XG4gICAgICAgIHRoaXMuaG91clBpY2tlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICB0aGlzLmhvdXJQaWNrZXIuY2xhc3NMaXN0LmFkZCgnaG91ci1waWNrZXInKTtcbiAgICAgICAgdGhpcy5yZW5kZXJIb3VyUGlja2VyKCk7XG5cbiAgICAgICAgdGhpcy5taW51dGVQaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgdGhpcy5taW51dGVQaWNrZXIuY2xhc3NMaXN0LmFkZCgnbWludXRlLXBpY2tlcicpO1xuICAgICAgICB0aGlzLnJlbmRlck1pbnV0ZVBpY2tlcigpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnOicpO1xuXG4gICAgICAgIHRoaXMudGltZVBpY2tlci5hcHBlbmQodGhpcy5ob3VyUGlja2VyLCB0ZXh0LCB0aGlzLm1pbnV0ZVBpY2tlcik7XG4gICAgfVxuXG4gICAgcmVuZGVySG91clBpY2tlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI0OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gYCR7aX1gO1xuICAgICAgICAgICAgb3B0aW9uLmlubmVyVGV4dCA9IGAke2l9YDtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ob3VyUGlja2VyLmFwcGVuZCguLi5vcHRpb25zKTtcbiAgICB9XG5cbiAgICByZW5kZXJNaW51dGVQaWNrZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGAke2l9YDtcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBgJHtpfWA7XG4gICAgICAgICAgICBvcHRpb25zLnB1c2gob3B0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWludXRlUGlja2VyLmFwcGVuZCguLi5vcHRpb25zKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVQaWNrZXI7IiwiaW1wb3J0IHsgVG9kbywgU3RhdHVzIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgVG9kb0VkaXRvciBmcm9tICcuL3RvZG8tZWRpdG9yJztcbmltcG9ydCBDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUb2RvTGlzdCBmcm9tICcuL3RvZG8tbGlzdCc7XG5pbXBvcnQgU2VhcmNoUmVzdWx0IGZyb20gJy4vc2VhcmNoLXJlc3VsdCc7XG5pbXBvcnQgQ2FsZW5kYXJUb2RvTGlzdCBmcm9tICcuL2NhbGVuZGFyLXRvZG8tbGlzdCc7XG5cbmNsYXNzIEFwcCB7XG4gICAgbGlzdDogVG9kb1tdO1xuICAgIGVkaXRvcjogVG9kb0VkaXRvcjtcbiAgICB0b2RvTGlzdDogVG9kb0xpc3Q7XG4gICAgY2FsZW5kYXJUb2RvTGlzdDogQ2FsZW5kYXJUb2RvTGlzdDtcbiAgICBzZWFyY2hSZXN1bHQ6IFRvZG9MaXN0O1xuICAgIGN1clRvZG9JZCA9ICcnO1xuICAgIGZpbHRlcjogc3RyaW5nID0gJ0FMTCc7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gTG9hZCBkYXRhIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgICAgICBjb25zdCByZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb2xpc3QnKTtcbiAgICAgICAgdGhpcy5saXN0ID0gcmVzID8gSlNPTi5wYXJzZShyZXMpIDogW107XG4gICAgICAgIHRoaXMuZWRpdG9yID0gbmV3IFRvZG9FZGl0b3IodGhpcy5saXN0KTtcbiAgICAgICAgdGhpcy50b2RvTGlzdCA9IG5ldyBUb2RvTGlzdChcbiAgICAgICAgICAgIHRoaXMubGlzdCxcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tbGlzdCcpIGFzIEhUTUxVTGlzdEVsZW1lbnQsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LXRvZG8nKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY2FsZW5kYXIgPSBuZXcgQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyJykgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyVG9kb0xpc3QgPSBuZXcgQ2FsZW5kYXJUb2RvTGlzdChcbiAgICAgICAgICAgIHRoaXMubGlzdCxcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgY2FsZW5kYXIsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb2xpc3QtYnktZGF5JykgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdCA9IG5ldyBTZWFyY2hSZXN1bHQoXG4gICAgICAgICAgICB0aGlzLmxpc3QsXG4gICAgICAgICAgICB0aGlzLmVkaXRvcixcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHQtbGlzdCcpIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10b2RvJykgYXMgSFRNTElucHV0RWxlbWVudFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnUm91dGVzKCk7XG5cbiAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wbGV0ZS1hbGwnKSBhcyBIVE1MRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaCh0b2RvID0+IHRvZG8uc3RhdHVzID0gU3RhdHVzLkNPTVBMRVRFRCk7XG4gICAgICAgICAgICB0aGlzLnRvZG9MaXN0LnJlbmRlcih0aGlzLmZpbHRlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5jb21wbGV0ZS1hbGwnKSBhcyBIVE1MRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaCh0b2RvID0+IHRvZG8uc3RhdHVzID0gU3RhdHVzLkFDVElWRSk7XG4gICAgICAgICAgICB0aGlzLnRvZG9MaXN0LnJlbmRlcih0aGlzLmZpbHRlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLWFsbC1jb21wbGV0ZWQnKSBhcyBIVE1MRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdGNpdmVJdGVtcyA9IHRoaXMubGlzdC5yZWR1Y2UoKHByZXY6IGFueSwgdG9kbykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0b2RvLnN0YXR1cyA9PT0gU3RhdHVzLkFDVElWRSkgcHJldi5wdXNoKHRvZG8pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZSgwLCB0aGlzLmxpc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMubGlzdC5wdXNoKC4uLmF0Y2l2ZUl0ZW1zKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRoaXMuZmlsdGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZmlsdGVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGZpbHRlcnMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlci5zZWxlY3RlZCcpO1xuICAgICAgICAgICAgc2VsZWN0ZWQgJiYgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgKHRhcmdldC5wYXJlbnRFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2ZpbHRlcicpIHtcbiAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1vcHRpb25zJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRoaXMuZmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuaWQgIT09ICdmaWx0ZXItb3B0aW9ucycpIHtcbiAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1vcHRpb25zJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmlkICE9PSAnb3BlcmF0aW9ucy1jb250cm9sJykge1xuICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BlcmF0aW9ucy1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25maWdSb3V0ZXMoKSB7XG4gICAgICAgIGNvbnN0IHRhc2tzTmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdXRlLXRhc2tzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyTmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdXRlLWNhbGVuZGFyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHRhc2tzU2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHNjaGVkdWxlU2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjaGVkdWxlJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgdGFza3NOYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXJyZW50LXNlYycpWzBdO1xuICAgICAgICAgICAgY3VycmVudFNlYy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50LXNlYycpO1xuICAgICAgICAgICAgdGFza3NTZWMuY2xhc3NMaXN0LmFkZCgnY3VycmVudC1zZWMnKTtcbiAgICAgICAgICAgIGNhbGVuZGFyTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRhc2tzTmF2LmNsYXNzTGlzdC5hZGQoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbGVuZGFyTmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3VycmVudC1zZWMnKVswXTtcbiAgICAgICAgICAgIGN1cnJlbnRTZWMuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudC1zZWMnKTtcbiAgICAgICAgICAgIHNjaGVkdWxlU2VjLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtc2VjJyk7XG4gICAgICAgICAgICB0YXNrc05hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYWN0aXZlJyk7XG4gICAgICAgICAgICBjYWxlbmRhck5hdi5jbGFzc0xpc3QuYWRkKCduYXYtYWN0aXZlJyk7XG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyVG9kb0xpc3QucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7XG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsICgpID0+IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9saXN0JywgSlNPTi5zdHJpbmdpZnkoYXBwLnRvZG9MaXN0Lmxpc3QpKTtcbiAgICB9KTtcbn0pOyIsImltcG9ydCB7IFRvZG8gfSBmcm9tICcuL21vZGVsJztcbmltcG9ydCBDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUaW1lUGlja2VyIGZyb20gJy4vdGltZXBpY2tlcic7XG5cbmNsYXNzIFRvZG9FZGl0b3Ige1xuICAgIGxpc3Q6IFRvZG9bXTtcbiAgICBlbDogSFRNTEVsZW1lbnQ7XG4gICAgZHVlZGF0ZVBpY2tlcjogQ2FsZW5kYXI7XG4gICAgYWxhcm1EYXRlUGlja2VyOiBDYWxlbmRhcjtcbiAgICBhbGFybVRpbWVQaWNrZXI6IFRpbWVQaWNrZXI7XG4gICAgY3VyVG9kb0lkOiBzdHJpbmcgPSAnJztcbiAgICBlZGl0b3JDbG9zZWQ6IEV2ZW50O1xuXG4gICAgY29uc3RydWN0b3IodG9kb2xpc3Q6IFRvZG9bXSkge1xuICAgICAgICB0aGlzLmxpc3QgPSB0b2RvbGlzdDtcbiAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXRhaWxzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZWRpdG9yQ2xvc2VkID0gbmV3IEV2ZW50KCdlZGl0b3JDbG9zZWQnKTtcbiAgICAgICAgdGhpcy5kdWVkYXRlUGlja2VyID0gbmV3IENhbGVuZGFyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWUtZGF0ZS1waWNrZXInKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgIHRoaXMuYWxhcm1EYXRlUGlja2VyID0gbmV3IENhbGVuZGFyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGFybS1waWNrZXInKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgIHRoaXMuYWxhcm1UaW1lUGlja2VyID0gbmV3IFRpbWVQaWNrZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWUtcGlja2VyJykgYXMgSFRNTEVsZW1lbnQpO1xuXG4gICAgICAgIC8vIGJpbmQgaGFuZGxlcnNcbiAgICAgICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XG5cbiAgICAgICAgY29uc3QgZWRpdFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtdG9kby10aXRsZScpO1xuICAgICAgICBlZGl0VGl0bGUgJiYgZWRpdFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IHRoaXMuY3VyVG9kb0lkKTtcbiAgICAgICAgICAgIGlmICh0b2RvKSB0b2RvLnRpdGxlID0gKGVkaXRUaXRsZSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdG9kb0RldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kby1kZXRhaWxzJyk7XG4gICAgICAgIHRvZG9EZXRhaWxzICYmIHRvZG9EZXRhaWxzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IHRoaXMuY3VyVG9kb0lkKTtcbiAgICAgICAgICAgIGlmICh0b2RvKSB0b2RvLmRldGFpbCA9ICh0b2RvRGV0YWlscyBhcyBIVE1MVGV4dEFyZWFFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBvcGVuIGVkaXRvclxuICAgICAqL1xuICAgIG9wZW4odG9kb0lkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jdXJUb2RvSWQgPSB0b2RvSWQ7XG4gICAgICAgIGNvbnN0IHRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IHRvZG9JZCk7XG4gICAgICAgIGlmICh0b2RvKSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT10b2RvLXRpdGxlXScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodGl0bGUpIHRpdGxlLnZhbHVlID0gdG9kby50aXRsZTtcblxuICAgICAgICAgICAgY29uc3QgZHVlRGF0ZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPWR1ZS1kYXRlLWNvbnRyb2xdJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICh0b2RvLmR1ZURhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkdWVkYXRlID0gbmV3IERhdGUodG9kby5kdWVEYXRlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGR1ZURhdGUuaW5uZXJUZXh0ID0gYER1ZSBvbiAke2R1ZWRhdGUudG9EYXRlU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHVlRGF0ZS5pbm5lclRleHQgPSAnRHVlIERhdGUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZW1pbmRlclRpbWUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1hbGFybS1jb250cm9sXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRvZG8ucmVtaW5kZXJUaW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtaW5kZXIgPSBuZXcgRGF0ZSh0b2RvLnJlbWluZGVyVGltZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICByZW1pbmRlclRpbWUuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgYDxzcGFuPlJlbWluZCBtZSBhdCAke3JlbWluZGVyLnRvTG9jYWxlVGltZVN0cmluZygpfTwvc3Bhbj48c3Bhbj5PbiAke3JlbWluZGVyLnRvRGF0ZVN0cmluZygpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1pbmRlclRpbWUuaW5uZXJIVE1MID0gJ1JlbWluZCBNZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRldGFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWRldGFpbHMnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRvZG8uZGV0YWlsKSBkZXRhaWwudmFsdWUgPSB0b2RvLmRldGFpbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIHRoaXMuZWwuZGlzcGF0Y2hFdmVudCh0aGlzLmVkaXRvckNsb3NlZCk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiAoZXYuY29tcG9zZWRQYXRoKCkgYXMgSFRNTEVsZW1lbnRbXSkpIHtcbiAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZS1lZGl0b3InKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZHVlLWRhdGUtc2F2ZScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHVlRGF0ZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPWR1ZS1kYXRlLWNvbnRyb2xdJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWUtZGF0ZS1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHllYXIsIG1vbnRoLCBkYXkgfSA9IHRoaXMuZHVlZGF0ZVBpY2tlci5zZWxlY3RlZDtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KTtcbiAgICAgICAgICAgICAgICBkdWVEYXRlLmlubmVyVGV4dCA9IGBEdWUgb24gJHtkYXRldGltZS50b0RhdGVTdHJpbmcoKX1gO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0b2RvKSB0b2RvLmR1ZURhdGUgPSBkYXRldGltZTtcbiAgICAgICAgICAgICAgICBjb250cm9sLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZHVlLWRhdGUtY2FuY2VsJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkdWVkYXRlQ29udHJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWUtZGF0ZS1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoZHVlZGF0ZUNvbnRyb2wpIGR1ZWRhdGVDb250cm9sLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygncmVtaW5kZXItc2F2ZScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtaW5kZXJUaW1lID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9YWxhcm0tY29udHJvbF0nKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsYXJtLWNvbnRyb2wnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5hbGFybURhdGVQaWNrZXIuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHllYXIgPT09IDApIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaG91ciA9IHBhcnNlSW50KHRoaXMuYWxhcm1UaW1lUGlja2VyLmhvdXJQaWNrZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IHBhcnNlSW50KHRoaXMuYWxhcm1UaW1lUGlja2VyLm1pbnV0ZVBpY2tlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgaG91ciwgbWluKTtcblxuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZS5pbm5lckhUTUwgPSBgPHNwYW4+UmVtaW5kIG1lIGF0ICR7ZGF0ZXRpbWUudG9Mb2NhbGVUaW1lU3RyaW5nKCl9PC9zcGFuPiBcbiAgICAgICAgICAgICAgICA8c3Bhbj5PbiAke2RhdGV0aW1lLnRvRGF0ZVN0cmluZygpfTwvc3Bhbj5gO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0b2RvKSB0b2RvLnJlbWluZGVyVGltZSA9IGRhdGV0aW1lO1xuICAgICAgICAgICAgICAgIGNvbnRyb2wuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZW1pbmRlci1jYW5jZWwnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsYXJtQ29udHJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGFybS1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoYWxhcm1Db250cm9sKSBhbGFybUNvbnRyb2wuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvRWRpdG9yOyIsImltcG9ydCB7IFRvZG8sIFN0YXR1cyB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgVG9kb0VkaXRvciBmcm9tICcuL3RvZG8tZWRpdG9yJztcblxuY2xhc3MgVG9kb0xpc3Qge1xuICAgIGxpc3Q6IFRvZG9bXTtcbiAgICBlbDogSFRNTEVsZW1lbnQ7XG4gICAgZWRpdG9yOiBUb2RvRWRpdG9yO1xuICAgIGN1clRvZG9JZDogc3RyaW5nID0gJyc7XG4gICAgZmlsdGVyOiBzdHJpbmcgPSAnQUxMJztcbiAgICBzd2lwZWRMZWZ0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIG5ld1RvZG86IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHRvZG9MaXN0OiBUb2RvW10sIGVkaXRvcjogVG9kb0VkaXRvciwgZWw6IEhUTUxFbGVtZW50LCBuZXdUb2RvPzogSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICB0aGlzLmxpc3QgPSB0b2RvTGlzdDtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuICAgICAgICBpZiAobmV3VG9kbykgdGhpcy5uZXdUb2RvID0gbmV3VG9kbztcblxuICAgICAgICAvLyBiaW5kIGhhbmRsZXJzXG4gICAgICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVTd2lwZUxlZnQgPSB0aGlzLmhhbmRsZVN3aXBlTGVmdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZU5ld1RvZG8gPSB0aGlzLmhhbmRsZU5ld1RvZG8uYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVDaGFuZ2UpO1xuICAgICAgICBVdGlscy5saXN0ZW5Ub1N3aXBlKCdsZWZ0JywgdGhpcy5lbCwgdGhpcy5oYW5kbGVTd2lwZUxlZnQpO1xuXG4gICAgICAgIHRoaXMuZWRpdG9yLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2VkaXRvckNsb3NlZCcsIChldikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMubmV3VG9kbykge1xuICAgICAgICAgICAgdGhpcy5uZXdUb2RvLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGV2KSA9PiBldi5rZXkgPT09ICdFbnRlcicgJiYgdGhpcy5oYW5kbGVOZXdUb2RvKCkpO1xuICAgICAgICAgICAgKHRoaXMubmV3VG9kby5uZXh0RWxlbWVudFNpYmxpbmcgYXMgSFRNTEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVOZXdUb2RvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3dpcGVkTGVmdCkgdGhpcy5zd2lwZWRMZWZ0LmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcihmaWx0ZXI6IHN0cmluZyA9ICdBTEwnKSB7XG4gICAgICAgIHRoaXMuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICB0aGlzLmNoZWNrRHVlRGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IHRvZG9zID0gZmlsdGVyID09PSAnQUxMJyA/IHRoaXMubGlzdCA6IHRoaXMubGlzdC5maWx0ZXIodG9kbyA9PiBTdGF0dXNbdG9kby5zdGF0dXNdID09PSBmaWx0ZXIpO1xuICAgICAgICBVdGlscy5yZW1vdmVBbGxDaGlsZHJlbih0aGlzLmVsKTtcblxuICAgICAgICB0aGlzLmVsLmFwcGVuZCguLi50b2Rvcy5tYXAodG9kbyA9PiB0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlVG9kb0l0ZW0odG9kbzogVG9kbykge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3RvZG8taXRlbScsIHRvZG8uc3RhdHVzID09PSBTdGF0dXMuQUNUSVZFID8gJ3RvZG8tYWN0aXZlJyA6ICd0b2RvLWNvbXBsZXRlZCcpO1xuICAgICAgICB0b2RvLnBpbm5lZCAmJiBsaS5jbGFzc0xpc3QuYWRkKCdwaW5uZWQnKTtcbiAgICAgICAgbGkuZGF0YXNldC5pZCA9IHRvZG8uaWQ7XG5cbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRvZG8uc3RhdHVzID09PSBTdGF0dXMuQ09NUExFVEVEID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCd0b2dnbGUtc3RhdHVzJyk7XG5cbiAgICAgICAgY29uc3QgdG9kb0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdG9kb0luZm8uY2xhc3NMaXN0LmFkZCgndG9kby1pbmZvJyk7XG4gICAgICAgIHRvZG9JbmZvLmlubmVyVGV4dCA9IHRvZG8udGl0bGU7XG5cbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhY3Rpb25zLmNsYXNzTGlzdC5hZGQoJ3RvZG8tYWN0aW9ucycpO1xuICAgICAgICBhY3Rpb25zLmhpZGRlbiA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcGluQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHBpbkJ0bi5jbGFzc0xpc3QuYWRkKCdwaW4tYnV0dG9uJyk7XG4gICAgICAgIHBpbkJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPnZlcnRpY2FsX2FsaWduX3RvcDwvaT5gO1xuICAgICAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnZWRpdC1idXR0b24nKTtcbiAgICAgICAgZWRpdEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmVkaXQ8L2k+YDtcblxuICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2RlbC1idXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlX2ZvcmV2ZXI8L2k+YDtcblxuICAgICAgICBhY3Rpb25zLmFwcGVuZChwaW5CdG4sIGVkaXRCdG4sIGRlbGV0ZUJ0bik7XG5cbiAgICAgICAgbGkuYXBwZW5kKGNoZWNrYm94LCB0b2RvSW5mbywgYWN0aW9ucyk7XG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayhldjogTW91c2VFdmVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIChldi5jb21wb3NlZFBhdGgoKSBhcyBIVE1MRWxlbWVudFtdKSkge1xuXG4gICAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZGVsLWJ1dHRvbicpKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBkZWxldGUgdG9kbyBpdGVtXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgbGkgPSAoZWwucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3Quc3BsaWNlKHRoaXMubGlzdC5maW5kSW5kZXgodG9kbyA9PiB0b2RvLmlkID09PSBsaS5kYXRhc2V0LmlkKSwgMSk7XG4gICAgICAgICAgICAgICAgbGkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQtYnV0dG9uJykpIHtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIGVkaXQgdG9kbyBpdGVtXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgbGkgPSAoZWwucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmN1clRvZG9JZCA9IGxpLmRhdGFzZXQuaWQgfHwgJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub3Blbih0aGlzLmN1clRvZG9JZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbi1idXR0b24nKSkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogcGluIHRvZG8gaXRlbVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gKGVsLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZCA9IHRoaXMubGlzdC5zcGxpY2UodGhpcy5saXN0LmZpbmRJbmRleCh0b2RvID0+IHRvZG8uaWQgPT09IGxpLmRhdGFzZXQuaWQpLCAxKTtcbiAgICAgICAgICAgICAgICBkZWxldGVkWzBdLnBpbm5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnVuc2hpZnQoLi4uZGVsZXRlZCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwaW5uZWQnKVswXTtcbiAgICAgICAgICAgICAgICBpZiAocGlubmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBpbm5lZC5jbGFzc0xpc3QucmVtb3ZlKCdwaW5uZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlubmVkVG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gKHBpbm5lZCBhcyBIVE1MRWxlbWVudCkuZGF0YXNldC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaW5uZWRUb2RvKSBwaW5uZWRUb2RvLnBpbm5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3Bpbm5lZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWwuaW5zZXJ0QmVmb3JlKGxpLCB0aGlzLmVsLmZpcnN0RWxlbWVudENoaWxkIGFzIEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBoYW5kbGUgc3RhdHVzIGNoYW5nZVxuICAgICAqL1xuICAgIGhhbmRsZUNoYW5nZShldjogRXZlbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCBsaSA9IHRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAobGkgJiYgbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b2RvLWl0ZW0nKSkge1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gbGkuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xuICAgICAgICAgICAgaWYgKHRvZG8pIHtcbiAgICAgICAgICAgICAgICB0b2RvLnN0YXR1cyA9IHRvZG8uc3RhdHVzID09PSBTdGF0dXMuQUNUSVZFID8gU3RhdHVzLkNPTVBMRVRFRCA6IFN0YXR1cy5BQ1RJVkU7XG4gICAgICAgICAgICAgICAgbGkuY2xhc3NMaXN0LnRvZ2dsZSgndG9kby1jb21wbGV0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVN3aXBlTGVmdChldjogVG91Y2hFdmVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIChldi5jb21wb3NlZFBhdGgoKSBhcyBIVE1MRWxlbWVudFtdKSkge1xuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3RvZG8taXRlbScpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3dpcGVkTGVmdCkgdGhpcy5zd2lwZWRMZWZ0LmhpZGRlbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN3aXBlZExlZnQgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0b2RvLWFjdGlvbnMnKVswXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXBlZExlZnQuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVOZXdUb2RvKCkge1xuICAgICAgICBpZiAodGhpcy5uZXdUb2RvKSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMubmV3VG9kby52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICBpZiAodGl0bGUgPT09ICcnKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB0b2RvID0gbmV3IFRvZG8odGl0bGUpO1xuICAgICAgICAgICAgY29uc3QgbGkgPSB0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pO1xuICAgICAgICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGggPiAwICYmIHRoaXMubGlzdFswXS5waW5uZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3Quc3BsaWNlKDEsIDAsIHRvZG8pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXIgIT09ICdDT01QTEVURUQnICYmICh0aGlzLmVsLmNoaWxkRWxlbWVudENvdW50ID4gMSA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuaW5zZXJ0QmVmb3JlKGxpLCAodGhpcy5lbC5maXJzdEVsZW1lbnRDaGlsZCBhcyBIVE1MRWxlbWVudCkubmV4dEVsZW1lbnRTaWJsaW5nKSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQobGkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnVuc2hpZnQodG9kbyk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXIgIT09ICdDT01QTEVURUQnICYmIHRoaXMuZWwuaW5zZXJ0QmVmb3JlKGxpLCB0aGlzLmVsLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV3VG9kby52YWx1ZSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tEdWVEYXRlKCkge1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKHRvZG8gPT4ge1xuICAgICAgICAgICAgaWYgKHRvZG8uZHVlRGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmxhZyA9IHRvZGF5LmdldEZ1bGxZZWFyKCkgPj0gZHVlZGF0ZS5nZXRGdWxsWWVhcigpICYmXG4gICAgICAgICAgICAgICAgICAgIHRvZGF5LmdldE1vbnRoKCkgPj0gZHVlZGF0ZS5nZXRNb250aCgpICYmXG4gICAgICAgICAgICAgICAgICAgIHRvZGF5LmdldERhdGUoKSA+IGR1ZWRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRvZG8uc3RhdHVzID0gZmxhZyA/IFN0YXR1cy5DT01QTEVURUQgOiB0b2RvLnN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvZG9MaXN0OyIsImVudW0gU3RhdHVzIHtcbiAgICBBQ1RJVkUsXG4gICAgQ09NUExFVEVEXG59XG5cbmNsYXNzIFRvZG8ge1xuICAgIHJlYWRvbmx5IGlkID0gRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGR1ZURhdGU6IERhdGUgfCBudWxsO1xuICAgIGRldGFpbDogc3RyaW5nO1xuICAgIHJlbWluZGVyVGltZTogRGF0ZSB8IG51bGw7XG4gICAgc3RhdHVzOiBTdGF0dXM7XG4gICAgcGlubmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aXRsZTogc3RyaW5nLCBkdWVEYXRlOiBEYXRlIHwgbnVsbCA9IG51bGwsIHJlbWluZGVyVGltZTogRGF0ZSB8IG51bGwgPSBudWxsKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5yZW1pbmRlclRpbWUgPSByZW1pbmRlclRpbWU7XG4gICAgICAgIHRoaXMuZGV0YWlsID0gJyc7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gU3RhdHVzLkFDVElWRTtcbiAgICB9XG59XG5cblxuZXhwb3J0IHsgVG9kbywgU3RhdHVzIH07IiwiZnVuY3Rpb24gcmVtb3ZlQWxsQ2hpbGRyZW4oZWw6IEhUTUxFbGVtZW50KSB7XG4gICAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5Ub1N3aXBlKGRpcmVjdG9pbjogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQsIGxpc3RlbmVyOiAoZXY6IFRvdWNoRXZlbnQpID0+IGFueSkge1xuICAgIGNvbnN0IHN0YXJ0UG9zID0geyB4OiAwLCB5OiAwIH07XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChldikgPT4ge1xuICAgICAgICBzdGFydFBvcy54ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICBzdGFydFBvcy55ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0pO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZXYpID0+IHtcbiAgICAgICAgY29uc3QgZGlmZlggPSBldi5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gc3RhcnRQb3MueDtcbiAgICAgICAgY29uc3QgZGlmZlkgPSBldi5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gc3RhcnRQb3MueTtcblxuICAgICAgICBzd2l0Y2ggKGRpcmVjdG9pbikge1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgaWYgKGRpZmZYIDwgMCAmJiBNYXRoLmFicyhkaWZmWCkgPiAzMCAmJiBNYXRoLmFicyhkaWZmWSkgPCAyMCkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcihldik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGRlbGVnYXRlKHRhcmdldDogSFRNTEVsZW1lbnQsIHNyYzogSFRNTEVsZW1lbnQsIHR5cGU6IHN0cmluZywgaGFuZGxlcjogKGV2OiBFdmVudCkgPT4gdm9pZCkge1xuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIChldikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGV2LmNvbXBvc2VkUGF0aCgpKSB7XG4gICAgICAgICAgICBpZiAoZWwgPT09IHNyYykge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbChzcmMsIGV2KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgeyByZW1vdmVBbGxDaGlsZHJlbiwgbGlzdGVuVG9Td2lwZSwgZGVsZWdhdGUgfTsiLCJpbXBvcnQgeyBUb2RvIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUb2RvRWRpdG9yIGZyb20gJy4vdG9kby1lZGl0b3InO1xuaW1wb3J0IFRvZG9MaXN0IGZyb20gJy4vdG9kby1saXN0JztcblxuY2xhc3MgQ2FsZW5kZXJUb2RvTGlzdCBleHRlbmRzIFRvZG9MaXN0IHtcbiAgICBjYWxlbmRhcjogQ2FsZW5kYXJcbiAgICBjb25zdHJ1Y3Rvcih0b2RvTGlzdDogVG9kb1tdLCBlZGl0b3I6IFRvZG9FZGl0b3IsIGNhbGVuZGFyOiBDYWxlbmRhciwgZWw6IEhUTUxFbGVtZW50KSB7XG5cbiAgICAgICAgc3VwZXIodG9kb0xpc3QsIGVkaXRvciwgZWwpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyID0gY2FsZW5kYXI7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVEYXlDaGFuZ2UgPSB0aGlzLmhhbmRsZURheUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVEYXlDaGFuZ2UpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbGVuZGFyKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jaGVja0R1ZURhdGUoKTtcbiAgICAgICAgVXRpbHMucmVtb3ZlQWxsQ2hpbGRyZW4odGhpcy5lbCk7XG5cbiAgICAgICAgY29uc3QgbGlzdE9mRGF5ID0gdGhpcy5saXN0LmZpbHRlcigodG9kbykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0b2RvLmR1ZURhdGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5jYWxlbmRhci5zZWxlY3RlZDtcbiAgICAgICAgICAgIHJldHVybiBkdWVkYXRlLmdldEZ1bGxZZWFyKCkgPT09IHllYXIgJiYgZHVlZGF0ZS5nZXRNb250aCgpICsgMSA9PT0gbW9udGggJiYgZHVlZGF0ZS5nZXREYXRlKCkgPT09IGRheTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWwuYXBwZW5kKC4uLmxpc3RPZkRheS5tYXAodG9kbyA9PiB0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pKSk7XG4gICAgfVxuXG4gICAgaGFuZGxlRGF5Q2hhbmdlKGV2OiBFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgLy8gZmluZCB0b2RvIGl0ZW1zIGR1ZSBvbiB0aGUgc2VsZWN0ZWQgZGF5XG4gICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGhpcy1tb250aCcpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYWxlbmRlclRvZG9MaXN0OyIsImltcG9ydCB7IFRvZG8gfSBmcm9tICcuL21vZGVsJztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IFRvZG9FZGl0b3IgZnJvbSAnLi90b2RvLWVkaXRvcic7XG5pbXBvcnQgVG9kb0xpc3QgZnJvbSAnLi90b2RvLWxpc3QnO1xuXG5jbGFzcyBTZWFyY2hSZXN1bHQgZXh0ZW5kcyBUb2RvTGlzdCB7XG4gICAgc2VhcmNoRWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdGl0bGVFbDogSFRNTEVsZW1lbnQ7XG4gICAgc2VjRWw6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IodG9kb0xpc3Q6IFRvZG9bXSwgZWRpdG9yOiBUb2RvRWRpdG9yLCBlbDogSFRNTEVsZW1lbnQsIHNlYXJjaEVsOiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKHRvZG9MaXN0LCBlZGl0b3IsIGVsKTtcbiAgICAgICAgdGhpcy5zZWFyY2hFbCA9IHNlYXJjaEVsO1xuICAgICAgICB0aGlzLnNlY0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VhcmNoLXNlYycpWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICB0aGlzLnRpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoaW5nPnNwYW4nKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zZWFyY2hFbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VjRWwuc3R5bGUub3JkZXIgPSAnLTInO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KT0+e1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdGhpcy5zZWNFbCkgdGhpcy5zZWNFbC5zdHlsZS5vcmRlciA9ICcwJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWFyY2hFbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY2hlY2tEdWVEYXRlKCk7XG5cbiAgICAgICAgVXRpbHMucmVtb3ZlQWxsQ2hpbGRyZW4odGhpcy5lbCk7XG4gICAgICAgIGNvbnN0IGtleXdvcmQgPSB0aGlzLnNlYXJjaEVsLnZhbHVlO1xuICAgICAgICB0aGlzLnRpdGxlRWwuaW5uZXJUZXh0ID0ga2V5d29yZDtcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5saXN0LmZpbHRlcih0b2RvID0+IHRvZG8udGl0bGUuaW5jbHVkZXMoa2V5d29yZCkpO1xuICAgICAgICB0aGlzLmVsLmFwcGVuZCguLi5yZXMubWFwKHRvZG8gPT4gdGhpcy5jcmVhdGVUb2RvSXRlbSh0b2RvKSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoUmVzdWx0OyJdLCJzb3VyY2VSb290IjoiIn0=