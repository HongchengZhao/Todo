!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.selected={year:0,month:0,day:0},this.el=e,this.calendarIndicator=document.createElement("div"),this.calendarIndicator.classList.add("calendar-indicator"),this.renderIndicator(),this.calendarHead=document.createElement("div"),this.calendarHead.classList.add("calendar-head"),this.renderHead(),this.calendarBody=document.createElement("div"),this.calendarBody.classList.add("calendar-body");var t=new Date;this.month=t.getMonth()+1,this.year=t.getFullYear(),this.renderBody(this.month,this.year),this.selected.day=t.getDate(),this.selected.month=this.month,this.selected.year=this.year,this.el.append(this.calendarIndicator,this.calendarHead,this.calendarBody)}return e.prototype.renderIndicator=function(){var e=this,t=document.createElement("div");t.innerText="❮",t.classList.add("prev-month");var n=document.createElement("h3");n.classList.add("current-month");var i=document.createElement("div");i.classList.add("next-month"),i.innerText="❯",this.calendarIndicator.append(t,n,i),this.calendarIndicator.addEventListener("click",function(t){var n=t.target;n.classList.contains("prev-month")?(0==--e.month&&(e.month=12,e.year-=1),e.renderBody(e.month,e.year)):n.classList.contains("next-month")&&(13==++e.month&&(e.month=1,e.year+=1),e.renderBody(e.month,e.year))})},e.prototype.renderHead=function(){var e,t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){var t=document.createElement("div");return t.classList.add("weekday"),t.innerText=e,t});(e=this.calendarHead).append.apply(e,t)},e.prototype.renderBody=function(t,n){for(var i,r=this;this.calendarBody.firstChild;)this.calendarBody.removeChild(this.calendarBody.firstChild);this.calendarIndicator.getElementsByClassName("current-month")[0].innerHTML=e.months[t-1]+" "+n;for(var a=this.daysInMonth(t,n),s=[],o=0;o<a;++o){(u=document.createElement("div")).classList.add("cell-day","this-month"),u.innerText=""+(o+1),s.push(u)}var d=new Date;this.year===d.getFullYear()&&this.month===d.getMonth()+1&&s[d.getDate()-1].classList.add("selected");for(var c=new Date(n,t,1).getUTCDay()||7,l=1;l<c;++l){var u;(u=document.createElement("div")).classList.add("cell-day"),s.unshift(u)}(i=this.calendarBody).append.apply(i,s),this.calendarBody.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("this-month")){var n=r.calendarBody.getElementsByClassName("selected")[0];n&&n.classList.remove("selected"),t.classList.add("selected"),r.selected.day=parseInt(t.innerText),r.selected.month=r.month,r.selected.year=r.year}})},e.prototype.daysInMonth=function(e,t){return new Date(t,e,0).getDate()},e.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.timePicker=e,this.hourPicker=document.createElement("select"),this.hourPicker.classList.add("hour-picker"),this.renderHourPicker(),this.minutePicker=document.createElement("select"),this.minutePicker.classList.add("minute-picker"),this.renderMinutePicker();var t=document.createTextNode(":");this.timePicker.append(this.hourPicker,t,this.minutePicker)}return e.prototype.renderHourPicker=function(){for(var e,t=[],n=0;n<24;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.hourPicker).append.apply(e,t)},e.prototype.renderMinutePicker=function(){for(var e,t=[],n=0;n<60;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.minutePicker).append.apply(e,t)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(3),a=n(0),s=n(4),o=n(8),d=n(7),c=function(){function e(){this.curTodoId="",this.filter="ALL";var e=localStorage.getItem("todolist");this.list=e?JSON.parse(e):[],this.editor=new r.default(this.list),this.todoList=new s.default(this.list,this.editor,document.getElementById("todo-list"),document.getElementById("new-todo"));var t=new a.default(document.getElementById("calendar"));this.calendarTodoList=new d.default(this.list,this.editor,t,document.getElementById("todolist-by-day")),this.searchResult=new o.default(this.list,this.editor,document.getElementById("result-list"),document.getElementById("search-todo")),this.init()}return e.prototype.init=function(){var e=this;this.configRoutes(),document.getElementById("complete-all").addEventListener("click",function(){e.list.forEach(function(e){return e.status=i.Status.COMPLETED}),e.todoList.render(e.filter)}),document.getElementById("uncomplete-all").addEventListener("click",function(){e.list.forEach(function(e){return e.status=i.Status.ACTIVE}),e.todoList.render(e.filter)}),document.getElementById("remove-all-completed").addEventListener("click",function(){var t,n=e.list.reduce(function(e,t){return t.status===i.Status.ACTIVE&&e.push(t),e},[]);e.list.splice(0,e.list.length),(t=e.list).push.apply(t,n),e.todoList.render(e.filter)}),document.getElementById("filters").addEventListener("change",function(t){var n=t.target,i=document.querySelector(".filter.selected");i&&i.classList.remove("selected"),n.parentElement.classList.add("selected"),"filter"===n.name&&(document.getElementById("filter-options").checked=!1,e.filter=n.value,e.todoList.render(e.filter))}),window.addEventListener("click",function(e){var t=e.target;"filter-options"!==t.id&&(document.getElementById("filter-options").checked=!1),"operations-control"!==t.id&&(document.getElementById("operations-control").checked=!1)})},e.prototype.configRoutes=function(){var e=this,t=document.getElementById("route-tasks"),n=document.getElementById("route-calendar"),i=document.getElementById("tasks"),r=document.getElementById("schedule");t.addEventListener("click",function(r){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),i.classList.add("current-sec"),n.classList.remove("nav-active"),t.classList.add("nav-active"),e.todoList.render(),e.editor.el.classList.remove("show")}),n.addEventListener("click",function(i){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),r.classList.add("current-sec"),t.classList.remove("nav-active"),n.classList.add("nav-active"),e.calendarTodoList.render(),e.editor.el.classList.remove("show")})},e}();window.addEventListener("load",function(){var e=new c;window.addEventListener("beforeunload",function(){localStorage.setItem("todolist",JSON.stringify(e.todoList.list))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(1),a=function(){function e(e){this.curTodoId="",this.list=e,this.el=document.getElementById("details"),this.editorClosed=new Event("editorClosed"),this.duedatePicker=new i.default(document.getElementById("due-date-picker")),this.alarmDatePicker=new i.default(document.getElementById("alarm-picker")),this.alarmTimePicker=new r.default(document.getElementById("time-picker")),this.handleClick=this.handleClick.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.el.addEventListener("click",this.handleClick);var t=document.getElementById("edit-todo-title");t&&t.addEventListener("blur",function(n){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.title=t.value)});var n=document.getElementById("todo-details");n&&n.addEventListener("blur",function(t){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.detail=n.value)})},e.prototype.open=function(e){this.curTodoId=e;var t=this.list.find(function(t){return t.id===e});if(t){var n=this.el.querySelector("input[name=todo-title]");n&&(n.value=t.title);var i=this.el.querySelector("label[for=due-date-control]");if(t.dueDate){var r=new Date(t.dueDate.toString());i.innerText="Due on "+r.toDateString()}var a=this.el.querySelector("label[for=alarm-control]");if(t.reminderTime){var s=new Date(t.reminderTime.toString());a.innerHTML="<span>Remind me at "+s.toLocaleTimeString()+"</span><span>On "+s.toDateString()+"</span>"}var o=document.getElementById("todo-details");t.detail&&(o.value=t.detail)}this.el.classList.add("show")},e.prototype.close=function(){this.el.classList.remove("show"),this.el.dispatchEvent(this.editorClosed)},e.prototype.handleClick=function(e){for(var t=this,n=0,i=e.composedPath();n<i.length;n++){var r=i[n];if(r.classList&&r.classList.contains("close-editor")){this.close();break}if(r.classList&&r.classList.contains("due-date-save")){var a=this.el.querySelector("label[for=due-date-control]"),s=this.duedatePicker.selected,o=s.year,d=s.month,c=s.day,l=new Date(o,d-1,c);a.innerText="Due on "+l.toDateString(),(m=this.list.find(function(e){return e.id===t.curTodoId}))&&(m.dueDate=l);break}if(r.classList&&r.classList.contains("due-date-cancel")){var u=document.getElementById("due-date-control");u&&(u.checked=!1);break}if(r.classList&&r.classList.contains("reminder-save")){var h=this.el.querySelector("label[for=alarm-control]"),f=this.alarmDatePicker.selected;o=f.year,d=f.month,c=f.day;if(0===o)break;var m,p=parseInt(this.alarmTimePicker.hourPicker.value),v=parseInt(this.alarmTimePicker.minutePicker.value);l=new Date(o,d-1,c,p,v);h.innerHTML="<span>Remind me at "+l.toLocaleTimeString()+"</span> \n                <span>On "+l.toDateString()+"</span>",(m=this.list.find(function(e){return e.id===t.curTodoId}))&&(m.reminderTime=l);break}if(r.classList&&r.classList.contains("reminder-cancel")){var y=document.getElementById("alarm-control");y&&(y.checked=!1);break}}},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(6),a=function(){function e(e,t,n,i){this.curTodoId="",this.swipedLeft=null,this.newTodo=null,this.list=e,this.editor=t,this.el=n,this.render=this.render.bind(this),i&&(this.newTodo=i),this.handleClick=this.handleClick.bind(this),this.handleChange=this.handleChange.bind(this),this.handleSwipeLeft=this.handleSwipeLeft.bind(this),this.handleNewTodo=this.handleNewTodo.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.render(),this.el.addEventListener("click",this.handleClick),this.el.addEventListener("change",this.handleChange),r.listenToSwipe("left",this.el,this.handleSwipeLeft),this.editor.el.addEventListener("editorClosed",function(t){e.render()}),this.newTodo&&(this.newTodo.addEventListener("keypress",function(t){return"Enter"===t.key&&e.handleNewTodo()}),this.newTodo.nextElementSibling.addEventListener("click",this.handleNewTodo)),window.addEventListener("click",function(t){e.swipedLeft&&(e.swipedLeft.hidden=!0)})},e.prototype.render=function(e){var t,n=this;void 0===e&&(e="ALL"),this.checkDueDate();var a="ALL"===e?this.list:this.list.filter(function(t){return i.Status[t.status]===e});r.removeAllChildren(this.el),(t=this.el).append.apply(t,a.map(function(e){return n.createTodoItem(e)}))},e.prototype.createTodoItem=function(e){var t=document.createElement("li");t.classList.add("todo-item",e.status===i.Status.ACTIVE?"todo-active":"todo-completed"),t.setAttribute("data-id",e.id);var n=document.createElement("input");n.type="checkbox",n.checked=e.status===i.Status.COMPLETED,n.classList.add("toggle-status");var r=document.createElement("div");r.classList.add("todo-info"),r.innerText=e.title;var a=document.createElement("div");a.classList.add("todo-actions"),a.hidden=!0;var s=document.createElement("button");s.classList.add("edit-button"),s.innerHTML='<i class="material-icons">edit</i>';var o=document.createElement("button");return o.classList.add("del-button"),o.innerHTML='<i class="material-icons">delete_forever</i>',a.append(s,o),t.append(n,r,a),t},e.prototype.handleClick=function(e){for(var t=function(e){if(e.classList&&e.classList.contains("del-button")){var t=e.parentElement.parentElement;return n.list.splice(n.list.findIndex(function(e){return e.id===t.getAttribute("data-id")}),1),t.remove(),"break"}if(e.classList&&e.classList.contains("edit-button")){var i=e.parentElement.parentElement;return n.curTodoId=i.getAttribute("data-id")||"",n.editor.open(n.curTodoId),"break"}},n=this,i=0,r=e.composedPath();i<r.length;i++){if("break"===t(r[i]))break}},e.prototype.handleChange=function(e){var t=e.target.parentElement;if(t&&t.classList.contains("todo-item")){var n=this.list.find(function(e){return e.id===t.getAttribute("data-id")});n&&(n.status=n.status===i.Status.ACTIVE?i.Status.COMPLETED:i.Status.ACTIVE,t.classList.toggle("todo-completed"))}},e.prototype.handleSwipeLeft=function(e){for(var t=0,n=e.composedPath();t<n.length;t++){var i=n[t];if(i.classList&&i.classList.contains("todo-item")){this.swipedLeft&&(this.swipedLeft.hidden=!0),this.swipedLeft=i.getElementsByClassName("todo-actions")[0],this.swipedLeft.hidden=!1;break}}},e.prototype.handleNewTodo=function(){if(this.newTodo){var e=this.newTodo.value.trim();if(""===e)return;var t=new i.Todo(e);this.list.unshift(t),this.el.insertBefore(this.createTodoItem(t),this.el.firstElementChild)}},e.prototype.checkDueDate=function(){var e=new Date;this.list.forEach(function(t){if(t.dueDate){var n=new Date(t.dueDate.toString()),r=e.getFullYear()>=n.getFullYear()&&e.getMonth()>=n.getMonth()&&e.getDate()>n.getDate();t.status=r?i.Status.COMPLETED:t.status}})},e}();t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.COMPLETED=1]="COMPLETED"}(i||(i={})),t.Status=i;var r=function(){return function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.id=Date.now()+Math.random().toString(36).substring(2),this.title=e,this.dueDate=t,this.reminderTime=n,this.detail="",this.status=i.ACTIVE}}();t.Todo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.listenToSwipe=function(e,t,n){var i={x:0,y:0};t.addEventListener("touchstart",function(e){i.x=e.touches[0].clientX,i.y=e.touches[0].clientY}),t.addEventListener("touchend",function(t){var r=t.changedTouches[0].clientX-i.x,a=t.changedTouches[0].clientY-i.y;switch(e){case"left":r<0&&Math.abs(r)>30&&Math.abs(a)<20&&n(t)}})},t.delegate=function(e,t,n,i){e.addEventListener(n,function(e){for(var n=0,r=e.composedPath();n<r.length;n++)if(r[n]===t){i.call(t,e);break}})}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){function t(t,n,i,r){var a=e.call(this,t,n,r)||this;return a.calendar=i,a.handleDayChange=a.handleDayChange.bind(a),a.calendar.el.addEventListener("click",a.handleDayChange),a.render(),a}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.calendar){this.checkDueDate(),a.removeAllChildren(this.el);var n=this.list.filter(function(e){if(!e.dueDate)return!1;var n=new Date(e.dueDate.toString()),i=t.calendar.selected,r=i.year,a=i.month,s=i.day;return n.getFullYear()===r&&n.getMonth()+1===a&&n.getDate()===s});(e=this.el).append.apply(e,n.map(function(e){return t.createTodoItem(e)}))}},t.prototype.handleDayChange=function(e){var t=e.target;t&&t.classList.contains("this-month")&&this.render()},t}(n(4).default);t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){function t(t,n,i,r){var a=e.call(this,t,n,i)||this;return a.searchEl=r,a.secEl=document.getElementsByClassName("search-sec")[0],a.titleEl=document.querySelector(".searching>span"),a.render=a.render.bind(a),a.searchEl.addEventListener("keyup",function(){a.secEl.style.order="-2",a.render()}),window.addEventListener("click",function(e){e.target!==a.secEl&&(a.secEl.style.order="0")}),a.render(),a}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.searchEl){this.checkDueDate(),a.removeAllChildren(this.el);var n=this.searchEl.value;this.titleEl.innerText=n;var i=this.list.filter(function(e){return e.title.includes(n)});(e=this.el).append.apply(e,i.map(function(e){return t.createTodoItem(e)}))}},t}(n(4).default);t.default=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLnRzIiwid2VicGFjazovLy8uL3NyYy90aW1lcGlja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RvZG8tZWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy90b2RvLWxpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FsZW5kYXItdG9kby1saXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9zZWFyY2gtcmVzdWx0LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ2FsZW5kYXIiLCJjYWxlbmRhciIsInRoaXMiLCJzZWxlY3RlZCIsInllYXIiLCJtb250aCIsImRheSIsImVsIiwiY2FsZW5kYXJJbmRpY2F0b3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW5kZXJJbmRpY2F0b3IiLCJjYWxlbmRhckhlYWQiLCJyZW5kZXJIZWFkIiwiY2FsZW5kYXJCb2R5IiwidG9keSIsIkRhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwicmVuZGVyQm9keSIsImdldERhdGUiLCJhcHBlbmQiLCJfdGhpcyIsInByZXYiLCJpbm5lclRleHQiLCJjdXIiLCJuZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwidGFyZ2V0IiwiY29udGFpbnMiLCJoZWFkQ2hpbGRyZW4iLCJtYXAiLCJ3ZWVrZGF5IiwiX2EiLCJhcHBseSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpbm5lckhUTUwiLCJtb250aHMiLCJkYXlzIiwiZGF5c0luTW9udGgiLCJkYXlDZWxscyIsImRheUNlbGwiLCJwdXNoIiwidG9kYXkiLCJ3ZWVrZGF5T2ZGaXJzdERheSIsImdldFVUQ0RheSIsInVuc2hpZnQiLCJyZW1vdmUiLCJwYXJzZUludCIsImRlZmF1bHQiLCJUaW1lUGlja2VyIiwidGltZVBpY2tlciIsImhvdXJQaWNrZXIiLCJyZW5kZXJIb3VyUGlja2VyIiwibWludXRlUGlja2VyIiwicmVuZGVyTWludXRlUGlja2VyIiwidGV4dCIsImNyZWF0ZVRleHROb2RlIiwib3B0aW9ucyIsIm9wdGlvbiIsIm1vZGVsXzEiLCJ0b2RvX2VkaXRvcl8xIiwiY2FsZW5kYXJfMSIsInRvZG9fbGlzdF8xIiwic2VhcmNoX3Jlc3VsdF8xIiwiY2FsZW5kYXJfdG9kb19saXN0XzEiLCJBcHAiLCJjdXJUb2RvSWQiLCJmaWx0ZXIiLCJyZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGlzdCIsIkpTT04iLCJwYXJzZSIsImVkaXRvciIsInRvZG9MaXN0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYWxlbmRhclRvZG9MaXN0Iiwic2VhcmNoUmVzdWx0IiwiaW5pdCIsImNvbmZpZ1JvdXRlcyIsImZvckVhY2giLCJ0b2RvIiwic3RhdHVzIiwiU3RhdHVzIiwiQ09NUExFVEVEIiwicmVuZGVyIiwiQUNUSVZFIiwiYXRjaXZlSXRlbXMiLCJyZWR1Y2UiLCJzcGxpY2UiLCJsZW5ndGgiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50RWxlbWVudCIsImNoZWNrZWQiLCJ3aW5kb3ciLCJpZCIsInRhc2tzTmF2IiwiY2FsZW5kYXJOYXYiLCJ0YXNrc1NlYyIsInNjaGVkdWxlU2VjIiwiYXBwIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInRpbWVwaWNrZXJfMSIsIlRvZG9FZGl0b3IiLCJ0b2RvbGlzdCIsImVkaXRvckNsb3NlZCIsIkV2ZW50IiwiZHVlZGF0ZVBpY2tlciIsImFsYXJtRGF0ZVBpY2tlciIsImFsYXJtVGltZVBpY2tlciIsImhhbmRsZUNsaWNrIiwiZWRpdFRpdGxlIiwiZmluZCIsInRpdGxlIiwidG9kb0RldGFpbHMiLCJkZXRhaWwiLCJvcGVuIiwidG9kb0lkIiwiZHVlRGF0ZSIsImR1ZWRhdGUiLCJ0b1N0cmluZyIsInRvRGF0ZVN0cmluZyIsInJlbWluZGVyVGltZSIsInJlbWluZGVyIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiY2xvc2UiLCJkaXNwYXRjaEV2ZW50IiwiX2kiLCJjb21wb3NlZFBhdGgiLCJfYiIsImRhdGV0aW1lIiwiZHVlZGF0ZUNvbnRyb2wiLCJfYyIsImhvdXIiLCJtaW4iLCJhbGFybUNvbnRyb2wiLCJVdGlscyIsIlRvZG9MaXN0IiwibmV3VG9kbyIsInN3aXBlZExlZnQiLCJoYW5kbGVDaGFuZ2UiLCJoYW5kbGVTd2lwZUxlZnQiLCJoYW5kbGVOZXdUb2RvIiwibGlzdGVuVG9Td2lwZSIsIm5leHRFbGVtZW50U2libGluZyIsImhpZGRlbiIsImNoZWNrRHVlRGF0ZSIsInRvZG9zIiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJjcmVhdGVUb2RvSXRlbSIsImxpIiwic2V0QXR0cmlidXRlIiwiY2hlY2tib3giLCJ0eXBlIiwidG9kb0luZm8iLCJhY3Rpb25zIiwiZWRpdEJ0biIsImRlbGV0ZUJ0biIsImxpXzEiLCJ0aGlzXzEiLCJmaW5kSW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJ0b2dnbGUiLCJ0cmltIiwiVG9kbyIsImluc2VydEJlZm9yZSIsImZpcnN0RWxlbWVudENoaWxkIiwiZmxhZyIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHJpbmciLCJkaXJlY3RvaW4iLCJsaXN0ZW5lciIsInN0YXJ0UG9zIiwieCIsInkiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJkaWZmWCIsImNoYW5nZWRUb3VjaGVzIiwiZGlmZlkiLCJhYnMiLCJkZWxlZ2F0ZSIsInNyYyIsImhhbmRsZXIiLCJDYWxlbmRlclRvZG9MaXN0IiwiX3N1cGVyIiwiaGFuZGxlRGF5Q2hhbmdlIiwiX19leHRlbmRzIiwibGlzdE9mRGF5IiwiU2VhcmNoUmVzdWx0Iiwic2VhcmNoRWwiLCJzZWNFbCIsInRpdGxlRWwiLCJzdHlsZSIsIm9yZGVyIiwia2V5d29yZCIsImluY2x1ZGVzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVB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LE1BQU1FLE1BQU1DLE1BQVEsS0FDekJyTCxFQUFLb0UsV0FHVFMsT0FBT3hFLGlCQUFpQixRQUFTLFNBQUNDLEdBQ2ZBLEVBQUdDLFNBQ0hQLEVBQUtrTCxRQUFPbEwsRUFBS2tMLE1BQU1FLE1BQU1DLE1BQVEsT0FHeERyTCxFQUFLb0UsV0FjYixPQXJDMkIwRyxFQUFBRSxFQUFBSixHQTBCdkJJLEVBQUE1TSxVQUFBZ0csT0FBQSxpQkFBQXBFLEVBQUF0QixLQUNJLEdBQUtBLEtBQUt1TSxTQUFWLENBRUF2TSxLQUFLd0osZUFFTFYsRUFBTVksa0JBQWtCMUosS0FBS0ssSUFDN0IsSUFBTXVNLEVBQVU1TSxLQUFLdU0sU0FBU3hOLE1BQzlCaUIsS0FBS3lNLFFBQVFqTCxVQUFZb0wsRUFDekIsSUFBTXBJLEVBQU14RSxLQUFLMkUsS0FBS0osT0FBTyxTQUFBZSxHQUFRLE9BQUFBLEVBQUtpQyxNQUFNc0YsU0FBU0QsTUFDekQxSyxFQUFBbEMsS0FBS0ssSUFBR2dCLE9BQU1jLE1BQUFELEVBQUlzQyxFQUFJeEMsSUFBSSxTQUFBc0QsR0FBUSxPQUFBaEUsRUFBS3FJLGVBQWVyRSxRQUU5RGdILEVBckNBLENBRkE1TyxFQUFBLEdBRTJCMEYsU0F1QzNCeEYsRUFBQXdGLFFBQWVrSiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCJjbGFzcyBDYWxlbmRhciB7XG4gICAgZWw6IEhUTUxFbGVtZW50O1xuICAgIGNhbGVuZGFySW5kaWNhdG9yOiBIVE1MRWxlbWVudDtcbiAgICBjYWxlbmRhckhlYWQ6IEhUTUxFbGVtZW50O1xuICAgIGNhbGVuZGFyQm9keTogSFRNTEVsZW1lbnQ7XG4gICAgbW9udGg6IG51bWJlcjtcbiAgICB5ZWFyOiBudW1iZXI7XG4gICAgc2VsZWN0ZWQgPSB7XG4gICAgICAgIHllYXI6IDAsXG4gICAgICAgIG1vbnRoOiAwLFxuICAgICAgICBkYXk6IDBcbiAgICB9O1xuICAgIHN0YXRpYyBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbiAgICBjb25zdHJ1Y3RvcihjYWxlbmRhcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbCA9IGNhbGVuZGFyO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1pbmRpY2F0b3InKTtcbiAgICAgICAgdGhpcy5yZW5kZXJJbmRpY2F0b3IoKTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFySGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNhbGVuZGFySGVhZC5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1oZWFkJyk7XG4gICAgICAgIHRoaXMucmVuZGVySGVhZCgpO1xuXG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckJvZHkuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItYm9keScpO1xuICAgICAgICBjb25zdCB0b2R5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5tb250aCA9IHRvZHkuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgIHRoaXMueWVhciA9IHRvZHkuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJCb2R5KHRoaXMubW9udGgsIHRoaXMueWVhcik7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZC5kYXkgPSB0b2R5LmdldERhdGUoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZC5tb250aCA9IHRoaXMubW9udGg7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQueWVhciA9IHRoaXMueWVhcjtcblxuICAgICAgICB0aGlzLmVsLmFwcGVuZCh0aGlzLmNhbGVuZGFySW5kaWNhdG9yLCB0aGlzLmNhbGVuZGFySGVhZCwgdGhpcy5jYWxlbmRhckJvZHkpO1xuICAgIH1cblxuICAgIHJlbmRlckluZGljYXRvcigpIHtcbiAgICAgICAgY29uc3QgcHJldiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwcmV2LmlubmVyVGV4dCA9ICfina4nO1xuICAgICAgICBwcmV2LmNsYXNzTGlzdC5hZGQoJ3ByZXYtbW9udGgnKTtcbiAgICAgICAgY29uc3QgY3VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgY3VyLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtbW9udGgnKTtcbiAgICAgICAgY29uc3QgbmV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBuZXh0LmNsYXNzTGlzdC5hZGQoJ25leHQtbW9udGgnKTtcbiAgICAgICAgbmV4dC5pbm5lclRleHQgPSAn4p2vJztcblxuICAgICAgICB0aGlzLmNhbGVuZGFySW5kaWNhdG9yLmFwcGVuZChwcmV2LCBjdXIsIG5leHQpO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3ByZXYtbW9udGgnKSkge1xuICAgICAgICAgICAgICAgIGlmICgtLXRoaXMubW9udGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCA9IDEyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIgLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCb2R5KHRoaXMubW9udGgsIHRoaXMueWVhcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25leHQtbW9udGgnKSkge1xuICAgICAgICAgICAgICAgIGlmICgrK3RoaXMubW9udGggPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGggPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCb2R5KHRoaXMubW9udGgsIHRoaXMueWVhcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlckhlYWQoKSB7XG4gICAgICAgIGNvbnN0IHdlZWtkYXlzID0gWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXTtcbiAgICAgICAgY29uc3QgaGVhZENoaWxkcmVuID0gd2Vla2RheXMubWFwKGRheSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3ZWVrZGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB3ZWVrZGF5LmNsYXNzTGlzdC5hZGQoJ3dlZWtkYXknKTtcbiAgICAgICAgICAgIHdlZWtkYXkuaW5uZXJUZXh0ID0gZGF5O1xuICAgICAgICAgICAgcmV0dXJuIHdlZWtkYXk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNhbGVuZGFySGVhZC5hcHBlbmQoLi4uaGVhZENoaWxkcmVuKTtcbiAgICB9XG5cbiAgICByZW5kZXJCb2R5KG1vbnRoOiBudW1iZXIsIHllYXI6IG51bWJlcikge1xuICAgICAgICB3aGlsZSAodGhpcy5jYWxlbmRhckJvZHkuZmlyc3RDaGlsZCkgdGhpcy5jYWxlbmRhckJvZHkucmVtb3ZlQ2hpbGQodGhpcy5jYWxlbmRhckJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnN0IGN1ck1vbnRoID0gdGhpcy5jYWxlbmRhckluZGljYXRvci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXJyZW50LW1vbnRoJylbMF07XG4gICAgICAgIGN1ck1vbnRoLmlubmVySFRNTCA9IGAke0NhbGVuZGFyLm1vbnRoc1ttb250aCAtIDFdfSAke3llYXJ9YDtcblxuICAgICAgICBjb25zdCBkYXlzID0gdGhpcy5kYXlzSW5Nb250aChtb250aCwgeWVhcik7XG5cbiAgICAgICAgY29uc3QgZGF5Q2VsbHM6IEhUTUxFbGVtZW50W10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCBkYXlzOyArK2tleSkge1xuICAgICAgICAgICAgY29uc3QgZGF5Q2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGF5Q2VsbC5jbGFzc0xpc3QuYWRkKCdjZWxsLWRheScsICd0aGlzLW1vbnRoJyk7XG4gICAgICAgICAgICBkYXlDZWxsLmlubmVyVGV4dCA9IGAke2tleSArIDF9YDtcbiAgICAgICAgICAgIGRheUNlbGxzLnB1c2goZGF5Q2VsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLnllYXIgPT09IHRvZGF5LmdldEZ1bGxZZWFyKCkgJiYgdGhpcy5tb250aCA9PT0gdG9kYXkuZ2V0TW9udGgoKSArIDEpIHtcbiAgICAgICAgICAgIGRheUNlbGxzW3RvZGF5LmdldERhdGUoKSAtIDFdLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3ZWVrZGF5T2ZGaXJzdERheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKS5nZXRVVENEYXkoKSB8fCA3O1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHdlZWtkYXlPZkZpcnN0RGF5OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRheUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRheUNlbGwuY2xhc3NMaXN0LmFkZCgnY2VsbC1kYXknKTtcbiAgICAgICAgICAgIGRheUNlbGxzLnVuc2hpZnQoZGF5Q2VsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxlbmRhckJvZHkuYXBwZW5kKC4uLmRheUNlbGxzKTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFyQm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3RoaXMtbW9udGgnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5jYWxlbmRhckJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKVswXTtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCAmJiBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuZGF5ID0gcGFyc2VJbnQodGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5tb250aCA9IHRoaXMubW9udGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC55ZWFyID0gdGhpcy55ZWFyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkYXlzSW5Nb250aChtb250aDogbnVtYmVyLCB5ZWFyOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwKS5nZXREYXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYWxlbmRhcjsiLCJjbGFzcyBUaW1lUGlja2VyIHtcbiAgICB0aW1lUGlja2VyOiBIVE1MRWxlbWVudDtcbiAgICBob3VyUGlja2VyOiBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICBtaW51dGVQaWNrZXI6IEhUTUxTZWxlY3RFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IodGltZVBpY2tlcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50aW1lUGlja2VyID0gdGltZVBpY2tlcjtcbiAgICAgICAgdGhpcy5ob3VyUGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICAgIHRoaXMuaG91clBpY2tlci5jbGFzc0xpc3QuYWRkKCdob3VyLXBpY2tlcicpO1xuICAgICAgICB0aGlzLnJlbmRlckhvdXJQaWNrZXIoKTtcblxuICAgICAgICB0aGlzLm1pbnV0ZVBpY2tlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICB0aGlzLm1pbnV0ZVBpY2tlci5jbGFzc0xpc3QuYWRkKCdtaW51dGUtcGlja2VyJyk7XG4gICAgICAgIHRoaXMucmVuZGVyTWludXRlUGlja2VyKCk7XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCc6Jyk7XG5cbiAgICAgICAgdGhpcy50aW1lUGlja2VyLmFwcGVuZCh0aGlzLmhvdXJQaWNrZXIsIHRleHQsIHRoaXMubWludXRlUGlja2VyKTtcbiAgICB9XG5cbiAgICByZW5kZXJIb3VyUGlja2VyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7ICsraSkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBgJHtpfWA7XG4gICAgICAgICAgICBvcHRpb24uaW5uZXJUZXh0ID0gYCR7aX1gO1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKG9wdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhvdXJQaWNrZXIuYXBwZW5kKC4uLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJlbmRlck1pbnV0ZVBpY2tlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDYwOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gYCR7aX1gO1xuICAgICAgICAgICAgb3B0aW9uLmlubmVyVGV4dCA9IGAke2l9YDtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW51dGVQaWNrZXIuYXBwZW5kKC4uLm9wdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGltZVBpY2tlcjsiLCJpbXBvcnQgeyBUb2RvLCBTdGF0dXMgfSBmcm9tICcuL21vZGVsJztcbmltcG9ydCBUb2RvRWRpdG9yIGZyb20gJy4vdG9kby1lZGl0b3InO1xuaW1wb3J0IENhbGVuZGFyIGZyb20gJy4vY2FsZW5kYXInO1xuaW1wb3J0IFRvZG9MaXN0IGZyb20gJy4vdG9kby1saXN0JztcbmltcG9ydCBTZWFyY2hSZXN1bHQgZnJvbSAnLi9zZWFyY2gtcmVzdWx0JztcbmltcG9ydCBDYWxlbmRhclRvZG9MaXN0IGZyb20gJy4vY2FsZW5kYXItdG9kby1saXN0JztcblxuY2xhc3MgQXBwIHtcbiAgICBsaXN0OiBUb2RvW107XG4gICAgZWRpdG9yOiBUb2RvRWRpdG9yO1xuICAgIHRvZG9MaXN0OiBUb2RvTGlzdDtcbiAgICBjYWxlbmRhclRvZG9MaXN0OiBDYWxlbmRhclRvZG9MaXN0O1xuICAgIHNlYXJjaFJlc3VsdDogVG9kb0xpc3Q7XG4gICAgY3VyVG9kb0lkID0gJyc7XG4gICAgZmlsdGVyOiBzdHJpbmcgPSAnQUxMJztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBMb2FkIGRhdGEgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgICAgIGNvbnN0IHJlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvbGlzdCcpO1xuICAgICAgICB0aGlzLmxpc3QgPSByZXMgPyBKU09OLnBhcnNlKHJlcykgOiBbXTtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgVG9kb0VkaXRvcih0aGlzLmxpc3QpO1xuICAgICAgICB0aGlzLnRvZG9MaXN0ID0gbmV3IFRvZG9MaXN0KFxuICAgICAgICAgICAgdGhpcy5saXN0LFxuICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kby1saXN0JykgYXMgSFRNTFVMaXN0RWxlbWVudCxcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctdG9kbycpIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjYWxlbmRhciA9IG5ldyBDYWxlbmRhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXInKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJUb2RvTGlzdCA9IG5ldyBDYWxlbmRhclRvZG9MaXN0KFxuICAgICAgICAgICAgdGhpcy5saXN0LFxuICAgICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgICBjYWxlbmRhcixcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvbGlzdC1ieS1kYXknKSBhcyBIVE1MRWxlbWVudFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0ID0gbmV3IFNlYXJjaFJlc3VsdChcbiAgICAgICAgICAgIHRoaXMubGlzdCxcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdC1saXN0JykgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXRvZG8nKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5jb25maWdSb3V0ZXMoKTtcblxuICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBsZXRlLWFsbCcpIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKHRvZG8gPT4gdG9kby5zdGF0dXMgPSBTdGF0dXMuQ09NUExFVEVEKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRoaXMuZmlsdGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmNvbXBsZXRlLWFsbCcpIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKHRvZG8gPT4gdG9kby5zdGF0dXMgPSBTdGF0dXMuQUNUSVZFKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRoaXMuZmlsdGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmUtYWxsLWNvbXBsZXRlZCcpIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF0Y2l2ZUl0ZW1zID0gdGhpcy5saXN0LnJlZHVjZSgocHJldjogYW55LCB0b2RvKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvZG8uc3RhdHVzID09PSBTdGF0dXMuQUNUSVZFKSBwcmV2LnB1c2godG9kbyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICB0aGlzLmxpc3Quc3BsaWNlKDAsIHRoaXMubGlzdC5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5saXN0LnB1c2goLi4uYXRjaXZlSXRlbXMpO1xuICAgICAgICAgICAgdGhpcy50b2RvTGlzdC5yZW5kZXIodGhpcy5maWx0ZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBmaWx0ZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlcnMnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgZmlsdGVycy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLnNlbGVjdGVkJyk7XG4gICAgICAgICAgICBzZWxlY3RlZCAmJiBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuXG4gICAgICAgICAgICAodGFyZ2V0LnBhcmVudEVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnZmlsdGVyJykge1xuICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyLW9wdGlvbnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSB0YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy50b2RvTGlzdC5yZW5kZXIodGhpcy5maWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRhcmdldC5pZCAhPT0gJ2ZpbHRlci1vcHRpb25zJykge1xuICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyLW9wdGlvbnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQuaWQgIT09ICdvcGVyYXRpb25zLWNvbnRyb2wnKSB7XG4gICAgICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGVyYXRpb25zLWNvbnRyb2wnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbmZpZ1JvdXRlcygpIHtcbiAgICAgICAgY29uc3QgdGFza3NOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm91dGUtdGFza3MnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgY2FsZW5kYXJOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm91dGUtY2FsZW5kYXInKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgdGFza3NTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza3MnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3Qgc2NoZWR1bGVTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NoZWR1bGUnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICB0YXNrc05hdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlYyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2N1cnJlbnQtc2VjJylbMF07XG4gICAgICAgICAgICBjdXJyZW50U2VjLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQtc2VjJyk7XG4gICAgICAgICAgICB0YXNrc1NlYy5jbGFzc0xpc3QuYWRkKCdjdXJyZW50LXNlYycpO1xuICAgICAgICAgICAgY2FsZW5kYXJOYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWFjdGl2ZScpO1xuICAgICAgICAgICAgdGFza3NOYXYuY2xhc3NMaXN0LmFkZCgnbmF2LWFjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy50b2RvTGlzdC5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FsZW5kYXJOYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXJyZW50LXNlYycpWzBdO1xuICAgICAgICAgICAgY3VycmVudFNlYy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50LXNlYycpO1xuICAgICAgICAgICAgc2NoZWR1bGVTZWMuY2xhc3NMaXN0LmFkZCgnY3VycmVudC1zZWMnKTtcbiAgICAgICAgICAgIHRhc2tzTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIGNhbGVuZGFyTmF2LmNsYXNzTGlzdC5hZGQoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJUb2RvTGlzdC5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIGNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvbGlzdCcsIEpTT04uc3RyaW5naWZ5KGFwcC50b2RvTGlzdC5saXN0KSk7XG4gICAgfSk7XG59KTsiLCJpbXBvcnQgeyBUb2RvIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgQ2FsZW5kYXIgZnJvbSAnLi9jYWxlbmRhcic7XG5pbXBvcnQgVGltZVBpY2tlciBmcm9tICcuL3RpbWVwaWNrZXInO1xuXG5jbGFzcyBUb2RvRWRpdG9yIHtcbiAgICBsaXN0OiBUb2RvW107XG4gICAgZWw6IEhUTUxFbGVtZW50O1xuICAgIGR1ZWRhdGVQaWNrZXI6IENhbGVuZGFyO1xuICAgIGFsYXJtRGF0ZVBpY2tlcjogQ2FsZW5kYXI7XG4gICAgYWxhcm1UaW1lUGlja2VyOiBUaW1lUGlja2VyO1xuICAgIGN1clRvZG9JZDogc3RyaW5nID0gJyc7XG4gICAgZWRpdG9yQ2xvc2VkOiBFdmVudDtcblxuICAgIGNvbnN0cnVjdG9yKHRvZG9saXN0OiBUb2RvW10pIHtcbiAgICAgICAgdGhpcy5saXN0ID0gdG9kb2xpc3Q7XG4gICAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGV0YWlscycpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICB0aGlzLmVkaXRvckNsb3NlZCA9IG5ldyBFdmVudCgnZWRpdG9yQ2xvc2VkJyk7XG4gICAgICAgIHRoaXMuZHVlZGF0ZVBpY2tlciA9IG5ldyBDYWxlbmRhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVlLWRhdGUtcGlja2VyJykgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICB0aGlzLmFsYXJtRGF0ZVBpY2tlciA9IG5ldyBDYWxlbmRhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxhcm0tcGlja2VyJykgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICB0aGlzLmFsYXJtVGltZVBpY2tlciA9IG5ldyBUaW1lUGlja2VyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLXBpY2tlcicpIGFzIEhUTUxFbGVtZW50KTtcblxuICAgICAgICAvLyBiaW5kIGhhbmRsZXJzXG4gICAgICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuXG4gICAgICAgIGNvbnN0IGVkaXRUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LXRvZG8tdGl0bGUnKTtcbiAgICAgICAgZWRpdFRpdGxlICYmIGVkaXRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b2RvID0gdGhpcy5saXN0LmZpbmQodG9kbyA9PiB0b2RvLmlkID09PSB0aGlzLmN1clRvZG9JZCk7XG4gICAgICAgICAgICBpZiAodG9kbykgdG9kby50aXRsZSA9IChlZGl0VGl0bGUgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRvZG9EZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tZGV0YWlscycpO1xuICAgICAgICB0b2RvRGV0YWlscyAmJiB0b2RvRGV0YWlscy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b2RvID0gdGhpcy5saXN0LmZpbmQodG9kbyA9PiB0b2RvLmlkID09PSB0aGlzLmN1clRvZG9JZCk7XG4gICAgICAgICAgICBpZiAodG9kbykgdG9kby5kZXRhaWwgPSAodG9kb0RldGFpbHMgYXMgSFRNTFRleHRBcmVhRWxlbWVudCkudmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogb3BlbiBlZGl0b3JcbiAgICAgKi9cbiAgICBvcGVuKHRvZG9JZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY3VyVG9kb0lkID0gdG9kb0lkO1xuICAgICAgICBjb25zdCB0b2RvID0gdGhpcy5saXN0LmZpbmQodG9kbyA9PiB0b2RvLmlkID09PSB0b2RvSWQpO1xuICAgICAgICBpZiAodG9kbykge1xuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dG9kby10aXRsZV0nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRpdGxlKSB0aXRsZS52YWx1ZSA9IHRvZG8udGl0bGU7XG5cbiAgICAgICAgICAgIGNvbnN0IGR1ZURhdGUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1kdWUtZGF0ZS1jb250cm9sXScpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAodG9kby5kdWVEYXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHVlZGF0ZSA9IG5ldyBEYXRlKHRvZG8uZHVlRGF0ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBkdWVEYXRlLmlubmVyVGV4dCA9IGBEdWUgb24gJHtkdWVkYXRlLnRvRGF0ZVN0cmluZygpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbWluZGVyVGltZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPWFsYXJtLWNvbnRyb2xdJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodG9kby5yZW1pbmRlclRpbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1pbmRlciA9IG5ldyBEYXRlKHRvZG8ucmVtaW5kZXJUaW1lLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZS5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgICAgICBgPHNwYW4+UmVtaW5kIG1lIGF0ICR7cmVtaW5kZXIudG9Mb2NhbGVUaW1lU3RyaW5nKCl9PC9zcGFuPjxzcGFuPk9uICR7cmVtaW5kZXIudG9EYXRlU3RyaW5nKCl9PC9zcGFuPmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRldGFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWRldGFpbHMnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRvZG8uZGV0YWlsKSBkZXRhaWwudmFsdWUgPSB0b2RvLmRldGFpbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIHRoaXMuZWwuZGlzcGF0Y2hFdmVudCh0aGlzLmVkaXRvckNsb3NlZCk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiAoZXYuY29tcG9zZWRQYXRoKCkgYXMgSFRNTEVsZW1lbnRbXSkpIHtcbiAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZS1lZGl0b3InKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZHVlLWRhdGUtc2F2ZScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHVlRGF0ZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPWR1ZS1kYXRlLWNvbnRyb2xdJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB5ZWFyLCBtb250aCwgZGF5IH0gPSB0aGlzLmR1ZWRhdGVQaWNrZXIuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSk7XG4gICAgICAgICAgICAgICAgZHVlRGF0ZS5pbm5lclRleHQgPSBgRHVlIG9uICR7ZGF0ZXRpbWUudG9EYXRlU3RyaW5nKCl9YDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IHRoaXMuY3VyVG9kb0lkKTtcbiAgICAgICAgICAgICAgICBpZiAodG9kbykgdG9kby5kdWVEYXRlID0gZGF0ZXRpbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2R1ZS1kYXRlLWNhbmNlbCcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHVlZGF0ZUNvbnRyb2wgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVlLWRhdGUtY29udHJvbCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGR1ZWRhdGVDb250cm9sKSBkdWVkYXRlQ29udHJvbC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3JlbWluZGVyLXNhdmUnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWluZGVyVGltZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPWFsYXJtLWNvbnRyb2xdJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB5ZWFyLCBtb250aCwgZGF5IH0gPSB0aGlzLmFsYXJtRGF0ZVBpY2tlci5zZWxlY3RlZDtcbiAgICAgICAgICAgICAgICBpZiAoeWVhciA9PT0gMCkgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBob3VyID0gcGFyc2VJbnQodGhpcy5hbGFybVRpbWVQaWNrZXIuaG91clBpY2tlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluID0gcGFyc2VJbnQodGhpcy5hbGFybVRpbWVQaWNrZXIubWludXRlUGlja2VyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5LCBob3VyLCBtaW4pO1xuXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJUaW1lLmlubmVySFRNTCA9IGA8c3Bhbj5SZW1pbmQgbWUgYXQgJHtkYXRldGltZS50b0xvY2FsZVRpbWVTdHJpbmcoKX08L3NwYW4+IFxuICAgICAgICAgICAgICAgIDxzcGFuPk9uICR7ZGF0ZXRpbWUudG9EYXRlU3RyaW5nKCl9PC9zcGFuPmA7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b2RvID0gdGhpcy5saXN0LmZpbmQodG9kbyA9PiB0b2RvLmlkID09PSB0aGlzLmN1clRvZG9JZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8ucmVtaW5kZXJUaW1lID0gZGF0ZXRpbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3JlbWluZGVyLWNhbmNlbCcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxhcm1Db250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsYXJtLWNvbnRyb2wnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChhbGFybUNvbnRyb2wpIGFsYXJtQ29udHJvbC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvZG9FZGl0b3I7IiwiaW1wb3J0IHsgVG9kbywgU3RhdHVzIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBUb2RvRWRpdG9yIGZyb20gJy4vdG9kby1lZGl0b3InO1xuXG5jbGFzcyBUb2RvTGlzdCB7XG4gICAgbGlzdDogVG9kb1tdO1xuICAgIGVsOiBIVE1MRWxlbWVudDtcbiAgICBlZGl0b3I6IFRvZG9FZGl0b3I7XG4gICAgY3VyVG9kb0lkOiBzdHJpbmcgPSAnJztcbiAgICBzd2lwZWRMZWZ0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIG5ld1RvZG86IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHRvZG9MaXN0OiBUb2RvW10sIGVkaXRvcjogVG9kb0VkaXRvciwgZWw6IEhUTUxFbGVtZW50LCBuZXdUb2RvPzogSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICB0aGlzLmxpc3QgPSB0b2RvTGlzdDtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuICAgICAgICBpZiAobmV3VG9kbykgdGhpcy5uZXdUb2RvID0gbmV3VG9kbztcblxuICAgICAgICAvLyBiaW5kIGhhbmRsZXJzXG4gICAgICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVTd2lwZUxlZnQgPSB0aGlzLmhhbmRsZVN3aXBlTGVmdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZU5ld1RvZG8gPSB0aGlzLmhhbmRsZU5ld1RvZG8uYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVDaGFuZ2UpO1xuICAgICAgICBVdGlscy5saXN0ZW5Ub1N3aXBlKCdsZWZ0JywgdGhpcy5lbCwgdGhpcy5oYW5kbGVTd2lwZUxlZnQpO1xuXG4gICAgICAgIHRoaXMuZWRpdG9yLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2VkaXRvckNsb3NlZCcsIChldikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMubmV3VG9kbykge1xuICAgICAgICAgICAgdGhpcy5uZXdUb2RvLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGV2KSA9PiBldi5rZXkgPT09ICdFbnRlcicgJiYgdGhpcy5oYW5kbGVOZXdUb2RvKCkpO1xuICAgICAgICAgICAgKHRoaXMubmV3VG9kby5uZXh0RWxlbWVudFNpYmxpbmcgYXMgSFRNTEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVOZXdUb2RvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3dpcGVkTGVmdCkgdGhpcy5zd2lwZWRMZWZ0LmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcihmaWx0ZXI6IHN0cmluZyA9ICdBTEwnKSB7XG4gICAgICAgIHRoaXMuY2hlY2tEdWVEYXRlKCk7XG5cbiAgICAgICAgY29uc3QgdG9kb3MgPSBmaWx0ZXIgPT09ICdBTEwnID8gdGhpcy5saXN0IDogdGhpcy5saXN0LmZpbHRlcih0b2RvID0+IFN0YXR1c1t0b2RvLnN0YXR1c10gPT09IGZpbHRlcik7XG4gICAgICAgIFV0aWxzLnJlbW92ZUFsbENoaWxkcmVuKHRoaXMuZWwpO1xuXG4gICAgICAgIHRoaXMuZWwuYXBwZW5kKC4uLnRvZG9zLm1hcCh0b2RvID0+IHRoaXMuY3JlYXRlVG9kb0l0ZW0odG9kbykpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVUb2RvSXRlbSh0b2RvOiBUb2RvKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgndG9kby1pdGVtJywgdG9kby5zdGF0dXMgPT09IFN0YXR1cy5BQ1RJVkUgPyAndG9kby1hY3RpdmUnIDogJ3RvZG8tY29tcGxldGVkJyk7XG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIHRvZG8uaWQpO1xuXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0b2RvLnN0YXR1cyA9PT0gU3RhdHVzLkNPTVBMRVRFRCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgndG9nZ2xlLXN0YXR1cycpO1xuXG4gICAgICAgIGNvbnN0IHRvZG9JbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvZG9JbmZvLmNsYXNzTGlzdC5hZGQoJ3RvZG8taW5mbycpO1xuICAgICAgICB0b2RvSW5mby5pbm5lclRleHQgPSB0b2RvLnRpdGxlO1xuXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWN0aW9ucy5jbGFzc0xpc3QuYWRkKCd0b2RvLWFjdGlvbnMnKTtcbiAgICAgICAgYWN0aW9ucy5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdlZGl0LWJ1dHRvbicpO1xuICAgICAgICBlZGl0QnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZWRpdDwvaT5gO1xuXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZCgnZGVsLWJ1dHRvbicpO1xuICAgICAgICBkZWxldGVCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5kZWxldGVfZm9yZXZlcjwvaT5gO1xuXG4gICAgICAgIGFjdGlvbnMuYXBwZW5kKGVkaXRCdG4sIGRlbGV0ZUJ0bik7XG5cbiAgICAgICAgbGkuYXBwZW5kKGNoZWNrYm94LCB0b2RvSW5mbywgYWN0aW9ucyk7XG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayhldjogTW91c2VFdmVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIChldi5jb21wb3NlZFBhdGgoKSBhcyBIVE1MRWxlbWVudFtdKSkge1xuXG4gICAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZGVsLWJ1dHRvbicpKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBkZWxldGUgdG9kbyBpdGVtXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgbGkgPSAoZWwucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3Quc3BsaWNlKHRoaXMubGlzdC5maW5kSW5kZXgodG9kbyA9PiB0b2RvLmlkID09PSBsaS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSksIDEpO1xuICAgICAgICAgICAgICAgIGxpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0LWJ1dHRvbicpKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBlZGl0IHRvZG8gaXRlbVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gKGVsLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJUb2RvSWQgPSBsaS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSB8fCAnJztcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5vcGVuKHRoaXMuY3VyVG9kb0lkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogaGFuZGxlIHN0YXR1cyBjaGFuZ2VcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2UoZXY6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgbGkgPSB0YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKGxpICYmIGxpLmNsYXNzTGlzdC5jb250YWlucygndG9kby1pdGVtJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvZG8gPSB0aGlzLmxpc3QuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcbiAgICAgICAgICAgIGlmICh0b2RvKSB7XG4gICAgICAgICAgICAgICAgdG9kby5zdGF0dXMgPSB0b2RvLnN0YXR1cyA9PT0gU3RhdHVzLkFDVElWRSA/IFN0YXR1cy5DT01QTEVURUQgOiBTdGF0dXMuQUNUSVZFO1xuICAgICAgICAgICAgICAgIGxpLmNsYXNzTGlzdC50b2dnbGUoJ3RvZG8tY29tcGxldGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTd2lwZUxlZnQoZXY6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiAoZXYuY29tcG9zZWRQYXRoKCkgYXMgSFRNTEVsZW1lbnRbXSkpIHtcbiAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b2RvLWl0ZW0nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN3aXBlZExlZnQpIHRoaXMuc3dpcGVkTGVmdC5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zd2lwZWRMZWZ0ID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndG9kby1hY3Rpb25zJylbMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2lwZWRMZWZ0LmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmV3VG9kbygpIHtcbiAgICAgICAgaWYgKHRoaXMubmV3VG9kbykge1xuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLm5ld1RvZG8udmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgaWYgKHRpdGxlID09PSAnJykgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IG5ldyBUb2RvKHRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMubGlzdC51bnNoaWZ0KHRvZG8pO1xuXG4gICAgICAgICAgICB0aGlzLmVsLmluc2VydEJlZm9yZSh0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pLCB0aGlzLmVsLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrRHVlRGF0ZSgpIHtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaCh0b2RvID0+IHtcbiAgICAgICAgICAgIGlmICh0b2RvLmR1ZURhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkdWVkYXRlID0gbmV3IERhdGUodG9kby5kdWVEYXRlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYWcgPSB0b2RheS5nZXRGdWxsWWVhcigpID49IGR1ZWRhdGUuZ2V0RnVsbFllYXIoKSAmJlxuICAgICAgICAgICAgICAgICAgICB0b2RheS5nZXRNb250aCgpID49IGR1ZWRhdGUuZ2V0TW9udGgoKSAmJlxuICAgICAgICAgICAgICAgICAgICB0b2RheS5nZXREYXRlKCkgPiBkdWVkYXRlLmdldERhdGUoKTtcbiAgICAgICAgICAgICAgICB0b2RvLnN0YXR1cyA9IGZsYWcgPyBTdGF0dXMuQ09NUExFVEVEIDogdG9kby5zdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvTGlzdDsiLCJlbnVtIFN0YXR1cyB7XG4gICAgQUNUSVZFLFxuICAgIENPTVBMRVRFRFxufVxuXG5jbGFzcyBUb2RvIHtcbiAgICByZWFkb25seSBpZCA9IERhdGUubm93KCkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBkdWVEYXRlOiBEYXRlIHwgbnVsbDtcbiAgICBkZXRhaWw6IHN0cmluZztcbiAgICByZW1pbmRlclRpbWU6IERhdGUgfCBudWxsO1xuICAgIHN0YXR1czogU3RhdHVzO1xuXG4gICAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZywgZHVlRGF0ZTogRGF0ZSB8IG51bGwgPSBudWxsLCByZW1pbmRlclRpbWU6IERhdGUgfCBudWxsID0gbnVsbCkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgICAgIHRoaXMucmVtaW5kZXJUaW1lID0gcmVtaW5kZXJUaW1lO1xuICAgICAgICB0aGlzLmRldGFpbCA9ICcnO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IFN0YXR1cy5BQ1RJVkU7XG4gICAgfVxufVxuXG5cbmV4cG9ydCB7IFRvZG8sIFN0YXR1cyB9OyIsImZ1bmN0aW9uIHJlbW92ZUFsbENoaWxkcmVuKGVsOiBIVE1MRWxlbWVudCkge1xuICAgIHdoaWxlIChlbC5maXJzdENoaWxkKSBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcbn1cblxuZnVuY3Rpb24gbGlzdGVuVG9Td2lwZShkaXJlY3RvaW46IHN0cmluZywgZWw6IEhUTUxFbGVtZW50LCBsaXN0ZW5lcjogKGV2OiBUb3VjaEV2ZW50KSA9PiBhbnkpIHtcbiAgICBjb25zdCBzdGFydFBvcyA9IHsgeDogMCwgeTogMCB9O1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXYpID0+IHtcbiAgICAgICAgc3RhcnRQb3MueCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgc3RhcnRQb3MueSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9KTtcblxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2KSA9PiB7XG4gICAgICAgIGNvbnN0IGRpZmZYID0gZXYuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHN0YXJ0UG9zLng7XG4gICAgICAgIGNvbnN0IGRpZmZZID0gZXYuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIHN0YXJ0UG9zLnk7XG5cbiAgICAgICAgc3dpdGNoIChkaXJlY3RvaW4pIHtcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIGlmIChkaWZmWCA8IDAgJiYgTWF0aC5hYnMoZGlmZlgpID4gMzAgJiYgTWF0aC5hYnMoZGlmZlkpIDwgMjApIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5mdW5jdGlvbiBkZWxlZ2F0ZSh0YXJnZXQ6IEhUTUxFbGVtZW50LCBzcmM6IEhUTUxFbGVtZW50LCB0eXBlOiBzdHJpbmcsIGhhbmRsZXI6IChldjogRXZlbnQpID0+IHZvaWQpIHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCAoZXYpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiBldi5jb21wb3NlZFBhdGgoKSkge1xuICAgICAgICAgICAgaWYgKGVsID09PSBzcmMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwoc3JjLCBldik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgcmVtb3ZlQWxsQ2hpbGRyZW4sIGxpc3RlblRvU3dpcGUsIGRlbGVnYXRlIH07IiwiaW1wb3J0IHsgVG9kbywgU3RhdHVzIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUb2RvRWRpdG9yIGZyb20gJy4vdG9kby1lZGl0b3InO1xuaW1wb3J0IFRvZG9MaXN0IGZyb20gJy4vdG9kby1saXN0JztcblxuY2xhc3MgQ2FsZW5kZXJUb2RvTGlzdCBleHRlbmRzIFRvZG9MaXN0IHtcbiAgICBjYWxlbmRhcjogQ2FsZW5kYXJcbiAgICBjb25zdHJ1Y3Rvcih0b2RvTGlzdDogVG9kb1tdLCBlZGl0b3I6IFRvZG9FZGl0b3IsIGNhbGVuZGFyOiBDYWxlbmRhciwgZWw6IEhUTUxFbGVtZW50KSB7XG5cbiAgICAgICAgc3VwZXIodG9kb0xpc3QsIGVkaXRvciwgZWwpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyID0gY2FsZW5kYXI7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVEYXlDaGFuZ2UgPSB0aGlzLmhhbmRsZURheUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVEYXlDaGFuZ2UpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbGVuZGFyKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jaGVja0R1ZURhdGUoKTtcbiAgICAgICAgVXRpbHMucmVtb3ZlQWxsQ2hpbGRyZW4odGhpcy5lbCk7XG5cbiAgICAgICAgY29uc3QgbGlzdE9mRGF5ID0gdGhpcy5saXN0LmZpbHRlcigodG9kbykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0b2RvLmR1ZURhdGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5jYWxlbmRhci5zZWxlY3RlZDtcbiAgICAgICAgICAgIHJldHVybiBkdWVkYXRlLmdldEZ1bGxZZWFyKCkgPT09IHllYXIgJiYgZHVlZGF0ZS5nZXRNb250aCgpICsgMSA9PT0gbW9udGggJiYgZHVlZGF0ZS5nZXREYXRlKCkgPT09IGRheTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWwuYXBwZW5kKC4uLmxpc3RPZkRheS5tYXAodG9kbyA9PiB0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pKSk7XG4gICAgfVxuXG4gICAgaGFuZGxlRGF5Q2hhbmdlKGV2OiBFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgLy8gZmluZCB0b2RvIGl0ZW1zIGR1ZSBvbiB0aGUgc2VsZWN0ZWQgZGF5XG4gICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGhpcy1tb250aCcpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYWxlbmRlclRvZG9MaXN0OyIsImltcG9ydCB7IFRvZG8gfSBmcm9tICcuL21vZGVsJztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IFRvZG9FZGl0b3IgZnJvbSAnLi90b2RvLWVkaXRvcic7XG5pbXBvcnQgVG9kb0xpc3QgZnJvbSAnLi90b2RvLWxpc3QnO1xuXG5jbGFzcyBTZWFyY2hSZXN1bHQgZXh0ZW5kcyBUb2RvTGlzdCB7XG4gICAgc2VhcmNoRWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdGl0bGVFbDogSFRNTEVsZW1lbnQ7XG4gICAgc2VjRWw6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IodG9kb0xpc3Q6IFRvZG9bXSwgZWRpdG9yOiBUb2RvRWRpdG9yLCBlbDogSFRNTEVsZW1lbnQsIHNlYXJjaEVsOiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKHRvZG9MaXN0LCBlZGl0b3IsIGVsKTtcbiAgICAgICAgdGhpcy5zZWFyY2hFbCA9IHNlYXJjaEVsO1xuICAgICAgICB0aGlzLnNlY0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VhcmNoLXNlYycpWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICB0aGlzLnRpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoaW5nPnNwYW4nKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zZWFyY2hFbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VjRWwuc3R5bGUub3JkZXIgPSAnLTInO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KT0+e1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdGhpcy5zZWNFbCkgdGhpcy5zZWNFbC5zdHlsZS5vcmRlciA9ICcwJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWFyY2hFbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY2hlY2tEdWVEYXRlKCk7XG5cbiAgICAgICAgVXRpbHMucmVtb3ZlQWxsQ2hpbGRyZW4odGhpcy5lbCk7XG4gICAgICAgIGNvbnN0IGtleXdvcmQgPSB0aGlzLnNlYXJjaEVsLnZhbHVlO1xuICAgICAgICB0aGlzLnRpdGxlRWwuaW5uZXJUZXh0ID0ga2V5d29yZDtcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5saXN0LmZpbHRlcih0b2RvID0+IHRvZG8udGl0bGUuaW5jbHVkZXMoa2V5d29yZCkpO1xuICAgICAgICB0aGlzLmVsLmFwcGVuZCguLi5yZXMubWFwKHRvZG8gPT4gdGhpcy5jcmVhdGVUb2RvSXRlbSh0b2RvKSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoUmVzdWx0OyJdLCJzb3VyY2VSb290IjoiIn0=