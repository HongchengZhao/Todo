!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.selected={year:0,month:0,day:0},this.el=e,this.calendarIndicator=document.createElement("div"),this.calendarIndicator.classList.add("calendar-indicator"),this.renderIndicator(),this.calendarHead=document.createElement("div"),this.calendarHead.classList.add("calendar-head"),this.renderHead(),this.calendarBody=document.createElement("div"),this.calendarBody.classList.add("calendar-body");var t=new Date;this.month=t.getMonth()+1,this.year=t.getFullYear(),this.renderBody(this.month,this.year),this.selected.day=t.getDate(),this.selected.month=this.month,this.selected.year=this.year,this.el.append(this.calendarIndicator,this.calendarHead,this.calendarBody)}return e.prototype.renderIndicator=function(){var e=this,t=document.createElement("div");t.innerText="❮",t.classList.add("prev-month");var n=document.createElement("h3");n.classList.add("current-month");var i=document.createElement("div");i.classList.add("next-month"),i.innerText="❯",this.calendarIndicator.append(t,n,i),this.calendarIndicator.addEventListener("click",function(t){var n=t.target;n.classList.contains("prev-month")?(0==--e.month&&(e.month=12,e.year-=1),e.renderBody(e.month,e.year)):n.classList.contains("next-month")&&(13==++e.month&&(e.month=1,e.year+=1),e.renderBody(e.month,e.year))})},e.prototype.renderHead=function(){var e,t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){var t=document.createElement("div");return t.classList.add("weekday"),t.innerText=e,t});(e=this.calendarHead).append.apply(e,t)},e.prototype.renderBody=function(t,n){for(var i,r=this;this.calendarBody.firstChild;)this.calendarBody.removeChild(this.calendarBody.firstChild);this.calendarIndicator.getElementsByClassName("current-month")[0].innerHTML=e.months[t-1]+" "+n;for(var a=this.daysInMonth(t,n),s=[],o=0;o<a;++o){(u=document.createElement("div")).classList.add("cell-day","this-month"),u.innerText=""+(o+1),s.push(u)}var d=new Date;this.year===d.getFullYear()&&this.month===d.getMonth()+1&&s[d.getDate()-1].classList.add("selected");for(var c=new Date(n,t,1).getUTCDay()||7,l=1;l<c;++l){var u;(u=document.createElement("div")).classList.add("cell-day"),s.unshift(u)}(i=this.calendarBody).append.apply(i,s),this.calendarBody.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("this-month")){var n=r.calendarBody.getElementsByClassName("selected")[0];n&&n.classList.remove("selected"),t.classList.add("selected"),r.selected.day=parseInt(t.innerText),r.selected.month=r.month,r.selected.year=r.year}console.log(r.selected)})},e.prototype.daysInMonth=function(e,t){return new Date(t,e,0).getDate()},e.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.timePicker=e,this.hourPicker=document.createElement("select"),this.hourPicker.classList.add("hour-picker"),this.renderHourPicker(),this.minutePicker=document.createElement("select"),this.minutePicker.classList.add("minute-picker"),this.renderMinutePicker();var t=document.createTextNode(":");this.timePicker.append(this.hourPicker,t,this.minutePicker)}return e.prototype.renderHourPicker=function(){for(var e,t=[],n=0;n<24;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.hourPicker).append.apply(e,t)},e.prototype.renderMinutePicker=function(){for(var e,t=[],n=0;n<60;++n){var i=document.createElement("option");i.value=""+n,i.innerText=""+n,t.push(i)}(e=this.minutePicker).append.apply(e,t)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(0),a=n(4),s=n(7),o=function(){function e(){this.curTodoId="";var e=localStorage.getItem("todolist"),t=e?JSON.parse(e):[];this.editor=new i.default(t),this.todoList=new a.default(t,this.editor,document.getElementById("todo-list"));var n=new r.default(document.getElementById("calendar"));this.calendarTodoList=new s.default(t,this.editor,n,document.getElementById("todolist-by-day")),this.init()}return e.prototype.init=function(){var e=this;this.configRoutes(),document.getElementById("filters").addEventListener("change",function(t){var n=t.target,i=document.querySelector(".filter.selected");i&&i.classList.remove("selected"),n.parentElement.classList.add("selected"),"filter"===n.name&&(document.getElementById("filter-options").checked=!1,e.todoList.render(n.value))}),window.addEventListener("click",function(e){"filter-options"!==e.target.id&&(document.getElementById("filter-options").checked=!1)})},e.prototype.configRoutes=function(){var e=this,t=document.getElementById("route-tasks"),n=document.getElementById("route-calendar"),i=document.getElementById("tasks"),r=document.getElementById("schedule");t.addEventListener("click",function(r){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),i.classList.add("current-sec"),n.classList.remove("nav-active"),t.classList.add("nav-active"),e.todoList.render(),e.editor.el.classList.remove("show")}),n.addEventListener("click",function(i){document.getElementsByClassName("current-sec")[0].classList.remove("current-sec"),r.classList.add("current-sec"),t.classList.remove("nav-active"),n.classList.add("nav-active"),e.calendarTodoList.render(),e.editor.el.classList.remove("show")})},e}();window.addEventListener("load",function(){var e=new o;window.addEventListener("beforeunload",function(){localStorage.setItem("todolist",JSON.stringify(e.todoList.list))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(1),a=function(){function e(e){this.curTodoId="",this.list=e,this.el=document.getElementById("details"),this.editorClosed=new Event("editorClosed"),this.duedatePicker=new i.default(document.getElementById("due-date-picker")),this.alarmDatePicker=new i.default(document.getElementById("alarm-picker")),this.alarmTimePicker=new r.default(document.getElementById("time-picker")),this.handleClick=this.handleClick.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.el.addEventListener("click",this.handleClick);var t=document.getElementById("edit-todo-title");t&&t.addEventListener("blur",function(n){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.title=t.value)});var n=document.getElementById("todo-details");n&&n.addEventListener("blur",function(t){var i=e.list.find(function(t){return t.id===e.curTodoId});i&&(i.detail=n.value)})},e.prototype.open=function(e){this.curTodoId=e;var t=this.list.find(function(t){return t.id===e});if(t){var n=this.el.querySelector("input[name=todo-title]");n&&(n.value=t.title);var i=this.el.querySelector("label[for=due-date-control]");if(t.dueDate){var r=new Date(t.dueDate.toString());i.innerText="Due on "+r.toDateString()}var a=this.el.querySelector("label[for=alarm-control]");if(t.reminderTime){var s=new Date(t.reminderTime.toString());a.innerHTML="<span>Remind me at "+s.toLocaleTimeString()+"</span><span>On "+s.toDateString()+"</span>"}var o=document.getElementById("todo-details");t.detail&&(o.value=t.detail)}this.el.classList.add("show")},e.prototype.close=function(){this.el.classList.remove("show"),this.el.dispatchEvent(this.editorClosed)},e.prototype.handleClick=function(e){for(var t=this,n=0,i=e.composedPath();n<i.length;n++){var r=i[n];if(r.classList&&r.classList.contains("close-editor")){this.close();break}if(r.classList&&r.classList.contains("due-date-save")){var a=this.el.querySelector("label[for=due-date-control]"),s=this.duedatePicker.selected,o=s.year,d=s.month,c=s.day,l=new Date(o,d-1,c);a.innerText="Due on "+l.toDateString(),(f=this.list.find(function(e){return e.id===t.curTodoId}))&&(f.dueDate=l);break}if(r.classList&&r.classList.contains("due-date-cancel")){var u=document.getElementById("due-date-control");u&&(u.checked=!1);break}if(r.classList&&r.classList.contains("reminder-save")){var h=this.el.querySelector("label[for=alarm-control]"),m=this.alarmDatePicker.selected;o=m.year,d=m.month,c=m.day;if(0===o)break;var f,p=parseInt(this.alarmTimePicker.hourPicker.value),v=parseInt(this.alarmTimePicker.minutePicker.value);l=new Date(o,d-1,c,p,v);h.innerHTML="<span>Remind me at "+l.toLocaleTimeString()+"</span> \n                <span>On "+l.toDateString()+"</span>",(f=this.list.find(function(e){return e.id===t.curTodoId}))&&(f.reminderTime=l);break}if(r.classList&&r.classList.contains("reminder-cancel")){var y=document.getElementById("alarm-control");y&&(y.checked=!1);break}}},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(6),a=function(){function e(e,t,n){this.curTodoId="",this.swipedLeft=null,this.list=e,this.editor=t,this.el=n,this.render=this.render.bind(this),this.handleClick=this.handleClick.bind(this),this.handleChange=this.handleChange.bind(this),this.handleSwipeLeft=this.handleSwipeLeft.bind(this),this.init()}return e.prototype.init=function(){var e=this;this.render(),this.el.addEventListener("click",this.handleClick),this.el.addEventListener("change",this.handleChange),r.listenToSwipe("left",this.el,this.handleSwipeLeft),this.editor.el.addEventListener("editorClosed",function(t){e.render()});var t=document.getElementById("new-todo");t.addEventListener("keypress",function(n){if("Enter"===n.key){var r=t.value.trim(),a=new i.Todo(r);e.list.unshift(a),e.el.insertBefore(e.createTodoItem(a),e.el.firstElementChild)}}),window.addEventListener("click",function(){e.swipedLeft&&(e.swipedLeft.hidden=!0)})},e.prototype.render=function(e){var t,n=this;void 0===e&&(e="ALL");var a="ALL"===e?this.list:this.list.filter(function(t){return i.Status[t.status]===e});r.removeAllChildren(this.el),(t=this.el).append.apply(t,a.map(function(e){return n.createTodoItem(e)}))},e.prototype.createTodoItem=function(e){var t=document.createElement("li");t.classList.add("todo-item",e.status===i.Status.ACTIVE?"todo-active":"todo-completed"),t.setAttribute("data-id",e.id);var n=document.createElement("input");n.type="checkbox",n.checked=e.status===i.Status.COMPLETED,n.classList.add("toggle-status");var r=document.createElement("div");r.classList.add("todo-info"),r.innerText=e.title;var a=document.createElement("div");a.classList.add("todo-actions"),a.hidden=!0;var s=document.createElement("button");s.classList.add("edit-button"),s.innerHTML='<i class="material-icons">edit</i>';var o=document.createElement("button");return o.classList.add("del-button"),o.innerHTML='<i class="material-icons">delete_forever</i>',a.append(s,o),t.append(n,r,a),t},e.prototype.handleClick=function(e){for(var t=function(e){if(e.classList&&e.classList.contains("del-button")){var t=e.parentElement.parentElement;return n.list.splice(n.list.findIndex(function(e){return e.id===t.getAttribute("data-id")}),1),t.remove(),"break"}if(e.classList&&e.classList.contains("edit-button")){var i=e.parentElement.parentElement;return n.curTodoId=i.getAttribute("data-id")||"",n.editor.open(n.curTodoId),"break"}},n=this,i=0,r=e.composedPath();i<r.length;i++){if("break"===t(r[i]))break}},e.prototype.handleChange=function(e){var t=e.target.parentElement;if(t&&t.classList.contains("todo-item")){var n=this.list.find(function(e){return e.id===t.getAttribute("data-id")});n&&(n.status=n.status===i.Status.ACTIVE?i.Status.COMPLETED:i.Status.ACTIVE,t.classList.toggle("todo-completed"))}},e.prototype.handleSwipeLeft=function(e){for(var t=0,n=e.composedPath();t<n.length;t++){var i=n[t];if(i.classList.contains("todo-item")){this.swipedLeft&&(this.swipedLeft.hidden=!0),this.swipedLeft=i.getElementsByClassName("todo-actions")[0],this.swipedLeft.hidden=!1;break}}},e}();t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.COMPLETED=1]="COMPLETED"}(i||(i={})),t.Status=i;var r=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.id=Date.now()+Math.random().toString(36).substring(2),this.title=e,this.dueDate=t,this.reminderTime=n,this.detail="",this.status=i.ACTIVE}return e.prototype.complete=function(){this.status=i.COMPLETED},e.prototype.uncomplete=function(){this.status=i.ACTIVE},e}();t.Todo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.listenToSwipe=function(e,t,n){var i={x:0,y:0};t.addEventListener("touchstart",function(e){i.x=e.touches[0].clientX,i.y=e.touches[0].clientY}),t.addEventListener("touchend",function(t){var r=t.changedTouches[0].clientX-i.x,a=t.changedTouches[0].clientY-i.y;switch(e){case"left":r<0&&Math.abs(r)>30&&Math.abs(a)<20&&n(t)}})},t.delegate=function(e,t,n,i){e.addEventListener(n,function(e){for(var n=0,r=e.composedPath();n<r.length;n++)if(r[n]===t){i.call(t,e);break}})}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){function t(t,n,i,r){var a=e.call(this,t,n,r)||this;return a.calendar=i,a.handleDayChange=a.handleDayChange.bind(a),a.calendar.el.addEventListener("click",a.handleDayChange),a.render(),a}return r(t,e),t.prototype.render=function(){var e,t=this;if(this.calendar){a.removeAllChildren(this.el);var n=this.list.filter(function(e){if(!e.dueDate)return!1;var n=new Date(e.dueDate.toString()),i=t.calendar.selected,r=i.year,a=i.month,s=i.day;return n.getFullYear()===r&&n.getMonth()+1===a&&n.getDate()===s});(e=this.el).append.apply(e,n.map(function(e){return t.createTodoItem(e)}))}},t.prototype.handleDayChange=function(e){var t=e.target;t&&t.classList.contains("this-month")&&this.render()},t}(n(4).default);t.default=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbGVuZGFyLnRzIiwid2VicGFjazovLy8uL3NyYy90aW1lcGlja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RvZG8tZWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy90b2RvLWxpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FsZW5kYXItdG9kby1saXN0LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ2FsZW5kYXIiLCJjYWxlbmRhciIsInRoaXMiLCJzZWxlY3RlZCIsInllYXIiLCJtb250aCIsImRheSIsImVsIiwiY2FsZW5kYXJJbmRpY2F0b3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW5kZXJJbmRpY2F0b3IiLCJjYWxlbmRhckhlYWQiLCJyZW5kZXJIZWFkIiwiY2FsZW5kYXJCb2R5IiwidG9keSIsIkRhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwicmVuZGVyQm9keSIsImdldERhdGUiLCJhcHBlbmQiLCJfdGhpcyIsInByZXYiLCJpbm5lclRleHQiLCJjdXIiLCJuZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwidGFyZ2V0IiwiY29udGFpbnMiLCJoZWFkQ2hpbGRyZW4iLCJtYXAiLCJ3ZWVrZGF5IiwiX2EiLCJhcHBseSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpbm5lckhUTUwiLCJtb250aHMiLCJkYXlzIiwiZGF5c0luTW9udGgiLCJkYXlDZWxscyIsImRheUNlbGwiLCJwdXNoIiwidG9kYXkiLCJ3ZWVrZGF5T2ZGaXJzdERheSIsImdldFVUQ0RheSIsInVuc2hpZnQiLCJyZW1vdmUiLCJwYXJzZUludCIsImNvbnNvbGUiLCJsb2ciLCJkZWZhdWx0IiwiVGltZVBpY2tlciIsInRpbWVQaWNrZXIiLCJob3VyUGlja2VyIiwicmVuZGVySG91clBpY2tlciIsIm1pbnV0ZVBpY2tlciIsInJlbmRlck1pbnV0ZVBpY2tlciIsInRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm9wdGlvbnMiLCJvcHRpb24iLCJ0b2RvX2VkaXRvcl8xIiwiY2FsZW5kYXJfMSIsInRvZG9fbGlzdF8xIiwiY2FsZW5kYXJfdG9kb19saXN0XzEiLCJBcHAiLCJjdXJUb2RvSWQiLCJyZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGlzdCIsIkpTT04iLCJwYXJzZSIsImVkaXRvciIsInRvZG9MaXN0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYWxlbmRhclRvZG9MaXN0IiwiaW5pdCIsImNvbmZpZ1JvdXRlcyIsInF1ZXJ5U2VsZWN0b3IiLCJwYXJlbnRFbGVtZW50IiwiY2hlY2tlZCIsInJlbmRlciIsIndpbmRvdyIsImlkIiwidGFza3NOYXYiLCJjYWxlbmRhck5hdiIsInRhc2tzU2VjIiwic2NoZWR1bGVTZWMiLCJhcHAiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwidGltZXBpY2tlcl8xIiwiVG9kb0VkaXRvciIsInRvZG9saXN0IiwiZWRpdG9yQ2xvc2VkIiwiRXZlbnQiLCJkdWVkYXRlUGlja2VyIiwiYWxhcm1EYXRlUGlja2VyIiwiYWxhcm1UaW1lUGlja2VyIiwiaGFuZGxlQ2xpY2siLCJlZGl0VGl0bGUiLCJ0b2RvIiwiZmluZCIsInRpdGxlIiwidG9kb0RldGFpbHMiLCJkZXRhaWwiLCJvcGVuIiwidG9kb0lkIiwiZHVlRGF0ZSIsImR1ZWRhdGUiLCJ0b1N0cmluZyIsInRvRGF0ZVN0cmluZyIsInJlbWluZGVyVGltZSIsInJlbWluZGVyIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiY2xvc2UiLCJkaXNwYXRjaEV2ZW50IiwiX2kiLCJjb21wb3NlZFBhdGgiLCJsZW5ndGgiLCJfYiIsImRhdGV0aW1lIiwiZHVlZGF0ZUNvbnRyb2wiLCJfYyIsImhvdXIiLCJtaW4iLCJhbGFybUNvbnRyb2wiLCJtb2RlbF8xIiwiVXRpbHMiLCJUb2RvTGlzdCIsInN3aXBlZExlZnQiLCJoYW5kbGVDaGFuZ2UiLCJoYW5kbGVTd2lwZUxlZnQiLCJsaXN0ZW5Ub1N3aXBlIiwibmV3VG9kbyIsInRyaW0iLCJUb2RvIiwiaW5zZXJ0QmVmb3JlIiwiY3JlYXRlVG9kb0l0ZW0iLCJmaXJzdEVsZW1lbnRDaGlsZCIsImhpZGRlbiIsImZpbHRlciIsInRvZG9zIiwiU3RhdHVzIiwic3RhdHVzIiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJsaSIsIkFDVElWRSIsInNldEF0dHJpYnV0ZSIsImNoZWNrYm94IiwidHlwZSIsIkNPTVBMRVRFRCIsInRvZG9JbmZvIiwiYWN0aW9ucyIsImVkaXRCdG4iLCJkZWxldGVCdG4iLCJsaV8xIiwidGhpc18xIiwic3BsaWNlIiwiZmluZEluZGV4IiwiZ2V0QXR0cmlidXRlIiwidG9nZ2xlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInN1YnN0cmluZyIsImNvbXBsZXRlIiwidW5jb21wbGV0ZSIsImRpcmVjdG9pbiIsImxpc3RlbmVyIiwic3RhcnRQb3MiLCJ4IiwieSIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImRpZmZYIiwiY2hhbmdlZFRvdWNoZXMiLCJkaWZmWSIsImFicyIsImRlbGVnYXRlIiwic3JjIiwiaGFuZGxlciIsIkNhbGVuZGVyVG9kb0xpc3QiLCJfc3VwZXIiLCJoYW5kbGVEYXlDaGFuZ2UiLCJfX2V4dGVuZHMiLCJsaXN0T2ZEYXkiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFV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ciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsImNsYXNzIENhbGVuZGFyIHtcbiAgICBlbDogSFRNTEVsZW1lbnQ7XG4gICAgY2FsZW5kYXJJbmRpY2F0b3I6IEhUTUxFbGVtZW50O1xuICAgIGNhbGVuZGFySGVhZDogSFRNTEVsZW1lbnQ7XG4gICAgY2FsZW5kYXJCb2R5OiBIVE1MRWxlbWVudDtcbiAgICBtb250aDogbnVtYmVyO1xuICAgIHllYXI6IG51bWJlcjtcbiAgICBzZWxlY3RlZCA9IHtcbiAgICAgICAgeWVhcjogMCxcbiAgICAgICAgbW9udGg6IDAsXG4gICAgICAgIGRheTogMFxuICAgIH07XG4gICAgc3RhdGljIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuICAgIGNvbnN0cnVjdG9yKGNhbGVuZGFyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsID0gY2FsZW5kYXI7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNhbGVuZGFySW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2NhbGVuZGFyLWluZGljYXRvcicpO1xuICAgICAgICB0aGlzLnJlbmRlckluZGljYXRvcigpO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJIZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJIZWFkLmNsYXNzTGlzdC5hZGQoJ2NhbGVuZGFyLWhlYWQnKTtcbiAgICAgICAgdGhpcy5yZW5kZXJIZWFkKCk7XG5cblxuICAgICAgICB0aGlzLmNhbGVuZGFyQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyQm9keS5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1ib2R5Jyk7XG4gICAgICAgIGNvbnN0IHRvZHkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLm1vbnRoID0gdG9keS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgdGhpcy55ZWFyID0gdG9keS5nZXRGdWxsWWVhcigpO1xuICAgICAgICB0aGlzLnJlbmRlckJvZHkodGhpcy5tb250aCwgdGhpcy55ZWFyKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGVkLmRheSA9IHRvZHkuZ2V0RGF0ZSgpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkLm1vbnRoID0gdGhpcy5tb250aDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZC55ZWFyID0gdGhpcy55ZWFyO1xuXG4gICAgICAgIHRoaXMuZWwuYXBwZW5kKHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IsIHRoaXMuY2FsZW5kYXJIZWFkLCB0aGlzLmNhbGVuZGFyQm9keSk7XG4gICAgfVxuXG4gICAgcmVuZGVySW5kaWNhdG9yKCkge1xuICAgICAgICBjb25zdCBwcmV2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHByZXYuaW5uZXJUZXh0ID0gJ+Kdric7XG4gICAgICAgIHByZXYuY2xhc3NMaXN0LmFkZCgncHJldi1tb250aCcpO1xuICAgICAgICBjb25zdCBjdXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBjdXIuY2xhc3NMaXN0LmFkZCgnY3VycmVudC1tb250aCcpO1xuICAgICAgICBjb25zdCBuZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5leHQuY2xhc3NMaXN0LmFkZCgnbmV4dC1tb250aCcpO1xuICAgICAgICBuZXh0LmlubmVyVGV4dCA9ICfina8nO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJJbmRpY2F0b3IuYXBwZW5kKHByZXYsIGN1ciwgbmV4dCk7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckluZGljYXRvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJldi1tb250aCcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKC0tdGhpcy5tb250aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoID0gMTI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVhciAtPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJvZHkodGhpcy5tb250aCwgdGhpcy55ZWFyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmV4dC1tb250aCcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCsrdGhpcy5tb250aCA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVhciArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJvZHkodGhpcy5tb250aCwgdGhpcy55ZWFyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVySGVhZCgpIHtcbiAgICAgICAgY29uc3Qgd2Vla2RheXMgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddO1xuICAgICAgICBjb25zdCBoZWFkQ2hpbGRyZW4gPSB3ZWVrZGF5cy5tYXAoZGF5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHdlZWtkYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHdlZWtkYXkuY2xhc3NMaXN0LmFkZCgnd2Vla2RheScpO1xuICAgICAgICAgICAgd2Vla2RheS5pbm5lclRleHQgPSBkYXk7XG4gICAgICAgICAgICByZXR1cm4gd2Vla2RheTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJIZWFkLmFwcGVuZCguLi5oZWFkQ2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHJlbmRlckJvZHkobW9udGg6IG51bWJlciwgeWVhcjogbnVtYmVyKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmNhbGVuZGFyQm9keS5maXJzdENoaWxkKSB0aGlzLmNhbGVuZGFyQm9keS5yZW1vdmVDaGlsZCh0aGlzLmNhbGVuZGFyQm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgY29uc3QgY3VyTW9udGggPSB0aGlzLmNhbGVuZGFySW5kaWNhdG9yLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2N1cnJlbnQtbW9udGgnKVswXTtcbiAgICAgICAgY3VyTW9udGguaW5uZXJIVE1MID0gYCR7Q2FsZW5kYXIubW9udGhzW21vbnRoIC0gMV19ICR7eWVhcn1gO1xuXG4gICAgICAgIGNvbnN0IGRheXMgPSB0aGlzLmRheXNJbk1vbnRoKG1vbnRoLCB5ZWFyKTtcblxuICAgICAgICBjb25zdCBkYXlDZWxsczogSFRNTEVsZW1lbnRbXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGtleSA9IDA7IGtleSA8IGRheXM7ICsra2V5KSB7XG4gICAgICAgICAgICBjb25zdCBkYXlDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkYXlDZWxsLmNsYXNzTGlzdC5hZGQoJ2NlbGwtZGF5JywgJ3RoaXMtbW9udGgnKTtcbiAgICAgICAgICAgIGRheUNlbGwuaW5uZXJUZXh0ID0gYCR7a2V5ICsgMX1gO1xuICAgICAgICAgICAgZGF5Q2VsbHMucHVzaChkYXlDZWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMueWVhciA9PT0gdG9kYXkuZ2V0RnVsbFllYXIoKSAmJiB0aGlzLm1vbnRoID09PSB0b2RheS5nZXRNb250aCgpICsgMSkge1xuICAgICAgICAgICAgZGF5Q2VsbHNbdG9kYXkuZ2V0RGF0ZSgpIC0gMV0uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdlZWtkYXlPZkZpcnN0RGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldFVUQ0RheSgpIHx8IDc7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgd2Vla2RheU9mRmlyc3REYXk7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgZGF5Q2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGF5Q2VsbC5jbGFzc0xpc3QuYWRkKCdjZWxsLWRheScpO1xuICAgICAgICAgICAgZGF5Q2VsbHMudW5zaGlmdChkYXlDZWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGVuZGFyQm9keS5hcHBlbmQoLi4uZGF5Q2VsbHMpO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJCb2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGhpcy1tb250aCcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLmNhbGVuZGFyQm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpWzBdO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkICYmIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kYXkgPSBwYXJzZUludCh0YXJnZXQuaW5uZXJUZXh0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLm1vbnRoID0gdGhpcy5tb250aDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLnllYXIgPSB0aGlzLnllYXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGF5c0luTW9udGgobW9udGg6IG51bWJlciwgeWVhcjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMCkuZ2V0RGF0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXI7IiwiY2xhc3MgVGltZVBpY2tlciB7XG4gICAgdGltZVBpY2tlcjogSFRNTEVsZW1lbnQ7XG4gICAgaG91clBpY2tlcjogSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgbWludXRlUGlja2VyOiBIVE1MU2VsZWN0RWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHRpbWVQaWNrZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMudGltZVBpY2tlciA9IHRpbWVQaWNrZXI7XG4gICAgICAgIHRoaXMuaG91clBpY2tlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICB0aGlzLmhvdXJQaWNrZXIuY2xhc3NMaXN0LmFkZCgnaG91ci1waWNrZXInKTtcbiAgICAgICAgdGhpcy5yZW5kZXJIb3VyUGlja2VyKCk7XG5cbiAgICAgICAgdGhpcy5taW51dGVQaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgdGhpcy5taW51dGVQaWNrZXIuY2xhc3NMaXN0LmFkZCgnbWludXRlLXBpY2tlcicpO1xuICAgICAgICB0aGlzLnJlbmRlck1pbnV0ZVBpY2tlcigpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnOicpO1xuXG4gICAgICAgIHRoaXMudGltZVBpY2tlci5hcHBlbmQodGhpcy5ob3VyUGlja2VyLCB0ZXh0LCB0aGlzLm1pbnV0ZVBpY2tlcik7XG4gICAgfVxuXG4gICAgcmVuZGVySG91clBpY2tlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI0OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gYCR7aX1gO1xuICAgICAgICAgICAgb3B0aW9uLmlubmVyVGV4dCA9IGAke2l9YDtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ob3VyUGlja2VyLmFwcGVuZCguLi5vcHRpb25zKTtcbiAgICB9XG5cbiAgICByZW5kZXJNaW51dGVQaWNrZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGAke2l9YDtcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBgJHtpfWA7XG4gICAgICAgICAgICBvcHRpb25zLnB1c2gob3B0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWludXRlUGlja2VyLmFwcGVuZCguLi5vcHRpb25zKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVQaWNrZXI7IiwiaW1wb3J0IHsgVG9kbywgU3RhdHVzIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgVG9kb0VkaXRvciBmcm9tICcuL3RvZG8tZWRpdG9yJztcbmltcG9ydCBDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUb2RvTGlzdCBmcm9tICcuL3RvZG8tbGlzdCc7XG5pbXBvcnQgQ2FsZW5kYXJUb2RvTGlzdCBmcm9tICcuL2NhbGVuZGFyLXRvZG8tbGlzdCc7XG5cbmNsYXNzIEFwcCB7XG4gICAgdG9kb0xpc3Q6IFRvZG9MaXN0O1xuICAgIGVkaXRvcjogVG9kb0VkaXRvcjtcbiAgICBjYWxlbmRhclRvZG9MaXN0OiBDYWxlbmRhclRvZG9MaXN0O1xuICAgIGN1clRvZG9JZCA9ICcnO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIExvYWQgZGF0YSBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICAgICAgY29uc3QgcmVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9saXN0Jyk7XG4gICAgICAgIGNvbnN0IGxpc3QgPSByZXMgPyBKU09OLnBhcnNlKHJlcykgOiBbXTtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgVG9kb0VkaXRvcihsaXN0KTtcbiAgICAgICAgdGhpcy50b2RvTGlzdCA9IG5ldyBUb2RvTGlzdChsaXN0LCB0aGlzLmVkaXRvciwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tbGlzdCcpIGFzIEhUTUxVTGlzdEVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNhbGVuZGFyID0gbmV3IENhbGVuZGFyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxlbmRhcicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5jYWxlbmRhclRvZG9MaXN0ID0gbmV3IENhbGVuZGFyVG9kb0xpc3QobGlzdCwgdGhpcy5lZGl0b3IsIGNhbGVuZGFyLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb2xpc3QtYnktZGF5JykgYXMgSFRNTEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnUm91dGVzKCk7XG5cbiAgICAgICAgY29uc3QgZmlsdGVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGZpbHRlcnMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlci5zZWxlY3RlZCcpO1xuICAgICAgICAgICAgc2VsZWN0ZWQgJiYgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgKHRhcmdldC5wYXJlbnRFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2ZpbHRlcicpIHtcbiAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1vcHRpb25zJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKHRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuaWQgIT09ICdmaWx0ZXItb3B0aW9ucycpIHtcbiAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1vcHRpb25zJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25maWdSb3V0ZXMoKSB7XG4gICAgICAgIGNvbnN0IHRhc2tzTmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdXRlLXRhc2tzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyTmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdXRlLWNhbGVuZGFyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHRhc2tzU2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHNjaGVkdWxlU2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjaGVkdWxlJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgdGFza3NOYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXJyZW50LXNlYycpWzBdO1xuICAgICAgICAgICAgY3VycmVudFNlYy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50LXNlYycpO1xuICAgICAgICAgICAgdGFza3NTZWMuY2xhc3NMaXN0LmFkZCgnY3VycmVudC1zZWMnKTtcbiAgICAgICAgICAgIGNhbGVuZGFyTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRhc2tzTmF2LmNsYXNzTGlzdC5hZGQoJ25hdi1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMudG9kb0xpc3QucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbGVuZGFyTmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3VycmVudC1zZWMnKVswXTtcbiAgICAgICAgICAgIGN1cnJlbnRTZWMuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudC1zZWMnKTtcbiAgICAgICAgICAgIHNjaGVkdWxlU2VjLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtc2VjJyk7XG4gICAgICAgICAgICB0YXNrc05hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYWN0aXZlJyk7XG4gICAgICAgICAgICBjYWxlbmRhck5hdi5jbGFzc0xpc3QuYWRkKCduYXYtYWN0aXZlJyk7XG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyVG9kb0xpc3QucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb2xpc3QnLCBKU09OLnN0cmluZ2lmeShhcHAudG9kb0xpc3QubGlzdCkpO1xuICAgIH0pO1xufSk7IiwiaW1wb3J0IHsgVG9kbyB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0IENhbGVuZGFyIGZyb20gJy4vY2FsZW5kYXInO1xuaW1wb3J0IFRpbWVQaWNrZXIgZnJvbSAnLi90aW1lcGlja2VyJztcblxuY2xhc3MgVG9kb0VkaXRvciB7XG4gICAgbGlzdDogVG9kb1tdO1xuICAgIGVsOiBIVE1MRWxlbWVudDtcbiAgICBkdWVkYXRlUGlja2VyOiBDYWxlbmRhcjtcbiAgICBhbGFybURhdGVQaWNrZXI6IENhbGVuZGFyO1xuICAgIGFsYXJtVGltZVBpY2tlcjogVGltZVBpY2tlcjtcbiAgICBjdXJUb2RvSWQ6IHN0cmluZyA9ICcnO1xuICAgIGVkaXRvckNsb3NlZDogRXZlbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih0b2RvbGlzdDogVG9kb1tdKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IHRvZG9saXN0O1xuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RldGFpbHMnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgdGhpcy5lZGl0b3JDbG9zZWQgPSBuZXcgRXZlbnQoJ2VkaXRvckNsb3NlZCcpO1xuICAgICAgICB0aGlzLmR1ZWRhdGVQaWNrZXIgPSBuZXcgQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1ZS1kYXRlLXBpY2tlcicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5hbGFybURhdGVQaWNrZXIgPSBuZXcgQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsYXJtLXBpY2tlcicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5hbGFybVRpbWVQaWNrZXIgPSBuZXcgVGltZVBpY2tlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1waWNrZXInKSBhcyBIVE1MRWxlbWVudCk7XG5cbiAgICAgICAgLy8gYmluZCBoYW5kbGVyc1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcblxuICAgICAgICBjb25zdCBlZGl0VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC10b2RvLXRpdGxlJyk7XG4gICAgICAgIGVkaXRUaXRsZSAmJiBlZGl0VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8udGl0bGUgPSAoZWRpdFRpdGxlIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0b2RvRGV0YWlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWRldGFpbHMnKTtcbiAgICAgICAgdG9kb0RldGFpbHMgJiYgdG9kb0RldGFpbHMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8uZGV0YWlsID0gKHRvZG9EZXRhaWxzIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIG9wZW4gZWRpdG9yXG4gICAgICovXG4gICAgb3Blbih0b2RvSWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmN1clRvZG9JZCA9IHRvZG9JZDtcbiAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdG9kb0lkKTtcbiAgICAgICAgaWYgKHRvZG8pIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXRvZG8tdGl0bGVdJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0aXRsZSkgdGl0bGUudmFsdWUgPSB0b2RvLnRpdGxlO1xuXG4gICAgICAgICAgICBjb25zdCBkdWVEYXRlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9ZHVlLWRhdGUtY29udHJvbF0nKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHRvZG8uZHVlRGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgZHVlRGF0ZS5pbm5lclRleHQgPSBgRHVlIG9uICR7ZHVlZGF0ZS50b0RhdGVTdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZW1pbmRlclRpbWUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1hbGFybS1jb250cm9sXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRvZG8ucmVtaW5kZXJUaW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtaW5kZXIgPSBuZXcgRGF0ZSh0b2RvLnJlbWluZGVyVGltZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICByZW1pbmRlclRpbWUuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgYDxzcGFuPlJlbWluZCBtZSBhdCAke3JlbWluZGVyLnRvTG9jYWxlVGltZVN0cmluZygpfTwvc3Bhbj48c3Bhbj5PbiAke3JlbWluZGVyLnRvRGF0ZVN0cmluZygpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkZXRhaWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kby1kZXRhaWxzJykgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0b2RvLmRldGFpbCkgZGV0YWlsLnZhbHVlID0gdG9kby5kZXRhaWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICB0aGlzLmVsLmRpc3BhdGNoRXZlbnQodGhpcy5lZGl0b3JDbG9zZWQpO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrKGV2OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGZvciAoY29uc3QgZWwgb2YgKGV2LmNvbXBvc2VkUGF0aCgpIGFzIEhUTUxFbGVtZW50W10pKSB7XG4gICAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UtZWRpdG9yJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2R1ZS1kYXRlLXNhdmUnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZURhdGUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1kdWUtZGF0ZS1jb250cm9sXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5kdWVkYXRlUGlja2VyLnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXkpO1xuICAgICAgICAgICAgICAgIGR1ZURhdGUuaW5uZXJUZXh0ID0gYER1ZSBvbiAke2RhdGV0aW1lLnRvRGF0ZVN0cmluZygpfWA7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b2RvID0gdGhpcy5saXN0LmZpbmQodG9kbyA9PiB0b2RvLmlkID09PSB0aGlzLmN1clRvZG9JZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvZG8pIHRvZG8uZHVlRGF0ZSA9IGRhdGV0aW1lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkdWUtZGF0ZS1jYW5jZWwnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGVDb250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1ZS1kYXRlLWNvbnRyb2wnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChkdWVkYXRlQ29udHJvbCkgZHVlZGF0ZUNvbnRyb2wuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZW1pbmRlci1zYXZlJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1pbmRlclRpbWUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1hbGFybS1jb250cm9sXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5hbGFybURhdGVQaWNrZXIuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHllYXIgPT09IDApIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaG91ciA9IHBhcnNlSW50KHRoaXMuYWxhcm1UaW1lUGlja2VyLmhvdXJQaWNrZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IHBhcnNlSW50KHRoaXMuYWxhcm1UaW1lUGlja2VyLm1pbnV0ZVBpY2tlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgaG91ciwgbWluKTtcblxuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZS5pbm5lckhUTUwgPSBgPHNwYW4+UmVtaW5kIG1lIGF0ICR7ZGF0ZXRpbWUudG9Mb2NhbGVUaW1lU3RyaW5nKCl9PC9zcGFuPiBcbiAgICAgICAgICAgICAgICA8c3Bhbj5PbiAke2RhdGV0aW1lLnRvRGF0ZVN0cmluZygpfTwvc3Bhbj5gO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubGlzdC5maW5kKHRvZG8gPT4gdG9kby5pZCA9PT0gdGhpcy5jdXJUb2RvSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0b2RvKSB0b2RvLnJlbWluZGVyVGltZSA9IGRhdGV0aW1lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZW1pbmRlci1jYW5jZWwnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsYXJtQ29udHJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGFybS1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoYWxhcm1Db250cm9sKSBhbGFybUNvbnRyb2wuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvRWRpdG9yOyIsImltcG9ydCB7IFRvZG8sIFN0YXR1cyB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgVG9kb0VkaXRvciBmcm9tICcuL3RvZG8tZWRpdG9yJztcblxuY2xhc3MgVG9kb0xpc3Qge1xuICAgIGxpc3Q6IFRvZG9bXTtcbiAgICBlbDogSFRNTEVsZW1lbnQ7XG4gICAgZWRpdG9yOiBUb2RvRWRpdG9yO1xuICAgIGN1clRvZG9JZDogc3RyaW5nID0gJyc7XG4gICAgc3dpcGVkTGVmdDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHRvZG9MaXN0OiBUb2RvW10sIGVkaXRvcjogVG9kb0VkaXRvciwgZWw6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMubGlzdCA9IHRvZG9MaXN0O1xuICAgICAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gYmluZCBoYW5kbGVyc1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlU3dpcGVMZWZ0ID0gdGhpcy5oYW5kbGVTd2lwZUxlZnQuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVDaGFuZ2UpO1xuICAgICAgICBVdGlscy5saXN0ZW5Ub1N3aXBlKCdsZWZ0JywgdGhpcy5lbCwgdGhpcy5oYW5kbGVTd2lwZUxlZnQpO1xuXG4gICAgICAgIHRoaXMuZWRpdG9yLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2VkaXRvckNsb3NlZCcsIChldikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbmV3VG9kbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctdG9kbycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIG5ld1RvZG8uYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGlmIChldi5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IG5ld1RvZG8udmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvZG8gPSBuZXcgVG9kbyh0aXRsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnVuc2hpZnQodG9kbyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVsLmluc2VydEJlZm9yZSh0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pLCB0aGlzLmVsLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3dpcGVkTGVmdCkgdGhpcy5zd2lwZWRMZWZ0LmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcihmaWx0ZXI6IHN0cmluZyA9ICdBTEwnKSB7XG4gICAgICAgIGNvbnN0IHRvZG9zID0gZmlsdGVyID09PSAnQUxMJyA/IHRoaXMubGlzdCA6IHRoaXMubGlzdC5maWx0ZXIodG9kbyA9PiBTdGF0dXNbdG9kby5zdGF0dXNdID09PSBmaWx0ZXIpO1xuICAgICAgICBVdGlscy5yZW1vdmVBbGxDaGlsZHJlbih0aGlzLmVsKTtcblxuICAgICAgICB0aGlzLmVsLmFwcGVuZCguLi50b2Rvcy5tYXAodG9kbyA9PiB0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlVG9kb0l0ZW0odG9kbzogVG9kbykge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3RvZG8taXRlbScsIHRvZG8uc3RhdHVzID09PSBTdGF0dXMuQUNUSVZFID8gJ3RvZG8tYWN0aXZlJyA6ICd0b2RvLWNvbXBsZXRlZCcpO1xuICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCB0b2RvLmlkKTtcblxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdG9kby5zdGF0dXMgPT09IFN0YXR1cy5DT01QTEVURUQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ3RvZ2dsZS1zdGF0dXMnKTtcblxuICAgICAgICBjb25zdCB0b2RvSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0b2RvSW5mby5jbGFzc0xpc3QuYWRkKCd0b2RvLWluZm8nKTtcbiAgICAgICAgdG9kb0luZm8uaW5uZXJUZXh0ID0gdG9kby50aXRsZTtcblxuICAgICAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGFjdGlvbnMuY2xhc3NMaXN0LmFkZCgndG9kby1hY3Rpb25zJyk7XG4gICAgICAgIGFjdGlvbnMuaGlkZGVuID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnZWRpdC1idXR0b24nKTtcbiAgICAgICAgZWRpdEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmVkaXQ8L2k+YDtcblxuICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2RlbC1idXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlX2ZvcmV2ZXI8L2k+YDtcblxuICAgICAgICBhY3Rpb25zLmFwcGVuZChlZGl0QnRuLCBkZWxldGVCdG4pO1xuXG4gICAgICAgIGxpLmFwcGVuZChjaGVja2JveCwgdG9kb0luZm8sIGFjdGlvbnMpO1xuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiAoZXYuY29tcG9zZWRQYXRoKCkgYXMgSFRNTEVsZW1lbnRbXSkpIHtcblxuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbC1idXR0b24nKSkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogZGVsZXRlIHRvZG8gaXRlbVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gKGVsLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZSh0aGlzLmxpc3QuZmluZEluZGV4KHRvZG8gPT4gdG9kby5pZCA9PT0gbGkuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpLCAxKTtcbiAgICAgICAgICAgICAgICBsaS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZWRpdC1idXR0b24nKSkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogZWRpdCB0b2RvIGl0ZW1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBsaSA9IChlbC5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuY3VyVG9kb0lkID0gbGkuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub3Blbih0aGlzLmN1clRvZG9JZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGhhbmRsZSBzdGF0dXMgY2hhbmdlXG4gICAgICovXG4gICAgaGFuZGxlQ2hhbmdlKGV2OiBFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGxpID0gdGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGlmIChsaSAmJiBsaS5jbGFzc0xpc3QuY29udGFpbnMoJ3RvZG8taXRlbScpKSB7XG4gICAgICAgICAgICBjb25zdCB0b2RvID0gdGhpcy5saXN0LmZpbmQodG9kbyA9PiB0b2RvLmlkID09PSBsaS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7XG4gICAgICAgICAgICBpZiAodG9kbykge1xuICAgICAgICAgICAgICAgIHRvZG8uc3RhdHVzID0gdG9kby5zdGF0dXMgPT09IFN0YXR1cy5BQ1RJVkUgPyBTdGF0dXMuQ09NUExFVEVEIDogU3RhdHVzLkFDVElWRTtcbiAgICAgICAgICAgICAgICBsaS5jbGFzc0xpc3QudG9nZ2xlKCd0b2RvLWNvbXBsZXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlU3dpcGVMZWZ0KGV2OiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGZvciAoY29uc3QgZWwgb2YgKGV2LmNvbXBvc2VkUGF0aCgpIGFzIEhUTUxFbGVtZW50W10pKSB7XG4gICAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b2RvLWl0ZW0nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN3aXBlZExlZnQpIHRoaXMuc3dpcGVkTGVmdC5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zd2lwZWRMZWZ0ID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndG9kby1hY3Rpb25zJylbMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2lwZWRMZWZ0LmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvTGlzdDsiLCJlbnVtIFN0YXR1cyB7XG4gICAgQUNUSVZFLFxuICAgIENPTVBMRVRFRFxufVxuXG5jbGFzcyBUb2RvIHtcbiAgICByZWFkb25seSBpZCA9IERhdGUubm93KCkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBkdWVEYXRlOiBEYXRlIHwgbnVsbDtcbiAgICBkZXRhaWw6IHN0cmluZztcbiAgICByZW1pbmRlclRpbWU6IERhdGUgfCBudWxsO1xuICAgIHN0YXR1czogU3RhdHVzO1xuXG4gICAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZywgZHVlRGF0ZTogRGF0ZSB8IG51bGwgPSBudWxsLCByZW1pbmRlclRpbWU6IERhdGUgfCBudWxsID0gbnVsbCkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgICAgIHRoaXMucmVtaW5kZXJUaW1lID0gcmVtaW5kZXJUaW1lO1xuICAgICAgICB0aGlzLmRldGFpbCA9ICcnO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IFN0YXR1cy5BQ1RJVkU7XG4gICAgfVxuXG4gICAgY29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gU3RhdHVzLkNPTVBMRVRFRDtcbiAgICB9XG5cbiAgICB1bmNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IFN0YXR1cy5BQ1RJVkU7XG4gICAgfVxufVxuXG5cbmV4cG9ydCB7IFRvZG8sIFN0YXR1cyB9OyIsImZ1bmN0aW9uIHJlbW92ZUFsbENoaWxkcmVuKGVsOiBIVE1MRWxlbWVudCkge1xuICAgIHdoaWxlIChlbC5maXJzdENoaWxkKSBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcbn1cblxuZnVuY3Rpb24gbGlzdGVuVG9Td2lwZShkaXJlY3RvaW46IHN0cmluZywgZWw6IEhUTUxFbGVtZW50LCBsaXN0ZW5lcjogKGV2OiBUb3VjaEV2ZW50KSA9PiBhbnkpIHtcbiAgICBjb25zdCBzdGFydFBvcyA9IHsgeDogMCwgeTogMCB9O1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXYpID0+IHtcbiAgICAgICAgc3RhcnRQb3MueCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgc3RhcnRQb3MueSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9KTtcblxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2KSA9PiB7XG4gICAgICAgIGNvbnN0IGRpZmZYID0gZXYuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHN0YXJ0UG9zLng7XG4gICAgICAgIGNvbnN0IGRpZmZZID0gZXYuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIHN0YXJ0UG9zLnk7XG5cbiAgICAgICAgc3dpdGNoIChkaXJlY3RvaW4pIHtcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIGlmIChkaWZmWCA8IDAgJiYgTWF0aC5hYnMoZGlmZlgpID4gMzAgJiYgTWF0aC5hYnMoZGlmZlkpIDwgMjApIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5mdW5jdGlvbiBkZWxlZ2F0ZSh0YXJnZXQ6IEhUTUxFbGVtZW50LCBzcmM6IEhUTUxFbGVtZW50LCB0eXBlOiBzdHJpbmcsIGhhbmRsZXI6IChldjogRXZlbnQpID0+IHZvaWQpIHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCAoZXYpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiBldi5jb21wb3NlZFBhdGgoKSkge1xuICAgICAgICAgICAgaWYgKGVsID09PSBzcmMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwoc3JjLCBldik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgcmVtb3ZlQWxsQ2hpbGRyZW4sIGxpc3RlblRvU3dpcGUsIGRlbGVnYXRlIH07IiwiaW1wb3J0IHsgVG9kbywgU3RhdHVzIH0gZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUb2RvRWRpdG9yIGZyb20gJy4vdG9kby1lZGl0b3InO1xuaW1wb3J0IFRvZG9MaXN0IGZyb20gJy4vdG9kby1saXN0JztcblxuY2xhc3MgQ2FsZW5kZXJUb2RvTGlzdCBleHRlbmRzIFRvZG9MaXN0IHtcbiAgICBjYWxlbmRhcjogQ2FsZW5kYXJcbiAgICBjb25zdHJ1Y3Rvcih0b2RvTGlzdDogVG9kb1tdLCBlZGl0b3I6IFRvZG9FZGl0b3IsIGNhbGVuZGFyOiBDYWxlbmRhciwgZWw6IEhUTUxFbGVtZW50KSB7XG5cbiAgICAgICAgc3VwZXIodG9kb0xpc3QsIGVkaXRvciwgZWwpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyID0gY2FsZW5kYXI7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVEYXlDaGFuZ2UgPSB0aGlzLmhhbmRsZURheUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVEYXlDaGFuZ2UpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbGVuZGFyKSByZXR1cm47XG5cbiAgICAgICAgVXRpbHMucmVtb3ZlQWxsQ2hpbGRyZW4odGhpcy5lbCk7XG5cbiAgICAgICAgY29uc3QgbGlzdE9mRGF5ID0gdGhpcy5saXN0LmZpbHRlcigodG9kbykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0b2RvLmR1ZURhdGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gdGhpcy5jYWxlbmRhci5zZWxlY3RlZDtcbiAgICAgICAgICAgIHJldHVybiBkdWVkYXRlLmdldEZ1bGxZZWFyKCkgPT09IHllYXIgJiYgZHVlZGF0ZS5nZXRNb250aCgpICsgMSA9PT0gbW9udGggJiYgZHVlZGF0ZS5nZXREYXRlKCkgPT09IGRheTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWwuYXBwZW5kKC4uLmxpc3RPZkRheS5tYXAodG9kbyA9PiB0aGlzLmNyZWF0ZVRvZG9JdGVtKHRvZG8pKSk7XG4gICAgfVxuXG4gICAgaGFuZGxlRGF5Q2hhbmdlKGV2OiBFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgLy8gZmluZCB0b2RvIGl0ZW1zIGR1ZSBvbiB0aGUgc2VsZWN0ZWQgZGF5XG4gICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGhpcy1tb250aCcpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYWxlbmRlclRvZG9MaXN0OyJdLCJzb3VyY2VSb290IjoiIn0=